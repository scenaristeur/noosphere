(self["webpackChunknoosphere"]=self["webpackChunknoosphere"]||[]).push([[189],{5830:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return iE}});var r={};n.r(r),n.d(r,{attentionMarkers:function(){return zu},contentInitial:function(){return Bu},disable:function(){return $u},document:function(){return Nu},flow:function(){return Lu},flowInitial:function(){return Iu},insideSpan:function(){return ju},string:function(){return Ru},text:function(){return Pu}});var i=function(){var t=this,e=t._self._c;return e("div",[t._v(" roomId : "+t._s(t.roomId)+" "),e("div",{ref:"editor",staticClass:"editor"}),t._v(" "+t._s(t.user)+" ")])},o=[],a=(n(1703),(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.themeMustInstalled="themeMustInstalled",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.missingIcon="missingIcon",t.vueRendererCallOutOfScope="vueRendererCallOutOfScope",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t.repeatCallsToMenuWrapperInit="repeatCallsToMenuWrapperInit",t.missingMenuWrapper="missingMenuWrapper",t))(a||{}));class s extends Error{constructor(t,e){super(e),this.name="MilkdownError",this.code=t}}const l=(t,e)=>"function"==typeof e?"[Function]":e,u=t=>JSON.stringify(t,l),h=t=>new s(a.docTypeError,`Doc type error, unsupported type: ${u(t)}`),d=t=>new s(a.contextNotFound,`Context "${t}" not found, do you forget to inject it?`),f=t=>new s(a.timerNotFound,`Timer "${t}" not found, do you forget to record it?`),p=()=>new s(a.ctxCallOutOfScope,"Should not call a context out of the plugin."),g=(...t)=>{const e=t.reduce(((t,e)=>{if(!e)return t;const n=t=>Array.isArray(t)?t.map((t=>n(t))).join(", "):t.toJSON?u(t.toJSON()):t.spec?u(t.spec):t.toString();return`${t}, ${n(e)}`}),"Create prosemirror node from remark failed in parser");return new s(a.createNodeInParserFail,e)},m=()=>new s(a.stackOverFlow,"Stack over flow, cannot pop on an empty stack."),y=t=>new s(a.parserMatchError,`Cannot match target parser for node: ${u(t)}.`),b=t=>new s(a.serializerMatchError,`Cannot match target serializer for node: ${u(t)}.`),v=(t,e)=>new s(a.getAtomFromSchemaFail,`Cannot get ${t}: ${e} from schema.`),_=t=>new s(a.expectDomTypeError,`Expect to be a dom, but get: ${u(t)}.`),x=()=>new s(a.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized"),w=()=>new s(a.themeMustInstalled,"It seems that no theme found in editor, please make sure you have use theme in front of all plugins.\nIf you prefer to use an empty theme, you can use `themeFactory({})`."),k=()=>new s(a.missingRootElement,"Missing root element, milkdown cannot find root element of the editor."),D=t=>new s(a.missingIcon,`Missing icon in theme, milkdown cannot find icon "${t}" in theme.`),C=()=>new s(a.ctxNotBind,"Context not bind, please make sure the plugin has been initialized."),E=()=>new s(a.missingYjsDoc,"Missing yjs doc, please make sure you have bind one."),S=()=>new s(a.missingMenuWrapper,"Missing menu wrapper, should init menu wrapper first.");var T=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},A=(t,e,n)=>(T(t,e,"read from private field"),n?n.call(t):e.get(t)),M=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},F=(t,e,n,r)=>(T(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const O=()=>{const t=new Map;return{getSlice:e=>{const n="string"==typeof e?[...t.values()].find((t=>t.name===e)):t.get(e.id);if(!n){const t="string"==typeof e?e:e.sliceName;throw d(t)}return n},sliceMap:t}},N=t=>Array.isArray(t)?[...t]:"object"==typeof t?{...t}:t,B=(t,e)=>{const n=Symbol("Context"),r=(r,i=N(t))=>{let o=i;const a={name:e,id:n,set:t=>{o=t},get:()=>o,update:t=>{o=t(o)}};return r.set(n,a),a};return r.sliceName=e,r.id=n,r._typeInfo=()=>{throw p()},r};var I,L,R,P,j,z;class ${constructor(t,e){M(this,I,void 0),M(this,L,void 0),this.use=t=>A(this,I).getSlice(t),this.get=t=>this.use(t).get(),this.set=(t,e)=>this.use(t).set(e),this.update=(t,e)=>this.use(t).update(e),this.timing=t=>A(this,L).get(t),this.wait=t=>this.timing(t)(),this.done=t=>this.timing(t).done(),this.waitTimers=async t=>{await Promise.all(this.get(t).map((t=>this.wait(t))))},F(this,I,t),F(this,L,e)}}I=new WeakMap,L=new WeakMap;class Y{constructor(t,e){M(this,R,void 0),M(this,P,void 0),this.inject=(t,e)=>(t(A(this,R).sliceMap,e),this),this.record=t=>(t(A(this,P).store),this),this.use=t=>A(this,R).getSlice(t),this.get=t=>this.use(t).get(),this.set=(t,e)=>this.use(t).set(e),this.update=(t,e)=>this.use(t).update(e),this.timing=t=>A(this,P).get(t),this.wait=t=>this.timing(t)(),this.done=t=>this.timing(t).done(),this.waitTimers=async t=>{await Promise.all(this.get(t).map((t=>this.wait(t))))},F(this,R,t),F(this,P,e)}}R=new WeakMap,P=new WeakMap;class W{constructor(t,e){M(this,j,void 0),M(this,z,void 0),this.inject=(t,e)=>(t(A(this,j).sliceMap,e),this),this.record=t=>(t(A(this,z).store),this),F(this,j,t),F(this,z,e)}}j=new WeakMap,z=new WeakMap;const U=()=>{const t=new Map;return{store:t,get:e=>{const n=t.get(e.id);if(!n)throw f(e.name);return n}}},q=(t,e=3e3)=>{const n=Symbol("Timer"),r=r=>{let i,o=null;const a=Symbol(t),s=()=>null!=o?o:o=new Promise(((n,r)=>{i=e=>{e instanceof CustomEvent&&e.detail.id===a&&(removeEventListener(t,i),e.stopImmediatePropagation(),n())},setTimeout((()=>{r(`Timing ${t} timeout.`),removeEventListener(t,i)}),e),addEventListener(t,i)}));return s.done=()=>{const e=new CustomEvent(t,{detail:{id:a}});dispatchEvent(e)},r.set(n,s),s};return r.id=n,r};function V(t){this.content=t}V.prototype={constructor:V,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return-1==i?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new V(o)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new V(n)},addToStart:function(t,e){return new V([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new V(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(-1==o?i.length:o,0,e,n),new V(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=V.from(t),t.size?new V(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=V.from(t),t.size?new V(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=V.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},V.from=function(t){if(t instanceof V)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new V(e)};var H=V;function G(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let t=0;i.text[t]==o.text[t];t++)n++;return n}if(i.content.size||o.content.size){let t=G(i.content,o.content,n+1);if(null!=t)return t}n+=i.nodeSize}else n+=i.nodeSize}}function X(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let a=t.child(--i),s=e.child(--o),c=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let t=0,e=Math.min(a.text.length,s.text.length);while(t<e&&a.text[a.text.length-t-1]==s.text[s.text.length-t-1])t++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let t=X(a.content,s.content,n-1,r-1);if(t)return t}n-=c,r-=c}else n-=c,r-=c}}class J{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,e,n,r=0,i){for(let o=0,a=0;a<e;o++){let s=this.content[o],c=a+s.nodeSize;if(c>t&&!1!==n(s,r+a,i||null,o)&&s.content.size){let i=a+1;s.nodesBetween(Math.max(0,t-i),Math.min(s.content.size,e-i),n,r+i)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let i="",o=!0;return this.nodesBetween(t,e,((a,s)=>{a.isText?(i+=a.text.slice(Math.max(t,s)-s,e-s),o=!n):a.isLeaf?(r?i+="function"===typeof r?r(a):r:a.type.spec.leafText&&(i+=a.type.spec.leafText(a)),o=!n):!o&&a.isBlock&&(i+=n,o=!0)}),0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new J(r,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let n=[],r=0;if(e>t)for(let i=0,o=0;o<e;i++){let a=this.content[i],s=o+a.nodeSize;s>t&&((o<t||s>e)&&(a=a.isText?a.cut(Math.max(0,t-o),Math.min(a.text.length,e-o)):a.cut(Math.max(0,t-o-1),Math.min(a.content.size,e-o-1))),n.push(a),r+=a.nodeSize),o=s}return new J(n,r)}cutByIndex(t,e){return t==e?J.empty:0==t&&e==this.content.length?this:new J(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new J(r,i)}addToStart(t){return new J([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new J(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return G(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return X(this,t,e,n)}findIndex(t,e=-1){if(0==t)return Z(0,t);if(t==this.size)return Z(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t||e>0?Z(n+1,o):Z(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return J.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return J.empty;let e,n=0;for(let r=0;r<t.length;r++){let i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new J(e||t,n)}static from(t){if(!t)return J.empty;if(t instanceof J)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new J([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const K={index:0,offset:0};function Z(t,e){return K.index=t,K.offset=e,K}function Q(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Q(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Q(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}class tt{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let r=0;r<t.length;r++){let i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Q(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw new RangeError(`There is no mark type ${e.type} in this schema`);return n.create(e.attrs)}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return tt.none;if(t instanceof tt)return[t];let e=t.slice();return e.sort(((t,e)=>t.type.rank-e.type.rank)),e}}tt.none=[];class et extends Error{}class nt{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=it(this.content,t+this.openStart,e);return n&&new nt(n,this.openStart,this.openEnd)}removeBetween(t,e){return new nt(rt(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return nt.empty;let n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new nt(J.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new nt(t,n,r)}}function rt(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:a,offset:s}=t.findIndex(n);if(i==e||o.isText){if(s!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(rt(o.content,e-i-1,n-i-1)))}function it(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),a=t.maybeChild(i);if(o==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let s=it(a.content,e-o-1,n);return s&&t.replaceChild(i,a.copy(s))}function ot(t,e,n){if(n.openStart>t.depth)throw new et("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new et("Inconsistent open depths");return at(t,e,n,0)}function at(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=at(t,e,n,r+1);return o.copy(o.content.replaceChild(i,a))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:i,end:a}=pt(n,t);return ht(o,dt(t,i,a,e,r))}{let r=t.parent,i=r.content;return ht(r,i.cut(0,t.parentOffset).append(n.content).append(i.cut(e.parentOffset)))}}return ht(o,ft(t,e,r))}function st(t,e){if(!e.type.compatibleContent(t.type))throw new et("Cannot join "+e.type.name+" onto "+t.type.name)}function ct(t,e,n){let r=t.node(n);return st(r,e.node(n)),r}function lt(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ut(t,e,n,r){let i=(e||t).node(n),o=0,a=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(lt(t.nodeAfter,r),o++));for(let s=o;s<a;s++)lt(i.child(s),r);e&&e.depth==n&&e.textOffset&&lt(e.nodeBefore,r)}function ht(t,e){if(!t.type.validContent(e))throw new et("Invalid content for node "+t.type.name);return t.copy(e)}function dt(t,e,n,r,i){let o=t.depth>i&&ct(t,e,i+1),a=r.depth>i&&ct(n,r,i+1),s=[];return ut(null,t,i,s),o&&a&&e.index(i)==n.index(i)?(st(o,a),lt(ht(o,dt(t,e,n,r,i+1)),s)):(o&&lt(ht(o,ft(t,e,i+1)),s),ut(e,n,i,s),a&&lt(ht(a,ft(n,r,i+1)),s)),ut(r,null,i,s),new J(s)}function ft(t,e,n){let r=[];if(ut(null,t,n,r),t.depth>n){let i=ct(t,e,n+1);lt(ht(i,ft(t,e,n+1)),r)}return ut(e,null,n,r),new J(r)}function pt(t,e){let n=e.depth-t.openStart,r=e.node(n),i=r.copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(J.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}nt.empty=new nt(J.empty,0,0);class gt{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let i=0;i<t;i++)r+=n.child(i).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return tt.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let t=n;n=r,r=t}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new vt(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,i=e;for(let o=t;;){let{index:t,offset:e}=o.content.findIndex(i),a=i-e;if(n.push(o,t,r+e),!a)break;if(o=o.child(t),o.isText)break;i=a-1,r+=e+1}return new gt(e,n,i)}static resolveCached(t,e){for(let r=0;r<mt.length;r++){let n=mt[r];if(n.pos==e&&n.doc==t)return n}let n=mt[yt]=gt.resolve(t,e);return yt=(yt+1)%bt,n}}let mt=[],yt=0,bt=12;class vt{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const _t=Object.create(null);class xt{constructor(t,e,n,r=tt.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||J.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&Q(this.attrs,e||t.defaultAttrs||_t)&&tt.sameSet(this.marks,n||tt.none)}copy(t=null){return t==this.content?this:new xt(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new xt(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return nt.empty;let r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),a=r.start(o),s=r.node(o),c=s.content.cut(r.pos-a,i.pos-a);return new nt(c,r.depth-o,i.depth-o)}replace(t,e,n){return ot(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return gt.resolveCached(this,t)}resolveNoCache(t){return gt.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,(t=>(n.isInSet(t.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),kt(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=J.empty,r=0,i=n.childCount){let o=this.contentMatchAt(t).matchFragment(n,r,i),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let s=r;s<i;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let t=tt.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!tt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=J.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)}}xt.prototype.text=void 0;class wt extends xt{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):kt(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new wt(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new wt(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function kt(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Dt{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new Ct(t,e);if(null==n.next)return Dt.empty;let r=Et(n);n.next&&n.err("Unexpected trailing text");let i=Lt(Nt(r));return Rt(i,n),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];function i(o,a){let s=o.matchFragment(t,n);if(s&&(!e||s.validEnd))return J.from(a.map((t=>t.createAndFill())));for(let t=0;t<o.next.length;t++){let{type:e,next:n}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let t=i(n,a.concat(e));if(t)return t}}return null}return i(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){let r=n.shift(),i=r.match;if(i.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:a}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||r.type&&!a.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(n){t.push(n);for(let r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}return e(this),t.map(((e,n)=>{let r=n+(e.validEnd?"*":" ")+" ";for(let i=0;i<e.next.length;i++)r+=(i?", ":"")+e.next[i].type.name+"->"+t.indexOf(e.next[i].next);return r})).join("\n")}}Dt.empty=new Dt(!0);class Ct{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Et(t){let e=[];do{e.push(St(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function St(t){let e=[];do{e.push(Tt(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function Tt(t){let e=Ot(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=Mt(t,e)}return e}function At(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Mt(t,e){let n=At(t),r=n;return t.eat(",")&&(r="}"!=t.next?At(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Ft(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let t=n[o];t.groups.indexOf(e)>-1&&i.push(t)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i}function Ot(t){if(t.eat("(")){let e=Et(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=Ft(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}function Nt(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((t=>t.to=e))}function o(t,e){if("choice"==t.type)return t.exprs.reduce(((t,n)=>t.concat(o(n,e))),[]);if("seq"!=t.type){if("star"==t.type){let a=n();return r(e,a),i(o(t.expr,a),a),[r(a)]}if("plus"==t.type){let a=n();return i(o(t.expr,e),a),i(o(t.expr,a),a),[r(a)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){let a=e;for(let e=0;e<t.min;e++){let e=n();i(o(t.expr,a),e),a=e}if(-1==t.max)i(o(t.expr,a),a);else for(let e=t.min;e<t.max;e++){let e=n();r(a,e),i(o(t.expr,a),e),a=e}return[r(a)]}if("name"==t.type)return[r(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let a=o(t.exprs[r],e);if(r==t.exprs.length-1)return a;i(a,e=n())}}}function Bt(t,e){return e-t}function It(t,e){let n=[];return r(e),n.sort(Bt);function r(e){let i=t[e];if(1==i.length&&!i[0].term)return r(i[0].to);n.push(e);for(let t=0;t<i.length;t++){let{term:e,to:o}=i[t];e||-1!=n.indexOf(o)||r(o)}}}function Lt(t){let e=Object.create(null);return n(It(t,0));function n(r){let i=[];r.forEach((e=>{t[e].forEach((({term:e,to:n})=>{if(!e)return;let r;for(let t=0;t<i.length;t++)i[t][0]==e&&(r=i[t][1]);It(t,n).forEach((t=>{r||i.push([e,r=[]]),-1==r.indexOf(t)&&r.push(t)}))}))}));let o=e[r.join(",")]=new Dt(r.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let r=i[t][1].sort(Bt);o.next.push({type:i[t][0],next:e[r.join(",")]||n(r)})}return o}}function Rt(t,e){for(let n=0,r=[t];n<r.length;n++){let t=r[n],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:n,next:a}=t.next[e];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(a)&&r.push(a)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Pt(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function jt(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(void 0===i){let e=t[r];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=e.default}n[r]=i}return n}function zt(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Yt(t[n]);return e}class $t{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=zt(n.attrs),this.defaultAttrs=Pt(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Dt.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:jt(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new xt(this,this.computeAttrs(t),J.from(e),tt.setFrom(n))}createChecked(t=null,e,n){if(e=J.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new xt(this,this.computeAttrs(t),e,tt.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),e=J.from(e),e.size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let r=this.contentMatch.matchFragment(e),i=r&&r.fillBefore(J.empty,!0);return i?new xt(this,t,e.append(i),tt.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:tt.none:t}static compile(t,e){let n=Object.create(null);t.forEach(((t,r)=>n[t]=new $t(t,e,r)));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Yt{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class Wt{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=zt(r.attrs),this.excluded=null;let i=Pt(this.attrs);this.instance=i?new tt(this,i):null}create(t=null){return!t&&this.instance?this.instance:new tt(this,jt(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach(((t,i)=>n[t]=new Wt(t,r++,e,i))),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}class Ut{constructor(t){this.cached=Object.create(null),this.spec={nodes:H.from(t.nodes),marks:H.from(t.marks||{}),topNode:t.topNode},this.nodes=$t.compile(this.spec.nodes,this),this.marks=Wt.compile(this.spec.marks,this);let e=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let t=this.nodes[n],r=t.spec.content||"",i=t.spec.marks;t.contentMatch=e[r]||(e[r]=Dt.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.markSet="_"==i?null:i?qt(this,i.split(" ")):""!=i&&t.inlineContent?null:[]}for(let n in this.marks){let t=this.marks[n],e=t.spec.excludes;t.excluded=null==e?[t]:""==e?[]:qt(this,e.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof $t))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new wt(n,n.defaultAttrs,t,tt.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return xt.fromJSON(this,t)}markFromJSON(t){return tt.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function qt(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],a=o;if(o)n.push(o);else for(let e in t.marks){let r=t.marks[e];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=r)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Vt{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((t=>{t.tag?this.tags.push(t):t.style&&this.styles.push(t)})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}parse(t,e={}){let n=new ee(this,e,!1);return n.addAll(t,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new ee(this,e,!0);return n.addAll(t,e.from,e.to),nt.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(re(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t);if(!1===e)continue;n.attrs=e||void 0}return n}}}matchStyle(t,e,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(t)||r.context&&!n.matchesContext(r.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(r.getAttrs){let t=r.getAttrs(e);if(!1===t)continue;r.attrs=t||void 0}return r}}}static schemaRules(t){let e=[];function n(t){let n=null==t.priority?50:t.priority,r=0;for(;r<e.length;r++){let t=e[r],i=null==t.priority?50:t.priority;if(i<n)break}e.splice(r,0,t)}for(let r in t.marks){let e=t.marks[r].spec.parseDOM;e&&e.forEach((t=>{n(t=oe(t)),t.mark=r}))}for(let r in t.nodes){let e=t.nodes[r].spec.parseDOM;e&&e.forEach((t=>{n(t=oe(t)),t.node=r}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Vt(t,Vt.schemaRules(t)))}}const Ht={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Gt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Xt={ol:!0,ul:!0},Jt=1,Kt=2,Zt=4;function Qt(t,e,n){return null!=e?(e?Jt:0)|("full"===e?Kt:0):t&&"pre"==t.whitespace?Jt|Kt:n&~Zt}class te{constructor(t,e,n,r,i,o,a){this.type=t,this.attrs=e,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=tt.none,this.stashMarks=[],this.match=o||(a&Zt?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(J.from(t));if(!e){let e,n=this.type.contentMatch;return(e=n.findWrapping(t.type))?(this.match=n,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Jt)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let n=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length))}}let e=J.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,n=this.pendingMarks;e<n.length;e++){let r=n[e];(this.type?this.type.allowsMarkType(r.type):ae(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Ht.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class ee{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0;let r,i=e.topNode,o=Qt(null,e.preserveWhitespace,0)|(n?Zt:0);r=i?new te(i.type,i.attrs,tt.none,tt.none,!0,e.topMatch||i.type.contentMatch,o):new te(n?null:t.schema.topNodeType,null,tt.none,tt.none,!0,null,o),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){let e=t.getAttribute("style"),n=e?this.readStyles(ie(e)):null,r=this.top;if(null!=n)for(let t=0;t<n.length;t++)this.addPendingMark(n[t]);if(this.addElement(t),null!=n)for(let t=0;t<n.length;t++)this.removePendingMark(n[t],r)}}addTextNode(t){let e=t.nodeValue,n=this.top;if(n.options&Kt||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&Jt)e=n.options&Kt?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let n,r=t.nodeName.toLowerCase();Xt.hasOwnProperty(r)&&this.parser.normalizeLists&&ne(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:Gt.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let e,n=this.top,o=this.needsBlock;if(Ht.hasOwnProperty(r))e=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),e&&this.sync(n),this.needsBlock=o}else this.addElementByRule(t,i,!1===i.consuming?n:void 0)}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=tt.none;t:for(let n=0;n<t.length;n+=2)for(let r;;){let i=this.parser.matchStyle(t[n],t[n+1],this,r);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;r=i}return e}addElementByRule(t,e,n){let r,i,o;if(e.node)i=this.parser.schema.nodes[e.node],i.isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs||null,e.preserveWhitespace);else{let t=this.parser.schema.marks[e.mark];o=t.create(e.attrs),this.addPendingMark(o)}let a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t)));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n)}r&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,e,n){let r=e||0;for(let i=e?t.childNodes[e]:t.firstChild,o=null==n?null:t.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(i);this.findAtPoint(t,r)}findPlace(t){let e,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(let r=0;r<e.length;r++)this.enterInner(e[r],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let n=e.activeMarks;for(let r=0;r<t.marks.length;r++)e.type&&!e.type.allowsMarkType(t.marks[r].type)||(n=t.marks[r].addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,n){let r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r}enterInner(t,e=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);let o=Qt(t,r,i.options);i.options&Zt&&0==i.content.length&&(o|=Zt),this.nodes.push(new te(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let e=n.length-1;e>=0;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){let t=e.compareDocumentPosition(this.find[r].node);t&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(t,a)=>{for(;t>=0;t--){let s=e[t];if(""==s){if(t==e.length-1||0==t)continue;for(;a>=i;a--)if(o(t-1,a))return!0;return!1}{let t=a>0||0==a&&r?this.nodes[a].type:n&&a>=i?n.node(a-i).type:null;if(!t||t.name!=s&&-1==t.groups.indexOf(s))return!1;a--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(t){let e=se(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let n=this.open;n>=0;n--){let r=this.nodes[n],i=r.pendingMarks.lastIndexOf(t);if(i>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);let e=r.popFromStashMark(t);e&&r.type&&r.type.allowsMarkType(e.type)&&(r.activeMarks=e.addToSet(r.activeMarks))}if(r==e)break}}}function ne(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&Xt.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}function re(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ie(t){let e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(e=n.exec(t))r.push(e[1],e[2].trim());return r}function oe(t){let e={};for(let n in t)e[n]=t[n];return e}function ae(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],a=t=>{o.push(t);for(let n=0;n<t.edgeCount;n++){let{type:r,next:i}=t.edge(n);if(r==e)return!0;if(o.indexOf(i)<0&&a(i))return!0}};if(a(i.contentMatch))return!0}}function se(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class ce{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=ue(e).createDocumentFragment());let r=n,i=[];return t.forEach((t=>{if(i.length||t.marks.length){let n=0,o=0;while(n<i.length&&o<t.marks.length){let e=t.marks[o];if(this.marks[e.type.name]){if(!e.eq(i[n][0])||!1===e.type.spec.spanning)break;n++,o++}else o++}while(n<i.length)r=i.pop()[1];while(o<t.marks.length){let n=t.marks[o++],a=this.serializeMark(n,t.isInline,e);a&&(i.push([n,r]),r.appendChild(a.dom),r=a.contentDOM||a.dom)}}r.appendChild(this.serializeNodeInner(t,e))})),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=ce.renderSpec(ue(e),this.nodes[t.type.name](t));if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&ce.renderSpec(ue(n),r(t,e))}static renderSpec(t,e,n=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let r,i=e[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a=n?t.createElementNS(n,i):t.createElement(i),s=e[1],c=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s)){c=2;for(let t in s)if(null!=s[t]){let e=t.indexOf(" ");e>0?a.setAttributeNS(t.slice(0,e),t.slice(e+1),s[t]):a.setAttribute(t,s[t])}}for(let l=c;l<e.length;l++){let i=e[l];if(0===i){if(l<e.length-1||l>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:e,contentDOM:o}=ce.renderSpec(t,i,n);if(a.appendChild(e),o){if(r)throw new RangeError("Multiple content holes");r=o}}}return{dom:a,contentDOM:r}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new ce(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=le(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return le(t.marks)}}function le(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ue(t){return t.document||window.document}const he=65535,de=Math.pow(2,16);function fe(t,e){return t+e*de}function pe(t){return t&he}function ge(t){return(t-(t&he))/de}const me=1,ye=2,be=4,ve=8;class _e{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(this.delInfo&ve)>0}get deletedBefore(){return(this.delInfo&(me|be))>0}get deletedAfter(){return(this.delInfo&(ye|be))>0}get deletedAcross(){return(this.delInfo&be)>0}}class xe{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&xe.empty)return xe.empty}recover(t){let e=0,n=pe(t);if(!this.inverted)for(let r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+ge(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let s=this.ranges[a]-(this.inverted?r:0);if(s>t)break;let c=this.ranges[a+i],l=this.ranges[a+o],u=s+c;if(t<=u){let i=c?t==s?-1:t==u?1:e:e,o=s+r+(i<0?0:l);if(n)return o;let h=t==(e<0?s:u)?null:fe(a/3,t-s),d=t==s?ye:t==u?me:be;return(e<0?t!=s:t!=u)&&(d|=ve),new _e(o,d,h)}r+=l-c}return n?t+r:new _e(t+r,0,null)}touches(t,e){let n=0,r=pe(e),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let e=this.ranges[a]-(this.inverted?n:0);if(e>t)break;let s=this.ranges[a+i],c=e+s;if(t<=c&&a==3*r)return!0;n+=this.ranges[a+o]-s}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?i:0),s=o+(this.inverted?0:i),c=this.ranges[r+e],l=this.ranges[r+n];t(a,a+c,s,s+l),i+=l-c}}invert(){return new xe(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?xe.empty:new xe(t<0?[0,-t,0]:[0,0,t])}}xe.empty=new xe([]);class we{constructor(t=[],e,n=0,r=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=r}slice(t=0,e=this.maps.length){return new we(this.maps,this.mirror,t,e)}copy(){return new we(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:void 0)}}invert(){let t=new we;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let i=this.from;i<this.to;i++){let n=this.maps[i],o=n.mapResult(t,e);if(null!=o.recover){let e=this.getMirror(i);if(null!=e&&e>i&&e<this.to){i=e,t=this.maps[e].recover(o.recover);continue}}r|=o.delInfo,t=o.pos}return n?t:new _e(t,r,null)}}const ke=Object.create(null);class De{getMap(){return xe.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=ke[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in ke)throw new RangeError("Duplicate use of step JSON ID "+t);return ke[t]=e,e.prototype.jsonID=t,e}}class Ce{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Ce(t,null)}static fail(t){return new Ce(null,t)}static fromReplace(t,e,n,r){try{return Ce.ok(t.replace(e,n,r))}catch(Mk){if(Mk instanceof et)return Ce.fail(Mk.message);throw Mk}}}function Ee(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Ee(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return J.fromArray(r)}class Se extends De{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),r=n.node(n.sharedDepth(this.to)),i=new nt(Ee(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),r),e.openStart,e.openEnd);return Ce.fromReplace(t,this.from,this.to,i)}invert(){return new Te(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new Se(e.pos,n.pos,this.mark)}merge(t){return t instanceof Se&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Se(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Se(e.from,e.to,t.markFromJSON(e.mark))}}De.jsonID("addMark",Se);class Te extends De{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new nt(Ee(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return Ce.fromReplace(t,this.from,this.to,n)}invert(){return new Se(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new Te(e.pos,n.pos,this.mark)}merge(t){return t instanceof Te&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Te(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Te(e.from,e.to,t.markFromJSON(e.mark))}}De.jsonID("removeMark",Te);class Ae extends De{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Ce.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Ce.fromReplace(t,this.pos,this.pos+1,new nt(J.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let n=0;n<e.marks.length;n++)if(!e.marks[n].isInSet(t))return new Ae(this.pos,e.marks[n]);return new Ae(this.pos,this.mark)}}return new Me(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Ae(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ae(e.pos,t.markFromJSON(e.mark))}}De.jsonID("addNodeMark",Ae);class Me extends De{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Ce.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Ce.fromReplace(t,this.pos,this.pos+1,new nt(J.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new Ae(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Me(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Me(e.pos,t.markFromJSON(e.mark))}}De.jsonID("removeNodeMark",Me);class Fe extends De{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&Ne(t,this.from,this.to)?Ce.fail("Structure replace would overwrite content"):Ce.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new xe([this.from,this.to-this.from,this.slice.size])}invert(t){return new Fe(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new Fe(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof Fe)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?nt.empty:new nt(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Fe(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?nt.empty:new nt(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Fe(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Fe(e.from,e.to,nt.fromJSON(t,e.slice),!!e.structure)}}De.jsonID("replace",Fe);class Oe extends De{constructor(t,e,n,r,i,o,a=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=a}apply(t){if(this.structure&&(Ne(t,this.from,this.gapFrom)||Ne(t,this.gapTo,this.to)))return Ce.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Ce.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?Ce.fromReplace(t,this.from,this.to,n):Ce.fail("Content does not fit in gap")}getMap(){return new xe([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new Oe(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||i>n.pos?null:new Oe(e.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Oe(e.from,e.to,e.gapFrom,e.gapTo,nt.fromJSON(t,e.slice),e.insert,!!e.structure)}}function Ne(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;while(i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount)o--,i--;if(i>0){let t=r.node(o).maybeChild(r.indexAfter(o));while(i>0){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function Be(t,e,n,r){let i,o,a=[],s=[];t.doc.nodesBetween(e,n,((t,c,l)=>{if(!t.isInline)return;let u=t.marks;if(!r.isInSet(u)&&l.type.allowsMarkType(r.type)){let l=Math.max(c,e),h=Math.min(c+t.nodeSize,n),d=r.addToSet(u);for(let t=0;t<u.length;t++)u[t].isInSet(d)||(i&&i.to==l&&i.mark.eq(u[t])?i.to=h:a.push(i=new Te(l,h,u[t])));o&&o.to==l?o.to=h:s.push(o=new Se(l,h,r))}})),a.forEach((e=>t.step(e))),s.forEach((e=>t.step(e)))}function Ie(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,((t,a)=>{if(!t.isInline)return;o++;let s=null;if(r instanceof Wt){let e,n=t.marks;while(e=r.isInSet(n))(s||(s=[])).push(e),n=e.removeFromSet(n)}else r?r.isInSet(t.marks)&&(s=[r]):s=t.marks;if(s&&s.length){let r=Math.min(a+t.nodeSize,n);for(let t=0;t<s.length;t++){let n,c=s[t];for(let t=0;t<i.length;t++){let e=i[t];e.step==o-1&&c.eq(i[t].style)&&(n=e)}n?(n.to=r,n.step=o):i.push({style:c,from:Math.max(a,e),to:r,step:o})}}})),i.forEach((e=>t.step(new Te(e.from,e.to,e.style))))}function Le(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let s=0;s<i.childCount;s++){let e=i.child(s),c=a+e.nodeSize,l=r.matchType(e.type);if(l){r=l;for(let r=0;r<e.marks.length;r++)n.allowsMarkType(e.marks[r].type)||t.step(new Te(a,c,e.marks[r]))}else o.push(new Fe(a,c,nt.empty));a=c}if(!r.validEnd){let e=r.fillBefore(J.empty,!0);t.replace(a,a,new nt(e,0,0))}for(let s=o.length-1;s>=0;s--)t.step(o[s])}function Re(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Pe(t){let e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let e=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&e.canReplace(i,o,n))return r;if(0==r||e.type.spec.isolating||!Re(e,i,o))break}return null}function je(t,e,n){let{$from:r,$to:i,depth:o}=e,a=r.before(o+1),s=i.after(o+1),c=a,l=s,u=J.empty,h=0;for(let p=o,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=J.from(r.node(p).copy(u)),h++):c--;let d=J.empty,f=0;for(let p=o,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,d=J.from(i.node(p).copy(d)),f++):l++;t.step(new Oe(c,l,a,s,new nt(u.append(d),h,f),u.size-h,!0))}function ze(t,e,n=null,r=t){let i=Ye(t,e),o=i&&We(r,e);return o?i.map($e).concat({type:e,attrs:n}).concat(o.map($e)):null}function $e(t){return{type:t,attrs:null}}function Ye(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return n.canReplaceWith(r,i,a)?o:null}function We(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let s=a.length?a[a.length-1]:e,c=s.contentMatch;for(let l=r;c&&l<i;l++)c=c.matchType(n.child(l).type);return c&&c.validEnd?a:null}function Ue(t,e,n){let r=J.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let t=n[a].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=J.from(n[a].type.create(n[a].attrs,r))}let i=e.start,o=e.end;t.step(new Oe(i,o,i,o,new nt(r,0,0),n.length,!0))}function qe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,((e,n)=>{if(e.isTextblock&&!e.hasMarkup(r,i)&&Ve(t.doc,t.mapping.slice(o).map(n),r)){t.clearIncompatible(t.mapping.slice(o).map(n,1),r);let a=t.mapping.slice(o),s=a.map(n,1),c=a.map(n+e.nodeSize,1);return t.step(new Oe(s,c,s+1,c-1,new nt(J.from(r.create(i,null,e.marks)),0,0),1,!0)),!1}}))}function Ve(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function He(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Oe(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new nt(J.from(a),0,0),1,!0))}function Ge(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let l=i.depth-1,u=n-2;l>o;l--,u--){let t=i.node(l),e=i.index(l);if(t.type.spec.isolating)return!1;let n=t.content.cutByIndex(e,t.childCount),o=r&&r[u]||t;if(o!=t&&(n=n.replaceChild(0,o.type.create(o.attrs))),!t.canReplace(e+1,t.childCount)||!o.type.validContent(n))return!1}let s=i.indexAfter(o),c=r&&r[0];return i.node(o).canReplaceWith(s,s,c?c.type:i.node(o+1).type)}function Xe(t,e,n=1,r){let i=t.doc.resolve(e),o=J.empty,a=J.empty;for(let s=i.depth,c=i.depth-n,l=n-1;s>c;s--,l--){o=J.from(i.node(s).copy(o));let t=r&&r[l];a=J.from(t?t.type.create(t.attrs,a):i.node(s).copy(a))}t.step(new Fe(e,e,new nt(o.append(a),n,n),!0))}function Je(t,e){let n=t.resolve(e),r=n.index();return Ke(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Ke(t,e){return!(!t||!e||t.isLeaf||!t.canAppend(e))}function Ze(t,e,n){let r=new Fe(e-n,e+n,nt.empty,!0);t.step(r)}function Qe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let t=r.index(i);if(r.node(i).canReplaceWith(t,t,n))return r.before(i+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let t=r.indexAfter(i);if(r.node(i).canReplaceWith(t,t,n))return r.after(i+1);if(t<r.node(i).childCount)return null}return null}function tn(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(0==n.openStart&&n.size?2:1);o++)for(let t=r.depth;t>=0;t--){let e=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,n=r.index(t)+(e>0?1:0),a=r.node(t),s=!1;if(1==o)s=a.canReplace(n,n,i);else{let t=a.contentMatchAt(n).findWrapping(i.firstChild.type);s=t&&a.canReplaceWith(n,n,t[0])}if(s)return 0==e?r.pos:e<0?r.before(t+1):r.after(t+1)}return null}function en(t,e,n=e,r=nt.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return nn(i,o,r)?new Fe(e,n,r):new rn(i,o,r).fit()}function nn(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}De.jsonID("replaceAround",Oe);class rn{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=J.empty;for(let r=0;r<=t.depth;r++){let e=t.node(r);this.frontier.push({type:e.type,match:e.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=J.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){while(this.unplaced.size){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(t<0?this.$to:n.doc.resolve(t));if(!r)return null;let i=this.placed,o=n.depth,a=r.depth;while(o&&a&&1==i.childCount)i=i.firstChild.content,o--,a--;let s=new nt(i,o,a);return t>-1?new Oe(n.pos,t,this.$to.pos,this.$to.end(),s,e):s.size||n.pos!=this.$to.pos?new Fe(n.pos,r.pos,s):null}findFittable(){for(let t=1;t<=2;t++)for(let e=this.unplaced.openStart;e>=0;e--){let n,r=null;e?(r=sn(this.unplaced.content,e-1).firstChild,n=r.content):n=this.unplaced.content;let i=n.firstChild;for(let o=this.depth;o>=0;o--){let n,{type:a,match:s}=this.frontier[o],c=null;if(1==t&&(i?s.matchType(i.type)||(c=s.fillBefore(J.from(i),!1)):r&&a.compatibleContent(r.type)))return{sliceDepth:e,frontierDepth:o,parent:r,inject:c};if(2==t&&i&&(n=s.findWrapping(i.type)))return{sliceDepth:e,frontierDepth:o,parent:r,wrap:n};if(r&&s.matchType(r.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=sn(t,e);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new nt(t,e+1,Math.max(n,r.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=sn(t,e);if(r.childCount<=1&&e>0){let i=t.size-e<=e+r.size;this.unplaced=new nt(on(t,e-1,1),e-1,i?e-1:n)}else this.unplaced=new nt(on(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:r,wrap:i}){while(this.depth>e)this.closeFrontierNode();if(i)for(let p=0;p<i.length;p++)this.openFrontierNode(i[p]);let o=this.unplaced,a=n?n.content:o.content,s=o.openStart-t,c=0,l=[],{match:u,type:h}=this.frontier[e];if(r){for(let t=0;t<r.childCount;t++)l.push(r.child(t));u=u.matchFragment(r)}let d=a.size+t-(o.content.size-o.openEnd);while(c<a.childCount){let t=a.child(c),e=u.matchType(t.type);if(!e)break;c++,(c>1||0==s||t.content.size)&&(u=e,l.push(cn(t.mark(h.allowedMarks(t.marks)),1==c?s:0,c==a.childCount?d:-1)))}let f=c==a.childCount;f||(d=-1),this.placed=an(this.placed,e,J.from(l)),this.frontier[e].match=u,f&&d<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let p=0,g=a;p<d;p++){let t=g.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),g=t.content}this.unplaced=f?0==t?nt.empty:new nt(on(o.content,t-1,1),t-1,d<0?o.openEnd:t-1):new nt(on(o.content,t,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!ln(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);while(n>1&&r==this.$to.end(--n))++r;return r}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=ln(t,e,r,n,i);if(o){for(let n=e-1;n>=0;n--){let{match:e,type:r}=this.frontier[n],i=ln(t,n,r,e,!0);if(!i||i.childCount)continue t}return{depth:e,fit:o,move:i?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;while(this.depth>e.depth)this.closeFrontierNode();e.fit.childCount&&(this.placed=an(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),r=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,r)}return t}openFrontierNode(t,e=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=an(this.placed,this.depth,J.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop(),e=t.match.fillBefore(J.empty,!0);e.childCount&&(this.placed=an(this.placed,this.frontier.length,e))}}function on(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(on(t.firstChild.content,e-1,n)))}function an(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(an(t.lastChild.content,e-1,n)))}function sn(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function cn(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,cn(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(J.empty,!0)))),t.copy(r)}function ln(t,e,n,r,i){let o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!un(n,o.content,a)?s:null}function un(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function hn(t){return t.spec.defining||t.spec.definingForContent}function dn(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(nn(i,o,r))return t.step(new Fe(e,n,r));let a=mn(i,t.doc.resolve(n));0==a[a.length-1]&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,f=i.pos-1;d>0;d--,f--){let t=i.node(d).type.spec;if(t.defining||t.definingAsContext||t.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==f&&a.splice(1,0,-d)}let c=a.indexOf(s),l=[],u=r.openStart;for(let d=r.content,f=0;;f++){let t=d.firstChild;if(l.push(t),f==r.openStart)break;d=t.content}for(let d=u-1;d>=0;d--){let t=l[d].type,e=hn(t);if(e&&i.node(c).type!=t)u=d;else if(e||!t.isTextblock)break}for(let d=r.openStart;d>=0;d--){let e=(d+u+1)%(r.openStart+1),s=l[e];if(s)for(let l=0;l<a.length;l++){let u=a[(l+c)%a.length],h=!0;u<0&&(h=!1,u=-u);let d=i.node(u-1),f=i.index(u-1);if(d.canReplaceWith(f,f,s.type,s.marks))return t.replace(i.before(u),h?o.after(u):n,new nt(fn(r.content,0,r.openStart,e),e,r.openEnd))}}let h=t.steps.length;for(let d=a.length-1;d>=0;d--){if(t.replace(e,n,r),t.steps.length>h)break;let s=a[d];s<0||(e=i.before(s),n=o.after(s))}}function fn(t,e,n,r,i){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(fn(i.content,e+1,n,r,i)))}if(e>r){let e=i.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(J.empty,!0))}return t}function pn(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Qe(t.doc,e,r.type);null!=i&&(e=n=i)}t.replaceRange(e,n,new nt(J.from(r),0,0))}function gn(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=mn(r,i);for(let a=0;a<o.length;a++){let e=o[a],n=a==o.length-1;if(n&&0==e||r.node(e).type.contentMatch.validEnd)return t.delete(r.start(e),i.end(e));if(e>0&&(n||r.node(e-1).canReplace(r.index(e-1),i.indexAfter(e-1))))return t.delete(r.before(e),i.after(e))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a)return t.delete(r.before(a),n);t.delete(e,n)}function mn(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let r=t.start(i);if(r<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(r==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==r-1)&&n.push(i)}return n}class yn extends De{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return Ce.fail("No node at attribute step's position");let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,null,e.marks);return Ce.fromReplace(t,this.pos,this.pos+1,new nt(J.from(r),0,e.isLeaf?0:1))}getMap(){return xe.empty}invert(t){return new yn(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new yn(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new yn(e.pos,e.attr,e.value)}}De.jsonID("attr",yn);let bn=class extends Error{};bn=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},bn.prototype=Object.create(Error.prototype),bn.prototype.constructor=bn,bn.prototype.name="TransformError";class vn{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new we}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new bn(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=nt.empty){let r=en(this.doc,t,e,n);return r&&this.step(r),this}replaceWith(t,e,n){return this.replace(t,e,new nt(J.from(n),0,0))}delete(t,e){return this.replace(t,e,nt.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return dn(this,t,e,n),this}replaceRangeWith(t,e,n){return pn(this,t,e,n),this}deleteRange(t,e){return gn(this,t,e),this}lift(t,e){return je(this,t,e),this}join(t,e=1){return Ze(this,t,e),this}wrap(t,e){return Ue(this,t,e),this}setBlockType(t,e=t,n,r=null){return qe(this,t,e,n,r),this}setNodeMarkup(t,e,n=null,r=[]){return He(this,t,e,n,r),this}setNodeAttribute(t,e,n){return this.step(new yn(t,e,n)),this}addNodeMark(t,e){return this.step(new Ae(t,e)),this}removeNodeMark(t,e){if(!(e instanceof tt)){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(e=e.isInSet(n.marks),!e)return this}return this.step(new Me(t,e)),this}split(t,e=1,n){return Xe(this,t,e,n),this}addMark(t,e,n){return Be(this,t,e,n),this}removeMark(t,e,n){return Ie(this,t,e,n),this}clearIncompatible(t,e,n){return Le(this,t,e,n),this}}const _n=Object.create(null);class xn{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new wn(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=nt.empty){let n=e.content.lastChild,r=null;for(let a=0;a<e.openEnd;a++)r=n,n=n.lastChild;let i=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:s,$to:c}=o[a],l=t.mapping.slice(i);t.replaceRange(l.map(s.pos),l.map(c.pos),a?nt.empty:e),0==a&&On(t,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:a}=r[i],s=t.mapping.slice(n),c=s.map(o.pos),l=s.map(a.pos);i?t.deleteRange(c,l):(t.replaceRangeWith(c,l,e),On(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new Cn(t):Fn(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let i=t.depth-1;i>=0;i--){let r=e<0?Fn(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):Fn(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(r)return r}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new An(t.node(0))}static atStart(t){return Fn(t,t,0,0,1)||new An(t)}static atEnd(t){return Fn(t,t,t.content.size,t.childCount,-1)||new An(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=_n[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in _n)throw new RangeError("Duplicate use of selection JSON ID "+t);return _n[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Cn.between(this.$anchor,this.$head).getBookmark()}}xn.prototype.visible=!0;class wn{constructor(t,e){this.$from=t,this.$to=e}}let kn=!1;function Dn(t){kn||t.parent.inlineContent||(kn=!0,console["warn"]("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Cn extends xn{constructor(t,e=t){Dn(t),Dn(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return xn.near(n);let r=t.resolve(e.map(this.anchor));return new Cn(r.parent.inlineContent?r:n,n)}replace(t,e=nt.empty){if(super.replace(t,e),e==nt.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof Cn&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new En(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Cn(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if(n&&!r||(n=r>=0?1:-1),!e.parent.inlineContent){let t=xn.findFrom(e,n,!0)||xn.findFrom(e,-n,!0);if(!t)return xn.near(e,n);e=t.$head}return t.parent.inlineContent||(0==r?t=e:(t=(xn.findFrom(t,-n,!0)||xn.findFrom(t,n,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new Cn(t,e)}}xn.jsonID("text",Cn);class En{constructor(t,e){this.anchor=t,this.head=e}map(t){return new En(t.map(this.anchor),t.map(this.head))}resolve(t){return Cn.between(t.resolve(this.anchor),t.resolve(this.head))}}class Sn extends xn{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),i=t.resolve(r);return n?xn.near(i):new Sn(i)}content(){return new nt(J.from(this.node),0,0)}eq(t){return t instanceof Sn&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Tn(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Sn(t.resolve(e.anchor))}static create(t,e){return new Sn(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}Sn.prototype.visible=!1,xn.jsonID("node",Sn);class Tn{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new En(n,n):new Tn(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&Sn.isSelectable(n)?new Sn(e):xn.near(e)}}class An extends xn{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=nt.empty){if(e==nt.empty){t.delete(0,t.doc.content.size);let e=xn.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new An(t)}map(t){return new An(t)}eq(t){return t instanceof An}getBookmark(){return Mn}}xn.jsonID("all",An);const Mn={map(){return this},resolve(t){return new An(t)}};function Fn(t,e,n,r,i,o=!1){if(e.inlineContent)return Cn.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let r=e.child(a);if(r.isAtom){if(!o&&Sn.isSelectable(r))return Sn.create(t,n-(i<0?r.nodeSize:0))}else{let e=Fn(t,r,n+i,i<0?r.childCount:0,i,o);if(e)return e}n+=r.nodeSize*i}return null}function On(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Fe||i instanceof Oe))return;let o,a=t.mapping.maps[r];a.forEach(((t,e,n,r)=>{null==o&&(o=r)})),t.setSelection(xn.near(t.doc.resolve(o),n))}const Nn=1,Bn=2,In=4;class Ln extends vn{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Nn)&~Bn,this.storedMarks=null,this}get selectionSet(){return(this.updated&Nn)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Bn,this}ensureMarks(t){return tt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Bn)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~Bn,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||tt.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(null==n&&(n=e),n=null==n?e:n,!t)return this.deleteRange(e,n);let i=this.storedMarks;if(!i){let t=this.doc.resolve(e);i=n==e?t.marks():t.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(xn.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=In,this}get scrolledIntoView(){return(this.updated&In)>0}}function Rn(t,e){return e&&t?t.bind(e):t}class Pn{constructor(t,e,n){this.name=t,this.init=Rn(e.init,n),this.apply=Rn(e.apply,n)}}const jn=[new Pn("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Pn("selection",{init(t,e){return t.selection||xn.atStart(e.doc)},apply(t){return t.selection}}),new Pn("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Pn("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class zn{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=jn.slice(),e&&e.forEach((t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new Pn(t.key,t.spec.state,t))}))}}class $n{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let e=this.config.plugins[n];if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let s=r?r[o].n:0,c=r?r[o].state:this,l=s<e.length&&a.spec.appendTransaction.call(a,s?e.slice(s):e,c,n);if(l&&n.filterTransaction(l,o)){if(l.setMeta("appendedTransaction",t),!r){r=[];for(let t=0;t<this.config.plugins.length;t++)r.push(t<o?{state:n,n:e.length}:{state:this,n:0})}e.push(l),n=n.applyInner(l),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new $n(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}return e}get tr(){return new Ln(this)}static create(t){let e=new zn(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new $n(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new zn(this.schema,t.plugins),n=e.fields,r=new $n(e);for(let i=0;i<n.length;i++){let e=n[i].name;r[e]=this.hasOwnProperty(e)?this[e]:n[i].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((t=>t.toJSON()))),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new zn(t.schema,t.plugins),i=new $n(r);return r.fields.forEach((r=>{if("doc"==r.name)i.doc=xt.fromJSON(t.schema,e.doc);else if("selection"==r.name)i.selection=xn.fromJSON(i.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(i.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let o in n){let a=n[o],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(e,o))return void(i[r.name]=s.fromJSON.call(a,t,e[o],i))}i[r.name]=r.init(t,i)}})),i}}function Yn(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=Yn(i,e,{})),n[r]=i}return n}class Wn{constructor(t){this.spec=t,this.props={},t.props&&Yn(t.props,this,this.props),this.key=t.key?t.key.key:qn("plugin")}getState(t){return t[this.key]}}const Un=Object.create(null);function qn(t){return t in Un?t+"$"+ ++Un[t]:(Un[t]=0,t+"$")}class Vn{constructor(t="key"){this.key=qn(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}n(2801);const Hn="undefined"!=typeof navigator?navigator:null,Gn="undefined"!=typeof document?document:null,Xn=Hn&&Hn.userAgent||"",Jn=/Edge\/(\d+)/.exec(Xn),Kn=/MSIE \d/.exec(Xn),Zn=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xn),Qn=!!(Kn||Zn||Jn),tr=Kn?document.documentMode:Zn?+Zn[1]:Jn?+Jn[1]:0,er=!Qn&&/gecko\/(\d+)/i.test(Xn);er&&(/Firefox\/(\d+)/.exec(Xn)||[0,0])[1];const nr=!Qn&&/Chrome\/(\d+)/.exec(Xn),rr=!!nr,ir=nr?+nr[1]:0,or=!Qn&&!!Hn&&/Apple Computer/.test(Hn.vendor),ar=or&&(/Mobile\/\w+/.test(Xn)||!!Hn&&Hn.maxTouchPoints>2),sr=ar||!!Hn&&/Mac/.test(Hn.platform),cr=/Android \d/.test(Xn),lr=!!Gn&&"webkitFontSmoothing"in Gn.documentElement.style,ur=lr?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,hr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},dr=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let fr=null;const pr=function(t,e,n){let r=fr||(fr=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},gr=function(t,e,n,r){return n&&(yr(t,e,n,r,-1)||yr(t,e,n,r,1))},mr=/^(img|br|input|textarea|hr)$/i;function yr(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:br(t))){let n=t.parentNode;if(!n||1!=n.nodeType||_r(t)||mr.test(t.nodeName)||"false"==t.contentEditable)return!1;e=hr(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(i<0?-1:0)],"false"==t.contentEditable)return!1;e=i<0?br(t):0}}}function br(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function vr(t,e,n){for(let r=0==e,i=e==br(t);r||i;){if(t==n)return!0;let e=hr(t);if(t=t.parentNode,!t)return!1;r=r&&0==e,i=i&&e==br(t)}}function _r(t){let e;for(let n=t;n;n=n.parentNode)if(e=n.pmViewDesc)break;return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const xr=function(t){let e=t.isCollapsed;return e&&rr&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function wr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function kr(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Dr(t,e){return"number"==typeof t?t:t[e]}function Cr(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Er(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;;a=dr(a)){if(!a)break;if(1!=a.nodeType)continue;let t=a,n=t==o.body,s=n?kr(o):Cr(t),c=0,l=0;if(e.top<s.top+Dr(r,"top")?l=-(s.top-e.top+Dr(i,"top")):e.bottom>s.bottom-Dr(r,"bottom")&&(l=e.bottom-s.bottom+Dr(i,"bottom")),e.left<s.left+Dr(r,"left")?c=-(s.left-e.left+Dr(i,"left")):e.right>s.right-Dr(r,"right")&&(c=e.right-s.right+Dr(i,"right")),c||l)if(n)o.defaultView.scrollBy(c,l);else{let n=t.scrollLeft,r=t.scrollTop;l&&(t.scrollTop+=l),c&&(t.scrollLeft+=c);let i=t.scrollLeft-n,o=t.scrollTop-r;e={left:e.left-i,top:e.top-o,right:e.right-i,bottom:e.bottom-o}}if(n)break}}function Sr(t){let e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,a=i+1;a<Math.min(innerHeight,r.bottom);a+=5){let r=t.root.elementFromPoint(o,a);if(!r||r==t.dom||!t.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=i-20){e=r,n=s.top;break}}return{refDOM:e,refTop:n,stack:Tr(t.dom)}}function Tr(t){let e=[],n=t.ownerDocument;for(let r=t;r;r=dr(r))if(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t==n)break;return e}function Ar({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Mr(n,0==r?0:r-e)}function Mr(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Fr=null;function Or(t){if(t.setActive)return t.setActive();if(Fr)return t.focus(Fr);let e=Tr(t);t.focus(null==Fr?{get preventScroll(){return Fr={preventScroll:!0},!0}}:void 0),Fr||(Fr=!1,Mr(e,0))}function Nr(t,e){let n,r,i=2e8,o=0,a=e.top,s=e.top;for(let c=t.firstChild,l=0;c;c=c.nextSibling,l++){let t;if(1==c.nodeType)t=c.getClientRects();else{if(3!=c.nodeType)continue;t=pr(c).getClientRects()}for(let u=0;u<t.length;u++){let h=t[u];if(h.top<=a&&h.bottom>=s){a=Math.max(h.bottom,a),s=Math.min(h.top,s);let t=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(t<i){n=c,i=t,r=t&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==c.nodeType&&t&&(o=l+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=l+1)}}return n&&3==n.nodeType?Br(n,r):!n||i&&1==n.nodeType?{node:t,offset:o}:Nr(n,r)}function Br(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let n=$r(r,1);if(n.top!=n.bottom&&Ir(e,n))return{node:t,offset:i+(e.left>=(n.left+n.right)/2?1:0)}}return{node:t,offset:0}}function Ir(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Lr(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Rr(t,e,n){let{node:r,offset:i}=Nr(e,n),o=-1;if(1==r.nodeType&&!r.firstChild){let t=r.getBoundingClientRect();o=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function Pr(t,e,n,r){let i=-1;for(let o=e;;){if(o==t.dom)break;let e=t.docView.nearestDesc(o,!0);if(!e)return null;if(e.node.isBlock&&e.parent){let t=e.dom.getBoundingClientRect();if(t.left>r.left||t.top>r.top)i=e.posBefore;else{if(!(t.right<r.left||t.bottom<r.top))break;i=e.posAfter}}o=e.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}function jr(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=t.childNodes[o];if(1==n.nodeType){let t=n.getClientRects();for(let r=0;r<t.length;r++){let i=t[r];if(Ir(e,i))return jr(n,e,i)}}if((o=(o+1)%r)==i)break}return t}function zr(t,e){let n,r=t.dom.ownerDocument,i=0;if(r.caretPositionFromPoint)try{let t=r.caretPositionFromPoint(e.left,e.top);t&&({offsetNode:n,offset:i}=t)}catch(ug){}if(!n&&r.caretRangeFromPoint){let t=r.caretRangeFromPoint(e.left,e.top);t&&({startContainer:n,startOffset:i}=t)}let o,a=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top);if(!a||!t.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=t.dom.getBoundingClientRect();if(!Ir(e,n))return null;if(a=jr(t.dom,e,n),!a)return null}if(or)for(let c=a;n&&c;c=dr(c))c.draggable&&(n=void 0);if(a=Lr(a,e),n){if(er&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let t,r=n.childNodes[i];"IMG"==r.nodeName&&(t=r.getBoundingClientRect()).right<=e.left&&t.bottom>e.top&&i++}n==t.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(o=Pr(t,n,i,e))}null==o&&(o=Rr(t,a,e));let s=t.docView.nearestDesc(a,!0);return{pos:o,inside:s?s.posAtStart-s.border:-1}}function $r(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const Yr=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Wr(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),a=lr||er;if(3==r.nodeType){if(!a||!Yr.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let t=i,e=i,o=n<0?1:-1;return n<0&&!i?(e++,o=-1):n>=0&&i==r.nodeValue.length?(t--,o=1):n<0?t--:e++,Ur($r(pr(r,t,e),1),o<0)}{let t=$r(pr(r,i,i),n);if(er&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let e=$r(pr(r,i-1,i-1),-1);if(e.top==t.top){let n=$r(pr(r,i,i+1),-1);if(n.top!=t.top)return Ur(n,n.left<e.left)}}return t}}let s=t.state.doc.resolve(e-(o||0));if(!s.parent.inlineContent){if(null==o&&i&&(n<0||i==br(r))){let t=r.childNodes[i-1];if(1==t.nodeType)return qr(t.getBoundingClientRect(),!1)}if(null==o&&i<br(r)){let t=r.childNodes[i];if(1==t.nodeType)return qr(t.getBoundingClientRect(),!0)}return qr(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==br(r))){let t=r.childNodes[i-1],e=3==t.nodeType?pr(t,br(t)-(a?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return Ur($r(e,1),!1)}if(null==o&&i<br(r)){let t=r.childNodes[i];while(t.pmViewDesc&&t.pmViewDesc.ignoreForCoords)t=t.nextSibling;let e=t?3==t.nodeType?pr(t,0,a?0:1):1==t.nodeType?t:null:null;if(e)return Ur($r(e,-1),!0)}return Ur($r(3==r.nodeType?pr(r):r,-n),n>=0)}function Ur(t,e){if(0==t.width)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function qr(t,e){if(0==t.height)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Vr(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Hr(t,e,n){let r=e.selection,i="up"==n?r.$from:r.$to;return Vr(t,e,(()=>{let{node:e}=t.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.dom;break}e=n.dom.parentNode}let r=Wr(t,i.pos,1);for(let t=e.firstChild;t;t=t.nextSibling){let e;if(1==t.nodeType)e=t.getClientRects();else{if(3!=t.nodeType)continue;e=pr(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let i=e[t];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}const Gr=/[\u0590-\u08ac]/;function Xr(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=t.domSelection();return Gr.test(r.parent.textContent)&&s.modify?Vr(t,e,(()=>{let e=s.getRangeAt(0),i=s.focusNode,o=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");let c=r.depth?t.docView.domAfterPos(r.before()):t.dom,l=!c.contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||i==s.focusNode&&o==s.focusOffset;return s.removeAllRanges(),s.addRange(e),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?o:a}let Jr=null,Kr=null,Zr=!1;function Qr(t,e,n){return Jr==e&&Kr==n?Zr:(Jr=e,Kr=n,Zr="up"==n||"down"==n?Hr(t,e,n):Xr(t,e,n))}const ti=0,ei=1,ni=2,ri=3;class ii{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=ti,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){let n,r;if(t==this.contentDOM)n=t.childNodes[e-1];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;n=t.previousSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(t==this.contentDOM)n=t.childNodes[e];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;n=t.nextSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(t==this.dom&&this.contentDOM)r=e>hr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!1;break}if(e.previousSibling)break}if(null==r&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!0;break}if(e.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==t.nodeType?t:t.parentNode):i==t))return o;n=!1}}}getDesc(t){let e=t.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],i=n+r.size;if(n==t&&i!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n,r=0,i=0;for(let o=0;r<this.children.length;r++){let e=this.children[r],n=o+e.size;if(n>t||e instanceof hi){i=t-o;break}o=n}if(i)return this.children[r].domFromPos(i-this.children[r].border,e);for(;r&&!(n=this.children[r-1]).size&&n instanceof oi&&n.side>=0;r--);if(e<=0){let t,n=!0;for(;;r--,n=!1)if(t=r?this.children[r-1]:null,!t||t.dom.parentNode==this.contentDOM)break;return t&&e&&n&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?hr(t.dom)+1:0}}{let t,n=!0;for(;;r++,n=!1)if(t=r<this.children.length?this.children[r]:null,!t||t.dom.parentNode==this.contentDOM)break;return t&&n&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?hr(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,a=0;;a++){let n=this.children[a],s=o+n.size;if(-1==r&&t<=s){let i=o+n.border;if(t>=i&&e<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(t,e,i);t=o;for(let e=a;e>0;e--){let n=this.children[e-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=hr(n.dom)+1;break}t-=n.size}-1==r&&(r=0)}if(r>-1&&(s>e||a==this.children.length-1)){e=s;for(let t=a+1;t<this.children.length;t++){let n=this.children[t];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=hr(n.dom);break}e+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=s}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let i=Math.min(t,e),o=Math.max(t,e);for(let d=0,f=0;d<this.children.length;d++){let a=this.children[d],s=f+a.size;if(i>f&&o<s)return a.setSelection(t-f-a.border,e-f-a.border,n,r);f=s}let a=this.domFromPos(t,t?-1:1),s=e==t?a:this.domFromPos(e,e?-1:1),c=n.getSelection(),l=!1;if((er||or)&&t==e){let{node:t,offset:e}=a;if(3==t.nodeType){if(l=!(!e||"\n"!=t.nodeValue[e-1]),l&&e==t.nodeValue.length)for(let n,r=t;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(a=s={node:n.parentNode,offset:hr(n)+1});break}let t=r.pmViewDesc;if(t&&t.node&&t.node.isBlock)break}}else{let n=t.childNodes[e-1];l=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(er&&c.focusNode&&c.focusNode!=s.node&&1==c.focusNode.nodeType){let t=c.focusNode.childNodes[c.focusOffset];t&&"false"==t.contentEditable&&(r=!0)}if(!(r||l&&or)&&gr(a.node,a.offset,c.anchorNode,c.anchorOffset)&&gr(s.node,s.offset,c.focusNode,c.focusOffset))return;let u=!1;if((c.extend||t==e)&&!l){c.collapse(a.node,a.offset);try{t!=e&&c.extend(s.node,s.offset),u=!0}catch(h){if(!(h instanceof DOMException))throw h}}if(!u){if(t>e){let t=a;a=s,s=t}let n=document.createRange();n.setEnd(s.node,s.offset),n.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(n)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){let r=n+i.border,a=o-i.border;if(t>=r&&e<=a)return this.dirty=t==n||e==o?ni:ei,void(t!=r||e!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-r,e-r):i.dirty=ri);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?ri:ni}n=o}this.dirty=ni}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=1==t?ni:ei;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class oi extends ii{constructor(t,e,n,r){let i,o=e.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!e.type.spec.raw){if(1!=o.nodeType){let t=document.createElement("span");t.appendChild(o),o=t}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,i=this}matchesWidget(t){return this.dirty==ti&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ai extends ii{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class si extends ii{constructor(t,e,n,r){super(t,[],n,r),this.mark=e}static create(t,e,n,r){let i=r.nodeViews[e.type.name],o=i&&i(e,r,n);return o&&o.dom||(o=ce.renderSpec(document,e.type.spec.toDOM(e,n))),new si(t,e,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&ri||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return this.dirty!=ri&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=ti){let t=this.parent;while(!t.node)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=ti}}slice(t,e,n){let r=si.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;e<o&&(i=Ai(i,e,o,n)),t>0&&(i=Ai(i,0,t,n));for(let a=0;a<i.length;a++)i[a].parent=r;return r.children=i,r}}class ci extends ii{constructor(t,e,n,r,i,o,a,s,c){super(t,[],i,o),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a,o&&this.updateChildren(s,c)}static create(t,e,n,r,i,o){let a,s=i.nodeViews[e.type.name],c=s&&s(e,i,(()=>a?a.parent?a.parent.posBeforeChild(a):void 0:o),n,r),l=c&&c.dom,u=c&&c.contentDOM;if(e.isText)if(l){if(3!=l.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else l=document.createTextNode(e.text);else l||({dom:l,contentDOM:u}=ce.renderSpec(document,e.type.spec.toDOM(e)));u||e.isText||"BR"==l.nodeName||(l.hasAttribute("contenteditable")||(l.contentEditable="false"),e.type.spec.draggable&&(l.draggable=!0));let h=l;return l=vi(l,n,e),c?a=new di(t,e,n,r,l,u||null,h,c,i,o+1):e.isText?new ui(t,e,n,r,l,h,i):new ci(t,e,n,r,l,u||null,h,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>J.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,n){return this.dirty==ti&&t.eq(this.node)&&_i(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,i=t.composing?this.localCompositionInfo(t,e):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,s=new wi(this,o&&o.node,t);Ci(this.node,this.innerDeco,((e,i,o)=>{e.spec.marks?s.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!o&&s.syncToMarks(i==this.node.childCount?tt.none:this.node.child(i).marks,n,t),s.placeWidget(e,t,r)}),((e,o,c,l)=>{let u;s.syncToMarks(e.marks,n,t),s.findNodeMatch(e,o,c,l)||a&&t.state.selection.from>r&&t.state.selection.to<r+e.nodeSize&&(u=s.findIndexWithChild(i.node))>-1&&s.updateNodeAt(e,o,c,u,t)||s.updateNextNode(e,o,c,t,l)||s.addNode(e,o,c,t,r),r+=e.nodeSize})),s.syncToMarks([],n,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||this.dirty==ni)&&(o&&this.protectLocalComposition(t,o),fi(this.contentDOM,this.children,t),ar&&Ei(this.dom))}localCompositionInfo(t,e){let{from:n,to:r}=t.state.selection;if(!(t.state.selection instanceof Cn)||n<e||r>e+this.node.content.size)return null;let i=t.domSelection(),o=Si(i.focusNode,i.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let t=o.nodeValue,i=Ti(this.node.content,t,n-e,r-e);return i<0?null:{node:o,pos:i,text:t}}return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let i=e;for(;;i=i.parentNode){if(i.parentNode==this.contentDOM)break;while(i.previousSibling)i.parentNode.removeChild(i.previousSibling);while(i.nextSibling)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new ai(this,i,e,r);t.input.compositionNodes.push(o),this.children=Ai(this.children,n,n+r.length,t,o)}update(t,e,n,r){return!(this.dirty==ri||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=ti}updateOuterDeco(t){if(_i(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=yi(this.dom,this.nodeDOM,mi(this.outerDeco,this.node,e),mi(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function li(t,e,n,r,i){return vi(r,e,t),new ci(void 0,t,e,n,r,r,r,i,0)}class ui extends ci{constructor(t,e,n,r,i,o,a){super(t,e,n,r,i,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;while(t&&t!=this.dom&&!t.pmIsDeco)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return!(this.dirty==ri||this.dirty!=ti&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==ti&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=ti,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,n){let r=this.node.cut(t,e),i=document.createTextNode(r.text);return new ui(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=ri)}get domAtom(){return!1}}class hi extends ii{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ti&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class di extends ci{constructor(t,e,n,r,i,o,a,s,c,l){super(t,e,n,r,i,o,a,c,l),this.spec=s}update(t,e,n,r){if(this.dirty==ri)return!1;if(this.spec.update){let i=this.spec.update(t,e,n);return i&&this.updateInner(t,e,n,r),i}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function fi(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==t){while(s!=r)r=xi(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(s,r);if(a instanceof si){let e=r?r.previousSibling:t.lastChild;fi(a.contentDOM,a.children,n),r=e?e.nextSibling:t.firstChild}}while(r)r=xi(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const pi=function(t){t&&(this.nodeName=t)};pi.prototype=Object.create(null);const gi=[new pi];function mi(t,e,n){if(0==t.length)return gi;let r=n?gi[0]:new pi,i=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&i.push(r=new pi(a.nodeName));for(let t in a){let o=a[t];null!=o&&(n&&1==i.length&&i.push(r=new pi(e.isInline?"span":"div")),"class"==t?r.class=(r.class?r.class+" ":"")+o:"style"==t?r.style=(r.style?r.style+";":"")+o:"nodeName"!=t&&(r[t]=o))}}}return i}function yi(t,e,n,r){if(n==gi&&r==gi)return e;let i=e;for(let o=0;o<r.length;o++){let e=r[o],a=n[o];if(o){let n;a&&a.nodeName==e.nodeName&&i!=t&&(n=i.parentNode)&&n.nodeName.toLowerCase()==e.nodeName||(n=document.createElement(e.nodeName),n.pmIsDeco=!0,n.appendChild(i),a=gi[0]),i=n}bi(i,a||gi[0],e)}return i}function bi(t,e,n){for(let r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let e=0;e<r.length;e++)-1==i.indexOf(r[e])&&t.classList.remove(r[e]);for(let e=0;e<i.length;e++)-1==r.indexOf(i[e])&&t.classList.add(i[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(n=r.exec(e.style))t.style.removeProperty(n[1])}n.style&&(t.style.cssText+=n.style)}}function vi(t,e,n){return yi(t,t,gi,mi(e,n,1!=t.nodeType))}function _i(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function xi(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class wi{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=ki(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,i=this.stack.length>>1,o=Math.min(i,t.length);while(r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning)r++;while(r<i)this.destroyRest(),this.top.dirty=ti,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;while(i<t.length){this.stack.push(this.top,this.index+1);let r=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++)if(this.top.children[e].matchesMark(t[i])){r=e;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=si.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(t,e,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,n))o=this.top.children.indexOf(i,this.index);else for(let a=this.index,s=Math.min(this.top.children.length,a+5);a<s;a++){let r=this.top.children[a];if(r.matchesNode(t,e,n)&&!this.preMatch.matched.has(r)){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,r,i){let o=this.top.children[r];return o.dirty==ri&&o.dom==o.contentDOM&&(o.dirty=ni),!!o.update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let e=t.pmViewDesc;if(e)for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t;return-1}t=e}}updateNextNode(t,e,n,r,i){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof ci){let s=this.preMatch.matched.get(a);if(null!=s&&s!=i)return!1;let c=a.dom,l=this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&a.dirty!=ri&&_i(e,a.outerDeco));if(!l&&a.update(t,e,n,r))return this.destroyBetween(this.index,o),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(t,e,n,r,i){this.top.children.splice(this.index++,0,ci.create(this.top,t,e,n,r,i)),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){let r=new oi(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;while(t instanceof si)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof ui)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((or||rr)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");let r=new hi(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}}function ki(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,a=[];t:while(i>0){let s;for(;;)if(r){let t=n.children[r-1];if(!(t instanceof si)){s=t,r--;break}n=t,r=t.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}let c=s.node;if(c){if(c!=t.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function Di(t,e){return t.type.side-e.type.side}function Ci(t,e,n,r){let i=e.locals(t),o=0;if(0==i.length){for(let n=0;n<t.childCount;n++){let a=t.child(n);r(a,i,e.forChild(o,a),n),o+=a.nodeSize}return}let a=0,s=[],c=null;for(let l=0;;){if(a<i.length&&i[a].to==o){let t,e=i[a++];while(a<i.length&&i[a].to==o)(t||(t=[e])).push(i[a++]);if(t){t.sort(Di);for(let e=0;e<t.length;e++)n(t[e],l,!!c)}else n(e,l,!!c)}let u,h;if(c)h=-1,u=c,c=null;else{if(!(l<t.childCount))break;h=l,u=t.child(l++)}for(let t=0;t<s.length;t++)s[t].to<=o&&s.splice(t--,1);while(a<i.length&&i[a].from<=o&&i[a].to>o)s.push(i[a++]);let d=o+u.nodeSize;if(u.isText){let t=d;a<i.length&&i[a].from<t&&(t=i[a].from);for(let e=0;e<s.length;e++)s[e].to<t&&(t=s[e].to);t<d&&(c=u.cut(t-o),u=u.cut(0,t-o),d=t,h=-1)}let f=u.isInline&&!u.isLeaf?s.filter((t=>!t.inline)):s.slice();r(u,f,e.forChild(o,u),h),o=d}}function Ei(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Si(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=br(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function Ti(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let a=t.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let c=a.text;while(i<t.childCount){let e=t.child(i++);if(o+=e.nodeSize,!e.isText)break;c+=e.text}if(o>=n){let t=s<r?c.lastIndexOf(e,r-s-1):-1;if(t>=0&&t+e.length+s>=n)return s+t;if(n==r&&c.length>=r+e.length-s&&c.slice(r-s,r-s+e.length)==e)return r}}return-1}function Ai(t,e,n,r,i){let o=[];for(let a=0,s=0;a<t.length;a++){let c=t[a],l=s,u=s+=c.size;l>=n||u<=e?o.push(c):(l<e&&o.push(c.slice(0,e-l,r)),i&&(o.push(i),i=void 0),u>n&&o.push(c.slice(n-l,c.size,r)))}return o}function Mi(t,e=null){let n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&0==i.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s,c,l=r.resolve(a);if(xr(n)){s=l;while(i&&!i.node)i=i.parent;let t=i.node;if(i&&t.isAtom&&Sn.isSelectable(t)&&i.parent&&(!t.isInline||!vr(n.focusNode,n.focusOffset,i.dom))){let t=i.posBefore;c=new Sn(a==t?l:r.resolve(t))}}else{let e=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(e<0)return null;s=r.resolve(e)}if(!c){let n="pointer"==e||t.state.selection.head<l.pos&&!o?1:-1;c=$i(t,s,l,n)}return c}function Fi(t){return t.editable?t.hasFocus():Wi(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Oi(t,e=!1){let n=t.state.selection;if(ji(t,n),Fi(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&rr){let e=t.domSelection(),n=t.domObserver.currentSelection;if(e.anchorNode&&n.anchorNode&&gr(e.anchorNode,e.anchorOffset,n.anchorNode,n.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Pi(t);else{let r,i,{anchor:o,head:a}=n;!Ni||n instanceof Cn||(n.$from.parent.inlineContent||(r=Bi(t,n.from)),n.empty||n.$from.parent.inlineContent||(i=Bi(t,n.to))),t.docView.setSelection(o,a,t.root,e),Ni&&(r&&Li(r),i&&Li(i)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ri(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Ni=or||rr&&ir<63;function Bi(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(or&&i&&"false"==i.contentEditable)return Ii(i);if((!i||"false"==i.contentEditable)&&(!o||"false"==o.contentEditable)){if(i)return Ii(i);if(o)return Ii(o)}}function Ii(t){return t.contentEditable="true",or&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Li(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Ri(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout((()=>{Fi(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}function Pi(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,hr(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Qn&&tr<=11&&(r.disabled=!0,r.disabled=!1)}function ji(t,e){if(e instanceof Sn){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(zi(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else zi(t)}function zi(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function $i(t,e,n,r){return t.someProp("createSelectionBetween",(r=>r(t,e,n)))||Cn.between(e,n,r)}function Yi(t){return!(t.editable&&!t.hasFocus())&&Wi(t)}function Wi(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(ug){return!1}}function Ui(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelection();return gr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function qi(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&xn.findFrom(o,e)}function Vi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Hi(t,e,n){let r=t.state.selection;if(!(r instanceof Cn)){if(r instanceof Sn&&r.node.isInline)return Vi(t,new Cn(e>0?r.$to:r.$from));{let n=qi(t.state,e);return!!n&&Vi(t,n)}}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let n=qi(t.state,e);return!!(n&&n instanceof Sn)&&Vi(t,n)}if(!(sr&&n.indexOf("m")>-1)){let n,i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return!!(o.isAtom||(n=t.docView.descAt(a))&&!n.contentDOM)&&(Sn.isSelectable(o)?Vi(t,new Sn(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):!!lr&&Vi(t,new Cn(t.state.doc.resolve(e<0?a:a+o.nodeSize))))}}function Gi(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Xi(t){let e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Ji(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=!1;for(er&&1==n.nodeType&&r<Gi(n)&&Xi(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;{let t=n.childNodes[r-1];if(Xi(t))i=n,o=--r;else{if(3!=t.nodeType)break;n=t,r=n.nodeValue.length}}}else{if(Zi(n))break;{let e=n.previousSibling;while(e&&Xi(e))i=n.parentNode,o=hr(e),e=e.previousSibling;if(e)n=e,r=Gi(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?Qi(t,e,n,r):i&&Qi(t,e,i,o)}function Ki(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=Gi(n);for(;;)if(r<a){if(1!=n.nodeType)break;let t=n.childNodes[r];if(!Xi(t))break;i=n,o=++r}else{if(Zi(n))break;{let e=n.nextSibling;while(e&&Xi(e))i=e.parentNode,o=hr(e)+1,e=e.nextSibling;if(e)n=e,r=0,a=Gi(n);else{if(n=n.parentNode,n==t.dom)break;r=a=0}}}i&&Qi(t,e,i,o)}function Zi(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Qi(t,e,n,r){if(xr(e)){let t=document.createRange();t.setEnd(n,r),t.setStart(n,r),e.removeAllRanges(),e.addRange(t)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout((()=>{t.state==i&&Oi(t)}),50)}function to(t,e,n){let r=t.state.selection;if(r instanceof Cn&&!r.empty||n.indexOf("s")>-1)return!1;if(sr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let n=qi(t.state,e);if(n&&n instanceof Sn)return Vi(t,n)}if(!i.parent.inlineContent){let n=e<0?i:o,a=r instanceof An?xn.near(n,e):xn.findFrom(n,e);return!!a&&Vi(t,a)}return!1}function eo(t,e){if(!(t.state.selection instanceof Cn))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let r=t.state.tr;return e<0?r.delete(n.pos-o.nodeSize,n.pos):r.delete(n.pos,n.pos+o.nodeSize),t.dispatch(r),!0}return!1}function no(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function ro(t){if(!or||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let n=e.firstChild;no(t,n,"true"),setTimeout((()=>no(t,n,"false")),20)}return!1}function io(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function oo(t,e){let n=e.keyCode,r=io(e);return 8==n||sr&&72==n&&"c"==r?eo(t,-1)||Ji(t):46==n||sr&&68==n&&"c"==r?eo(t,1)||Ki(t):13==n||27==n||(37==n||sr&&66==n&&"c"==r?Hi(t,-1,r)||Ji(t):39==n||sr&&70==n&&"c"==r?Hi(t,1,r)||Ki(t):38==n||sr&&80==n&&"c"==r?to(t,-1,r)||Ji(t):40==n||sr&&78==n&&"c"==r?ro(t)||to(t,1,r)||Ki(t):r==(sr?"m":"c")&&(66==n||73==n||89==n||90==n))}function ao(t,e){t.someProp("transformCopied",(t=>{e=t(e)}));let n=[],{content:r,openStart:i,openEnd:o}=e;while(i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount){i--,o--;let t=r.firstChild;n.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),r=t.content}let a=t.someProp("clipboardSerializer")||ce.fromSchema(t.state.schema),s=bo(),c=s.createElement("div");c.appendChild(a.serializeFragment(r,{document:s}));let l,u=c.firstChild,h=0;while(u&&1==u.nodeType&&(l=mo[u.nodeName.toLowerCase()])){for(let t=l.length-1;t>=0;t--){let e=s.createElement(l[t]);while(c.firstChild)e.appendChild(c.firstChild);c.appendChild(e),h++}u=c.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${i} ${o}${h?` -${h}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",(t=>t(e)))||e.content.textBetween(0,e.content.size,"\n\n");return{dom:c,text:d}}function so(t,e,n,r,i){let o,a,s=i.parent.type.spec.code;if(!n&&!e)return null;let c=e&&(r||s||!n);if(c){if(t.someProp("transformPastedText",(t=>{e=t(e,s||r)})),s)return e?new nt(J.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):nt.empty;let n=t.someProp("clipboardTextParser",(t=>t(e,i,r)));if(n)a=n;else{let n=i.marks(),{schema:r}=t.state,a=ce.fromSchema(r);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((t=>{let e=o.appendChild(document.createElement("p"));t&&e.appendChild(a.serializeNode(r.text(t,n)))}))}}else t.someProp("transformPastedHTML",(t=>{n=t(n)})),o=vo(n),lr&&_o(o);let l=o&&o.querySelector("[data-pm-slice]"),u=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let h=+u[3];h>0&&o.firstChild;h--)o=o.firstChild;if(!a){let e=t.someProp("clipboardParser")||t.someProp("domParser")||Vt.fromSchema(t.state.schema);a=e.parseSlice(o,{preserveWhitespace:!(!c&&!u),context:i,ruleFromNode(t){return"BR"!=t.nodeName||t.nextSibling||!t.parentNode||co.test(t.parentNode.nodeName)?null:{ignore:!0}}})}if(u)a=xo(go(a,+u[1],+u[2]),u[4]);else if(a=nt.maxOpen(lo(a.content,i),!0),a.openStart||a.openEnd){let t=0,e=0;for(let n=a.content.firstChild;t<a.openStart&&!n.type.spec.isolating;t++,n=n.firstChild);for(let n=a.content.lastChild;e<a.openEnd&&!n.type.spec.isolating;e++,n=n.lastChild);a=go(a,t,e)}return t.someProp("transformPasted",(t=>{a=t(a)})),a}const co=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function lo(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r,i=e.node(n),o=i.contentMatchAt(e.index(n)),a=[];if(t.forEach((t=>{if(!a)return;let e,n=o.findWrapping(t.type);if(!n)return a=null;if(e=a.length&&r.length&&ho(n,r,t,a[a.length-1],0))a[a.length-1]=e;else{a.length&&(a[a.length-1]=fo(a[a.length-1],r.length));let e=uo(t,n);a.push(e),o=o.matchType(e.type),r=n}})),a)return J.from(a)}return t}function uo(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,J.from(t));return t}function ho(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=ho(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));let a=r.contentMatchAt(r.childCount);if(a.matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(J.from(uo(n,t,i+1))))}}function fo(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,fo(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(J.empty,!0);return t.copy(n.append(r))}function po(t,e,n,r,i,o){let a=e<0?t.firstChild:t.lastChild,s=a.content;return i<r-1&&(s=po(s,e,n,r,i+1,o)),i>=n&&(s=e<0?a.contentMatchAt(0).fillBefore(s,t.childCount>1||o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(J.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(s))}function go(t,e,n){return e<t.openStart&&(t=new nt(po(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new nt(po(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const mo={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let yo=null;function bo(){return yo||(yo=document.implementation.createHTMLDocument("title"))}function vo(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n,r=bo().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);if((n=i&&mo[i[1].toLowerCase()])&&(t=n.map((t=>"<"+t+">")).join("")+t+n.map((t=>"</"+t+">")).reverse().join("")),r.innerHTML=t,n)for(let o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}function _o(t){let e=t.querySelectorAll(rr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function xo(t,e){if(!t.size)return t;let n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(Mk){return t}let{content:i,openStart:o,openEnd:a}=t;for(let s=n.length-2;s>=0;s-=2){let t=r.nodes[n[s]];if(!t||t.hasRequiredAttrs())break;i=J.from(t.create(n[s+1],i)),o++,a++}return new nt(i,o,a)}const wo={},ko={},Do={touchstart:!0,touchmove:!0};class Co{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Eo(t){for(let e in wo){let n=wo[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!Fo(t,e)||Mo(t,e)||!t.editable&&e.type in ko||n(t,e)},Do[e]?{passive:!0}:void 0)}or&&t.dom.addEventListener("input",(()=>null)),Ao(t)}function So(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function To(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Ao(t){t.someProp("handleDOMEvents",(e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=e=>Mo(t,e))}))}function Mo(t,e){return t.someProp("handleDOMEvents",(n=>{let r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function Fo(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Oo(t,e){Mo(t,e)||!wo[e.type]||!t.editable&&e.type in ko||wo[e.type](t,e)}function No(t){return{left:t.clientX,top:t.clientY}}function Bo(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Io(t,e,n,r,i){if(-1==r)return!1;let o=t.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,(e=>a>o.depth?e(t,n,o.nodeAfter,o.before(a),i,!0):e(t,n,o.node(a),o.before(a),i,!1))))return!0;return!1}function Lo(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Ro(t,e){if(-1==e)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&Sn.isSelectable(r))&&(Lo(t,new Sn(n),"pointer"),!0)}function Po(t,e){if(-1==e)return!1;let n,r,i=t.state.selection;i instanceof Sn&&(n=i.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let t=a>o.depth?o.nodeAfter:o.node(a);if(Sn.isSelectable(t)){r=n&&i.$from.depth>0&&a>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(a);break}}return null!=r&&(Lo(t,Sn.create(t.state.doc,r),"pointer"),!0)}function jo(t,e,n,r,i){return Io(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(n=>n(t,e,r)))||(i?Po(t,n):Ro(t,n))}function zo(t,e,n,r){return Io(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(n=>n(t,e,r)))}function $o(t,e,n,r){return Io(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(n=>n(t,e,r)))||Yo(t,n,r)}function Yo(t,e,n){if(0!=n.button)return!1;let r=t.state.doc;if(-1==e)return!!r.inlineContent&&(Lo(t,Cn.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let e=o>i.depth?i.nodeAfter:i.node(o),n=i.before(o);if(e.inlineContent)Lo(t,Cn.create(r,n+1,n+1+e.content.size),"pointer");else{if(!Sn.isSelectable(e))continue;Lo(t,Sn.create(r,n),"pointer")}return!0}}function Wo(t){return Ko(t)}ko.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!Vo(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!cr||!rr||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!ar||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",(e=>e(t,n)))||oo(t,n)?n.preventDefault():So(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",(e=>e(t,wr(13,"Enter")))),t.input.lastIOSEnter=0)}),200)}},ko.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},ko.keypress=(t,e)=>{let n=e;if(Vo(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||sr&&n.metaKey)return;if(t.someProp("handleKeyPress",(e=>e(t,n))))return void n.preventDefault();let r=t.state.selection;if(!(r instanceof Cn)||!r.$from.sameParent(r.$to)){let e=String.fromCharCode(n.charCode);t.someProp("handleTextInput",(n=>n(t,r.$from.pos,r.$to.pos,e)))||t.dispatch(t.state.tr.insertText(e).scrollIntoView()),n.preventDefault()}};const Uo=sr?"metaKey":"ctrlKey";wo.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Wo(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&Bo(n,t.input.lastClick)&&!n[Uo]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let a=t.posAtCoords(No(n));a&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new qo(t,a,n,!!r)):("doubleClick"==o?zo:$o)(t,a.pos,a.inside,n)?n.preventDefault():So(t,"pointer"))};class qo{constructor(t,e,n,r){let i,o;if(this.view=t,this.pos=e,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[Uo],this.allowDefault=n.shiftKey,e.inside>-1)i=t.state.doc.nodeAt(e.inside),o=e.inside;else{let n=t.state.doc.resolve(e.pos);i=n.parent,o=n.depth?n.before():0}const a=r?null:n.target,s=a?t.docView.nearestDesc(a,!0):null;this.target=s?s.dom:null;let{selection:c}=t.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||c instanceof Sn&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!er||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),So(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Oi(this.view))),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(No(t))),this.updateAllowDefault(t),this.allowDefault||!e?So(this.view,"pointer"):jo(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||or&&this.mightDrag&&!this.mightDrag.node.isAtom||rr&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Lo(this.view,xn.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):So(this.view,"pointer")}move(t){this.updateAllowDefault(t),So(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function Vo(t,e){return!!t.composing||!!(or&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}wo.touchstart=t=>{t.input.lastTouch=Date.now(),Wo(t),So(t,"pointer")},wo.touchmove=t=>{t.input.lastTouch=Date.now(),So(t,"pointer")},wo.contextmenu=t=>Wo(t);const Ho=cr?5e3:-1;function Go(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout((()=>Ko(t)),e))}function Xo(t){t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Jo());while(t.input.compositionNodes.length>0)t.input.compositionNodes.pop().markParentsDirty()}function Jo(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ko(t,e=!1){if(!(cr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Xo(t),e||t.docView&&t.docView.dirty){let e=Mi(t);return e&&!e.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(e)):t.updateState(t.state),!0}return!1}}function Zo(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}ko.compositionstart=ko.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((t=>!1===t.type.spec.inclusive))))t.markCursor=t.state.storedMarks||n.marks(),Ko(t,!0),t.markCursor=null;else if(Ko(t),er&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let e=t.domSelection();for(let t=e.focusNode,n=e.focusOffset;t&&1==t.nodeType&&0!=n;){let r=n<0?t.lastChild:t.childNodes[n-1];if(!r)break;if(3==r.nodeType){e.collapse(r,r.nodeValue.length);break}t=r,n=-1}}t.input.composing=!0}Go(t,Ho)},ko.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,Go(t,20))};const Qo=Qn&&tr<15||ar&&ur<604;function ta(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function ea(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?na(t,r.value,null,e):na(t,r.textContent,r.innerHTML,e)}),50)}function na(t,e,n,r){let i=so(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(e=>e(t,r,i||nt.empty))))return!0;if(!i)return!1;let o=ta(i),a=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}wo.copy=ko.cut=(t,e)=>{let n=e,r=t.state.selection,i="cut"==n.type;if(r.empty)return;let o=Qo?null:n.clipboardData,a=r.content(),{dom:s,text:c}=ao(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",c)):Zo(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},ko.paste=(t,e)=>{let n=e;if(t.composing&&!cr)return;let r=Qo?null:n.clipboardData;r&&na(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():ea(t,n)};class ra{constructor(t,e){this.slice=t,this.move=e}}const ia=sr?"altKey":"ctrlKey";wo.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(No(n));if(o&&o.pos>=i.from&&o.pos<=(i instanceof Sn?i.to-1:i.to));else if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(Sn.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let e=t.docView.nearestDesc(n.target,!0);e&&e.node.type.spec.draggable&&e!=t.docView&&t.dispatch(t.state.tr.setSelection(Sn.create(t.state.doc,e.posBefore)))}let a=t.state.selection.content(),{dom:s,text:c}=ao(t,a);n.dataTransfer.clearData(),n.dataTransfer.setData(Qo?"Text":"text/html",s.innerHTML),n.dataTransfer.effectAllowed="copyMove",Qo||n.dataTransfer.setData("text/plain",c),t.dragging=new ra(a,!n[ia])},wo.dragend=t=>{let e=t.dragging;window.setTimeout((()=>{t.dragging==e&&(t.dragging=null)}),50)},ko.dragover=ko.dragenter=(t,e)=>e.preventDefault(),ko.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(No(n));if(!i)return;let o=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",(t=>{a=t(a)})):a=so(t,n.dataTransfer.getData(Qo?"Text":"text/plain"),Qo?null:n.dataTransfer.getData("text/html"),!1,o);let s=!(!r||n[ia]);if(t.someProp("handleDrop",(e=>e(t,n,a||nt.empty,s))))return void n.preventDefault();if(!a)return;n.preventDefault();let c=a?tn(t.state.doc,o.pos,a):o.pos;null==c&&(c=o.pos);let l=t.state.tr;s&&l.deleteSelection();let u=l.mapping.map(c),h=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,d=l.doc;if(h?l.replaceRangeWith(u,u,a.content.firstChild):l.replaceRange(u,u,a),l.doc.eq(d))return;let f=l.doc.resolve(u);if(h&&Sn.isSelectable(a.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(a.content.firstChild))l.setSelection(new Sn(f));else{let e=l.mapping.map(c);l.mapping.maps[l.mapping.maps.length-1].forEach(((t,n,r,i)=>e=i)),l.setSelection($i(t,f,l.doc.resolve(e)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))},wo.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&Oi(t)}),20))},wo.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},wo.beforeinput=(t,e)=>{let n=e;if(rr&&cr&&"deleteContentBackward"==n.inputType){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout((()=>{if(t.input.domChangeCount!=e)return;if(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",(e=>e(t,wr(8,"Backspace")))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let c in ko)wo[c]=ko[c];function oa(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class aa{constructor(t,e){this.toDOM=t,this.spec=e||ha,this.side=this.spec.side||0}map(t,e,n,r){let{pos:i,deleted:o}=t.mapResult(e.from+r,this.side<0?-1:1);return o?null:new la(i-n,i-n,this)}valid(){return!0}eq(t){return this==t||t instanceof aa&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&oa(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class sa{constructor(t,e){this.attrs=t,this.spec=e||ha}map(t,e,n,r){let i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new la(i,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof sa&&oa(this.attrs,t.attrs)&&oa(this.spec,t.spec)}static is(t){return t.type instanceof sa}destroy(){}}class ca{constructor(t,e){this.attrs=t,this.spec=e||ha}map(t,e,n,r){let i=t.mapResult(e.from+r,1);if(i.deleted)return null;let o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new la(i.pos-n,o.pos-n,this)}valid(t,e){let n,{index:r,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(n=t.child(r)).isText&&i+n.nodeSize==e.to}eq(t){return this==t||t instanceof ca&&oa(this.attrs,t.attrs)&&oa(this.spec,t.spec)}destroy(){}}class la{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new la(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new la(t,t,new aa(e,n))}static inline(t,e,n,r){return new la(t,e,new sa(n,r))}static node(t,e,n,r){return new la(t,e,new ca(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof sa}}const ua=[],ha={};class da{constructor(t,e){this.local=t.length?t:ua,this.children=e.length?e:ua}static create(t,e){return e.length?_a(e,t,0,ha):fa}find(t,e,n){let r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}findInner(t,e,n,r,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=e&&a.to>=t&&(!i||i(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,e-a,n,r+a,i)}}map(t,e,n){return this==fa||0==t.maps.length?this:this.mapInner(t,e,0,0,n||ha)}mapInner(t,e,n,r,i){let o;for(let a=0;a<this.local.length;a++){let s=this.local[a].map(t,n,r);s&&s.type.valid(e,s)?(o||(o=[])).push(s):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?ga(this.children,o||[],t,e,n,r,i):o?new da(o.sort(xa),ua):fa}add(t,e){return e.length?this==fa?da.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,i=0;t.forEach(((t,o)=>{let a,s=o+n;if(a=ba(e,t,s)){r||(r=this.children.slice());while(i<r.length&&r[i]<o)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(t,a,s+1):r.splice(i,0,o,o+t.nodeSize,_a(a,t,s+1,ha)),i+=3}}));let o=ma(i?va(e):e,-n);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new da(o.length?this.local.concat(o).sort(xa):this.local,r||this.children)}remove(t){return 0==t.length||this==fa?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let r,o=n[i]+e,a=n[i+1]+e;for(let e,n=0;n<t.length;n++)(e=t[n])&&e.from>o&&e.to<a&&(t[n]=null,(r||(r=[])).push(e));if(!r)continue;n==this.children&&(n=this.children.slice());let s=n[i+2].removeInner(r,o+1);s!=fa?n[i+2]=s:(n.splice(i,3),i-=3)}if(r.length)for(let i,o=0;o<t.length;o++)if(i=t[o])for(let t=0;t<r.length;t++)r[t].eq(i,e)&&(r==this.local&&(r=this.local.slice()),r.splice(t--,1));return n==this.children&&r==this.local?this:r.length||n.length?new da(r,n):fa}forChild(t,e){if(this==fa)return this;if(e.isLeaf)return da.empty;let n,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(n=this.children[a+2]);break}let i=t+1,o=i+e.content.size;for(let a=0;a<this.local.length;a++){let t=this.local[a];if(t.from<o&&t.to>i&&t.type instanceof sa){let e=Math.max(i,t.from)-i,n=Math.min(o,t.to)-i;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let t=new da(r.sort(xa),ua);return n?new pa([t,n]):t}return n||fa}eq(t){if(this==t)return!0;if(!(t instanceof da)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return wa(this.localsInner(t))}localsInner(t){if(this==fa)return ua;if(t.inlineContent||!this.local.some(sa.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof sa||e.push(this.local[n]);return e}}da.empty=new da([],[]),da.removeOverlap=wa;const fa=da.empty;class pa{constructor(t){this.members=t}map(t,e){const n=this.members.map((n=>n.map(t,e,ha)));return pa.from(n)}forChild(t,e){if(e.isLeaf)return da.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(t,e);i!=fa&&(i instanceof pa?n=n.concat(i.members):n.push(i))}return pa.from(n)}eq(t){if(!(t instanceof pa)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(let t=0;t<i.length;t++)e.push(i[t])}else e=i}return e?wa(n?e:e.sort(xa)):ua}static from(t){switch(t.length){case 0:return fa;case 1:return t[0];default:return new pa(t)}}}function ga(t,e,n,r,i,o,a){let s=t.slice();for(let l=0,u=o;l<n.maps.length;l++){let t=0;n.maps[l].forEach(((e,n,r,o)=>{let a=o-r-(n-e);for(let c=0;c<s.length;c+=3){let o=s[c+1];if(o<0||e>o+u-t)continue;let l=s[c]+u-t;n>=l?s[c+1]=e<=l?-2:-1:r>=i&&a&&(s[c]+=a,s[c+1]+=a)}t+=a})),u=n.maps[l].map(u,-1)}let c=!1;for(let l=0;l<s.length;l+=3)if(s[l+1]<0){if(-2==s[l+1]){c=!0,s[l+1]=-1;continue}let e=n.map(t[l]+o),u=e-i;if(u<0||u>=r.content.size){c=!0;continue}let h=n.map(t[l+1]+o,-1),d=h-i,{index:f,offset:p}=r.content.findIndex(u),g=r.maybeChild(f);if(g&&p==u&&p+g.nodeSize==d){let r=s[l+2].mapInner(n,g,e+1,t[l]+o+1,a);r!=fa?(s[l]=u,s[l+1]=d,s[l+2]=r):(s[l+1]=-2,c=!0)}else c=!0}if(c){let c=ya(s,t,e,n,i,o,a),l=_a(c,r,0,a);e=l.local;for(let t=0;t<s.length;t+=3)s[t+1]<0&&(s.splice(t,3),t-=3);for(let t=0,e=0;t<l.children.length;t+=3){let n=l.children[t];while(e<s.length&&s[e]<n)e+=3;s.splice(e,0,l.children[t],l.children[t+1],l.children[t+2])}}return new da(e.sort(xa),s)}function ma(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new la(i.from+e,i.to+e,i.type))}return n}function ya(t,e,n,r,i,o,a){function s(t,e){for(let o=0;o<t.local.length;o++){let s=t.local[o].map(r,i,e);s?n.push(s):a.onRemove&&a.onRemove(t.local[o].spec)}for(let n=0;n<t.children.length;n+=3)s(t.children[n+2],t.children[n]+e+1)}for(let c=0;c<t.length;c+=3)-1==t[c+1]&&s(t[c+2],e[c]+o+1);return n}function ba(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o,a=0;a<t.length;a++)(o=t[a])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[a]=null);return i}function va(t){let e=[];for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function _a(t,e,n,r){let i=[],o=!1;e.forEach(((e,a)=>{let s=ba(t,e,a+n);if(s){o=!0;let t=_a(s,e,n+a+1,r);t!=fa&&i.push(a,a+e.nodeSize,t)}}));let a=ma(o?va(t):t,-n).sort(xa);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new da(a,i):fa}function xa(t,e){return t.from-e.from||t.to-e.to}function wa(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),ka(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),ka(e,i+1,o.copy(r.to,o.to)))}}return e}function ka(t,e,n){while(e<t.length&&xa(n,t[e])>0)e++;t.splice(e,0,n)}function Da(t){let e=[];return t.someProp("decorations",(n=>{let r=n(t.state);r&&r!=fa&&e.push(r)})),t.cursorWrapper&&e.push(da.create(t.state.doc,[t.cursorWrapper.deco])),pa.from(e)}const Ca={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ea=Qn&&tr<=11;class Sa{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Ta{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Sa,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);Qn&&tr<=11&&t.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),Ea&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ca)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Yi(this.view)){if(this.suppressingSelectionUpdates)return Oi(this.view);if(Qn&&tr<=11&&!this.view.state.selection.empty){let t=this.view.domSelection();if(t.focusNode&&gr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(t){if(0==t.rangeCount)return!0;let e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let n=t.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Yi(t)&&!this.ignoreSelectionChange(n),i=-1,o=-1,a=!1,s=[];if(t.editable)for(let l=0;l<e.length;l++){let t=this.registerMutation(e[l],s);t&&(i=i<0?t.from:Math.min(t.from,i),o=o<0?t.to:Math.max(t.to,o),t.typeOver&&(a=!0))}if(er&&s.length>1){let t=s.filter((t=>"BR"==t.nodeName));if(2==t.length){let e=t[0],n=t[1];e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}}let c=null;i<0&&r&&t.input.lastFocus>Date.now()-200&&t.input.lastTouch<Date.now()-300&&xr(n)&&(c=Mi(t))&&c.eq(xn.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Oi(t),this.currentSelection.set(n),t.scrollToSelection()):(i>-1||r)&&(i>-1&&(t.docView.markDirty(i,o),Fa(t)),this.handleDOMChange(i,o,a,s),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Oi(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(let n=0;n<t.addedNodes.length;n++)e.push(t.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,i=t.nextSibling;if(Qn&&tr<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:n,nextSibling:o}=t.addedNodes[e];(!n||Array.prototype.indexOf.call(t.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(t.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==t.target?hr(r)+1:0,a=n.localPosFromDOM(t.target,o,-1),s=i&&i.parentNode==t.target?hr(i):t.target.childNodes.length,c=n.localPosFromDOM(t.target,s,1);return{from:a,to:c}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let Aa=new WeakMap,Ma=!1;function Fa(t){if(!Aa.has(t)&&(Aa.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace))){if(t.requiresGeckoHackNode=er,Ma)return;console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ma=!0}}function Oa(t,e,n){let r,{node:i,fromOffset:o,toOffset:a,from:s,to:c}=t.docView.parseRange(e,n),l=t.domSelection(),u=l.anchorNode;if(u&&t.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:l.anchorOffset}],xr(l)||r.push({node:l.focusNode,offset:l.focusOffset})),rr&&8===t.input.lastKeyCode)for(let m=a;m>o;m--){let t=i.childNodes[m-1],e=t.pmViewDesc;if("BR"==t.nodeName&&!e){a=m;break}if(!e||e.size)break}let h=t.state.doc,d=t.someProp("domParser")||Vt.fromSchema(t.state.schema),f=h.resolve(s),p=null,g=d.parse(i,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:o,to:a,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Na,context:f});if(r&&null!=r[0].pos){let t=r[0].pos,e=r[1]&&r[1].pos;null==e&&(e=t),p={anchor:t+s,head:e+s}}return{doc:g,sel:p,from:s,to:c}}function Na(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(or&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||or&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Ba(t,e,n,r,i){if(e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,n=Mi(t,e);if(n&&!t.state.selection.eq(n)){let r=t.state.tr.setSelection(n);"pointer"==e?r.setMeta("pointer",!0):"key"==e&&r.scrollIntoView(),t.dispatch(r)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let s,c,l=t.state.selection,u=Oa(t,e,n),h=t.state.doc,d=h.slice(u.from,u.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(s=t.state.selection.to,c="end"):(s=t.state.selection.from,c="start"),t.input.lastKeyCode=null;let f=ja(d.content,u.doc.content,u.from,s,c);if((ar&&t.input.lastIOSEnter>Date.now()-225||cr)&&i.some((t=>"DIV"==t.nodeName||"P"==t.nodeName))&&(!f||f.endA>=f.endB)&&t.someProp("handleKeyDown",(e=>e(t,wr(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(!f){if(!(r&&l instanceof Cn&&!l.empty&&l.$head.sameParent(l.$anchor))||t.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let e=Ia(t,t.state.doc,u.sel);e&&!e.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(e))}return}f={start:l.from,endA:l.to,endB:l.to}}if(rr&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let t=f.endB-f.start;u.sel={anchor:u.sel.anchor+t,head:u.sel.anchor+t}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&f.start==f.endB&&t.state.selection instanceof Cn&&(f.start>t.state.selection.from&&f.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?f.start=t.state.selection.from:f.endA<t.state.selection.to&&f.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(f.endB+=t.state.selection.to-f.endA,f.endA=t.state.selection.to)),Qn&&tr<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>u.from&&" "==u.doc.textBetween(f.start-u.from-1,f.start-u.from+1)&&(f.start--,f.endA--,f.endB--);let p,g=u.doc.resolveNoCache(f.start-u.from),m=u.doc.resolveNoCache(f.endB-u.from),y=h.resolve(f.start),b=g.sameParent(m)&&g.parent.inlineContent&&y.end()>=f.endA;if((ar&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some((t=>"DIV"==t.nodeName||"P"==t.nodeName)))||!b&&g.pos<u.doc.content.size&&(p=xn.findFrom(u.doc.resolve(g.pos+1),1,!0))&&p.head==m.pos)&&t.someProp("handleKeyDown",(e=>e(t,wr(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(t.state.selection.anchor>f.start&&Ra(h,f.start,f.endA,g,m)&&t.someProp("handleKeyDown",(e=>e(t,wr(8,"Backspace")))))return void(cr&&rr&&t.domObserver.suppressSelectionUpdates());rr&&cr&&f.endB==f.start&&(t.input.lastAndroidDelete=Date.now()),cr&&!b&&g.start()!=m.start()&&0==m.parentOffset&&g.depth==m.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==f.endA&&(f.endB-=2,m=u.doc.resolveNoCache(f.endB-u.from),setTimeout((()=>{t.someProp("handleKeyDown",(function(e){return e(t,wr(13,"Enter"))}))}),20));let v,_,x,w=f.start,k=f.endA;if(b)if(g.pos==m.pos)Qn&&tr<=11&&0==g.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((()=>Oi(t)),20)),v=t.state.tr.delete(w,k),_=h.resolve(f.start).marksAcross(h.resolve(f.endA));else if(f.endA==f.endB&&(x=La(g.parent.content.cut(g.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,f.endA-y.start()))))v=t.state.tr,"add"==x.type?v.addMark(w,k,x.mark):v.removeMark(w,k,x.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let e=g.parent.textBetween(g.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",(n=>n(t,w,k,e))))return;v=t.state.tr.insertText(e,w,k)}if(v||(v=t.state.tr.replace(w,k,u.doc.slice(f.start-u.from,f.endB-u.from))),u.sel){let e=Ia(t,v.doc,u.sel);e&&!(rr&&cr&&t.composing&&e.empty&&(f.start!=f.endB||t.input.lastAndroidDelete<Date.now()-100)&&(e.head==w||e.head==v.mapping.map(k)-1)||Qn&&e.empty&&e.head==w)&&v.setSelection(e)}_&&v.ensureMarks(_),t.dispatch(v.scrollIntoView())}function Ia(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:$i(t,e.resolve(n.anchor),e.resolve(n.head))}function La(t,e){let n,r,i,o=t.firstChild.marks,a=e.firstChild.marks,s=o,c=a;for(let u=0;u<a.length;u++)s=a[u].removeFromSet(s);for(let u=0;u<o.length;u++)c=o[u].removeFromSet(c);if(1==s.length&&0==c.length)r=s[0],n="add",i=t=>t.mark(r.addToSet(t.marks));else{if(0!=s.length||1!=c.length)return null;r=c[0],n="remove",i=t=>t.mark(r.removeFromSet(t.marks))}let l=[];for(let u=0;u<e.childCount;u++)l.push(i(e.child(u)));if(J.from(l).eq(t))return{mark:r,type:n}}function Ra(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Pa(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(Pa(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||Pa(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Pa(t,e,n){let r=t.depth,i=e?t.end():t.pos;while(r>0&&(e||t.indexAfter(r)==t.node(r).childCount))r--,i++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));while(e&&!e.isLeaf)e=e.firstChild,i++}return i}function ja(t,e,n,r,i){let o=t.findDiffStart(e,n);if(null==o)return null;let{a:a,b:s}=t.findDiffEnd(e,n+t.size,n+e.size);if("end"==i){let t=Math.max(0,o-Math.min(a,s));r-=a+t-o}if(a<o&&t.size<e.size){let t=r<=o&&r>=a?o-r:0;o-=t,s=o+(s-a),a=o}else if(s<o){let t=r<=o&&r>=s?o-r:0;o-=t,a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}class za{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Co,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(Ha),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Wa(this),Ya(this),this.nodeViews=qa(this),this.docView=li(this.state.doc,$a(this),Da(this),this.dom,this),this.domObserver=new Ta(this,((t,e,n,r)=>Ba(this,t,e,n,r))),this.domObserver.start(),Eo(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Ao(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Ha),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){let n=this.state,r=!1,i=!1;t.storedMarks&&this.composing&&(Xo(this),i=!0),this.state=t;let o=n.plugins!=t.plugins||this._props.plugins!=e.plugins;if(o||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=qa(this);Va(t,this.nodeViews)&&(this.nodeViews=t,r=!0)}(o||e.handleDOMEvents!=this._props.handleDOMEvents)&&Ao(this),this.editable=Wa(this),Ya(this);let a=Da(this),s=$a(this),c=n.plugins==t.plugins||n.doc.eq(t.doc)?t.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",l=r||!this.docView.matchesNode(t.doc,s,a);!l&&t.selection.eq(n.selection)||(i=!0);let u="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&Sr(this);if(i){this.domObserver.stop();let e=l&&(Qn||rr)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&Ua(n.selection,t.selection);if(l){let n=rr?this.trackWrites=this.domSelection().focusNode:null;!r&&this.docView.update(t.doc,s,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=li(t.doc,s,a,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&Ui(this))?Oi(this,e):(ji(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():u&&Ar(u)}scrollToSelection(){let t=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(t=>t(this))));else if(this.state.selection instanceof Sn){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&Er(this,e.getBoundingClientRect(),t)}else Er(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;while(t=this.pluginViews.pop())t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}someProp(t,e){let n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(let o=0;o<this.directPlugins.length;o++){let r=this.directPlugins[o].props[t];if(null!=r&&(n=e?e(r):r))return n}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let r=i[o].props[t];if(null!=r&&(n=e?e(r):r))return n}}hasFocus(){if(Qn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;while(t&&this.dom!=t&&this.dom.contains(t)){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Or(this.dom),Oi(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return t||document}posAtCoords(t){return zr(this,t)}coordsAtPos(t,e=1){return Wr(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return Qr(this,e||this.state,t)}destroy(){this.docView&&(To(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Da(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return Oo(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelection(){return this.root.getSelection()}}function $a(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let t in n)"class"==t&&(e.class+=" "+n[t]),"style"==t?e.style=(e.style?e.style+";":"")+n[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(n[t]))})),[la.node(0,t.state.doc.content.size,e)]}function Ya(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:la.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Wa(t){return!t.someProp("editable",(e=>!1===e(t.state)))}function Ua(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function qa(t){let e=Object.create(null);function n(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Va(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Ha(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const Ga="undefined"!=typeof navigator?navigator:null,Xa="undefined"!=typeof document?document:null,Ja=Ga&&Ga.userAgent||"",Ka=/Edge\/(\d+)/.exec(Ja),Za=/MSIE \d/.exec(Ja),Qa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ja),ts=!!(Za||Qa||Ka),es=(Za?document.documentMode:Qa?Qa[1]:Ka&&Ka[1],!ts&&/gecko\/(\d+)/i.test(Ja)),ns=(es&&(/Firefox\/(\d+)/.exec(Ja)||[0,0])[1],!ts&&/Chrome\/(\d+)/.exec(Ja)),rs=(ns&&ns[1],!ts&&!!Ga&&/Apple Computer/.test(Ga.vendor)),is=rs&&(/Mobile\/\w+/.test(Ja)||!!Ga&&Ga.maxTouchPoints>2),as=(is||!!Ga&&/Mac/.test(Ga.platform),/Android \d/.test(Ja),!!Xa&&"webkitFontSmoothing"in Xa.documentElement.style);as&&(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];function ss(t,e,n,r,i,o){if(t.composing)return!1;const a=t.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;const c=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"")+r;for(let l=0;l<i.length;l++){const s=i[l].match.exec(c),u=s&&s[0]&&i[l].handler(a,s,e-(s[0].length-r.length),n);if(u)return t.dispatch(u.setMeta(o,{transform:u,from:e,to:n,text:r})),!0}return!1}const cs=new Vn("MILKDOWN_CUSTOM_INPUTRULES"),ls=({rules:t})=>{const e=new Wn({key:cs,isInputRules:!0,state:{init(){return null},apply(t,e){const n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput(n,r,i,o){return ss(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>(setTimeout((()=>{const{$cursor:r}=n.state.selection;r&&ss(n,r.pos,r.pos,"",t,e)})),!1)},handleKeyDown(n,r){if("Enter"!==r.key)return!1;const{$cursor:i}=n.state.selection;return!!i&&ss(n,i.pos,i.pos,"\n",t,e)}}});return e};const us=(t,e,n)=>{const r=t.state,{from:i}=r.selection,{node:o}=t.domAtPos(i),a=o instanceof Text?o.parentElement:o;if(!(a instanceof HTMLElement))throw _(a);const s=a.getBoundingClientRect(),c=e.getBoundingClientRect(),l=e.parentElement;if(!l)throw _(l);const u=l.getBoundingClientRect(),[h,d]=n(s,c,u);e.style.top=h+"px",e.style.left=d+"px"},hs=(t,e,n)=>{const r=t.state,{from:i,to:o}=r.selection,a=t.coordsAtPos(i),s=t.coordsAtPos(o),c=e.getBoundingClientRect(),l=e.parentElement;if(!l)throw k();const u=l.getBoundingClientRect(),[h,d]=n(a,s,c,u);e.style.top=h+"px",e.style.left=d+"px"},ds=t=>Object.assign(Object.create(t),t).setTime(Date.now()),fs=(t,e)=>Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t,ps=(t,e)=>{const n=e.nodes[t];if(!n)throw v("node",t);return n},gs=t=>e=>{for(let n=e.depth;n>0;n--){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},ms=t=>e=>gs(t)(e.$from),ys=(t,e)=>{if(!(t instanceof Sn))return;const{node:n,$from:r}=t;return fs(e,n)?{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}:void 0},bs=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),vs=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;let i=ws(r);if(!i){let n=r.blockRange(),i=n&&Pe(n);return null!=i&&(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&Is(t,i,e))return!0;if(0==r.parent.content.size&&(_s(o,"end")||Sn.isSelectable(o))){let n=en(t.doc,r.before(),r.after(),nt.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(_s(o,"end")?xn.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):Sn.create(r.doc,i.pos-o.nodeSize)),e(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0)};function _s(t,e,n=!1){for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const xs=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=ws(r)}let a=o&&o.nodeBefore;return!(!a||!Sn.isSelectable(a))&&(e&&e(t.tr.setSelection(Sn.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function ws(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}const ks=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;let i=Cs(r);if(!i)return!1;let o=i.nodeAfter;if(Is(t,i,e))return!0;if(0==r.parent.content.size&&(_s(o,"start")||Sn.isSelectable(o))){let n=en(t.doc,r.before(),r.after(),nt.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(_s(o,"start")?xn.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):Sn.create(r.doc,r.mapping.map(i.pos))),e(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)},Ds=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Cs(r)}let a=o&&o.nodeAfter;return!(!a||!Sn.isSelectable(a))&&(e&&e(t.tr.setSelection(Sn.create(t.doc,o.pos)).scrollIntoView()),!0)};function Cs(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Es=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)};function Ss(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Ts=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=Ss(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let r=n.after(),i=t.tr.replaceWith(r,r,a.createAndFill());i.setSelection(xn.near(i.doc.resolve(r),1)),e(i.scrollIntoView())}return!0},As=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof An||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Ss(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(n,o.createAndFill());a.setSelection(Cn.create(a.doc,n+1)),e(a.scrollIntoView())}return!0},Ms=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Ge(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Pe(r);return null!=i&&(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},Fs=(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof Sn&&t.selection.node.isBlock)return!(!n.parentOffset||!Ge(t.doc,n.pos))&&(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(e){let i=r.parentOffset==r.parent.content.size,o=t.tr;(t.selection instanceof Cn||t.selection instanceof An)&&o.deleteSelection();let a=0==n.depth?null:Ss(n.node(-1).contentMatchAt(n.indexAfter(-1))),s=i&&a?[{type:a}]:void 0,c=Ge(o.doc,o.mapping.map(n.pos),1,s);if(s||c||!Ge(o.doc,o.mapping.map(n.pos),1,a?[{type:a}]:void 0)||(a&&(s=[{type:a}]),c=!0),c&&(o.split(o.mapping.map(n.pos),1,s),!i&&!n.parentOffset&&n.parent.type!=a)){let t=o.mapping.map(n.before()),e=o.doc.resolve(t);a&&n.node(-1).canReplaceWith(e.index(),e.index()+1,a)&&o.setNodeMarkup(o.mapping.map(n.before()),a)}e(o.scrollIntoView())}return!0},Os=(t,e)=>{let n,{$from:r,to:i}=t.selection,o=r.sharedDepth(i);return 0!=o&&(n=r.before(o),e&&e(t.tr.setSelection(Sn.create(t.doc,n))),!0)},Ns=(t,e)=>(e&&e(t.tr.setSelection(new An(t.doc))),!0);function Bs(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!!(r&&i&&r.type.compatibleContent(i.type))&&(!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(o,o+1)||!i.isTextblock&&!Je(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}function Is(t,e,n){let r,i,o=e.nodeBefore,a=e.nodeAfter;if(o.type.spec.isolating||a.type.spec.isolating)return!1;if(Bs(t,e,n))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(a.type))&&i.matchType(r[0]||a.type).validEnd){if(n){let i=e.pos+a.nodeSize,s=J.empty;for(let t=r.length-1;t>=0;t--)s=J.from(r[t].create(null,s));s=J.from(o.copy(s));let c=t.tr.step(new Oe(e.pos-1,i,e.pos,i,new nt(s,1,0),r.length,!0)),l=i+2*r.length;Je(c.doc,l)&&c.join(l),n(c.scrollIntoView())}return!0}let c=xn.findFrom(e,1),l=c&&c.$from.blockRange(c.$to),u=l&&Pe(l);if(null!=u&&u>=e.depth)return n&&n(t.tr.lift(l,u).scrollIntoView()),!0;if(s&&_s(a,"start",!0)&&_s(o,"end")){let r=o,i=[];for(;;){if(i.push(r),r.isTextblock)break;r=r.lastChild}let s=a,c=1;for(;!s.isTextblock;s=s.firstChild)c++;if(r.canReplace(r.childCount,r.childCount,s.content)){if(n){let r=J.empty;for(let t=i.length-1;t>=0;t--)r=J.from(i[t].copy(r));let o=t.tr.step(new Oe(e.pos-i.length,e.pos+a.nodeSize,e.pos+c,e.pos+a.nodeSize-c,new nt(r,i.length,0),0,!0));n(o.scrollIntoView())}return!0}}return!1}function Ls(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;while(i.node(o).isInline){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(e.tr.setSelection(Cn.create(e.doc,t<0?i.start(o):i.end(o)))),!0)}}const Rs=Ls(-1),Ps=Ls(1);function js(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&ze(a,t,e);return!!s&&(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0)}}function zs(t,e=null){return function(n,r){let{from:i,to:o}=n.selection,a=!1;return n.doc.nodesBetween(i,o,((r,i)=>{if(a)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)a=!0;else{let e=n.doc.resolve(i),r=e.index();a=e.parent.canReplaceWith(r,r+1,t)}})),!!a&&(r&&r(n.tr.setBlockType(i,o,t,e).scrollIntoView()),!0)}}function $s(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],a=0==i.depth&&(t.inlineContent&&t.type.allowsMarkType(n));if(t.nodesBetween(i.pos,o.pos,(t=>{if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return!0}return!1}function Ys(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:a}=n.selection;if(i&&!o||!$s(n.doc,a,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let i=!1,o=n.tr;for(let e=0;!i&&e<a.length;e++){let{$from:r,$to:o}=a[e];i=n.doc.rangeHasMark(r.pos,o.pos,t)}for(let n=0;n<a.length;n++){let{$from:r,$to:s}=a[n];if(i)o.removeMark(r.pos,s.pos,t);else{let n=r.pos,i=s.pos,a=r.nodeAfter,c=s.nodeBefore,l=a&&a.isText?/^\s*/.exec(a.text)[0].length:0,u=c&&c.isText?/\s*$/.exec(c.text)[0].length:0;n+l<i&&(n+=l,i-=u),o.addMark(n,i,t.create(e))}}r(o.scrollIntoView())}return!0}}function Ws(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let Us=Ws(bs,vs,xs),qs=Ws(bs,ks,Ds);const Vs={Enter:Ws(Es,As,Ms,Fs),"Mod-Enter":Ts,Backspace:Us,"Mod-Backspace":Us,"Shift-Backspace":Us,Delete:qs,"Mod-Delete":qs,"Mod-a":Ns},Hs={"Ctrl-h":Vs["Backspace"],"Alt-Backspace":Vs["Mod-Backspace"],"Ctrl-d":Vs["Delete"],"Ctrl-Alt-Backspace":Vs["Mod-Delete"],"Alt-Delete":Vs["Mod-Delete"],"Alt-d":Vs["Mod-Delete"],"Ctrl-a":Rs,"Ctrl-e":Ps};for(let c in Vs)Hs[c]=Vs[c];const Gs="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform(),Xs=Gs?Hs:Vs;for(var Js={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ks={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Zs="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Qs=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),tc="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ec=Qs||Zs&&+Zs[1]<57,nc=0;nc<10;nc++)Js[48+nc]=Js[96+nc]=String(nc);for(nc=1;nc<=24;nc++)Js[nc+111]="F"+nc;for(nc=65;nc<=90;nc++)Js[nc]=String.fromCharCode(nc+32),Ks[nc]=String.fromCharCode(nc);for(var rc in Js)Ks.hasOwnProperty(rc)||(Ks[rc]=Js[rc]);function ic(t){var e=ec&&(t.ctrlKey||t.altKey||t.metaKey)||tc&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key,n=!e&&t.key||(t.shiftKey?Ks:Js)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}const oc="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function ac(t){let e,n,r,i,o=t.split(/-(?!$)/),a=o[o.length-1];"Space"==a&&(a=" ");for(let s=0;s<o.length-1;s++){let t=o[s];if(/^(cmd|meta|m)$/i.test(t))i=!0;else if(/^a(lt)?$/i.test(t))e=!0;else if(/^(c|ctrl|control)$/i.test(t))n=!0;else if(/^s(hift)?$/i.test(t))r=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);oc?i=!0:n=!0}}return e&&(a="Alt-"+a),n&&(a="Ctrl-"+a),i&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function sc(t){let e=Object.create(null);for(let n in t)e[ac(n)]=t[n];return e}function cc(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function lc(t){return new Wn({props:{handleKeyDown:uc(t)}})}function uc(t){let e=sc(t);return function(t,n){let r,i=ic(n),o=1==i.length&&" "!=i,a=e[cc(i,n,!o)];if(a&&a(t.state,t.dispatch,t))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=Js[n.keyCode])&&r!=i){let i=e[cc(r,n,!0)];if(i&&i(t.state,t.dispatch,t))return!0}else if(o&&n.shiftKey){let r=e[cc(i,n,!0)];if(r&&r(t.state,t.dispatch,t))return!0}return!1}}function hc(t,e){var{includeImageAlt:n=!0}=e||{};return dc(t,n)}function dc(t,e){return t&&"object"===typeof t&&(t.value||(e?t.alt:"")||"children"in t&&fc(t.children,e)||Array.isArray(t)&&fc(t,e))||""}function fc(t,e){var n=[],r=-1;while(++r<t.length)n[r]=dc(t[r],e);return n.join("")}function pc(t,e,n,r){const i=t.length;let o,a=0;if(e=e<0?-e>i?0:i+e:e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),[].splice.apply(t,o);else{n&&[].splice.apply(t,[e,n]);while(a<r.length)o=r.slice(a,a+1e4),o.unshift(e,0),[].splice.apply(t,o),a+=1e4,e+=1e4}}function gc(t,e){return t.length>0?(pc(t,t.length,0,e),t):e}const mc={}.hasOwnProperty;function yc(t){const e={};let n=-1;while(++n<t.length)bc(e,t[n]);return e}function bc(t,e){let n;for(n in e){const r=mc.call(t,n)?t[n]:void 0,i=r||(t[n]={}),o=e[n];let a;for(a in o){mc.call(i,a)||(i[a]=[]);const t=o[a];vc(i[a],Array.isArray(t)?t:t?[t]:[])}}}function vc(t,e){let n=-1;const r=[];while(++n<e.length)("after"===e[n].add?t:r).push(e[n]);pc(t,0,0,r)}const _c=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,xc=Nc(/[A-Za-z]/),wc=Nc(/\d/),kc=Nc(/[\dA-Fa-f]/),Dc=Nc(/[\dA-Za-z]/),Cc=Nc(/[!-/:-@[-`{-~]/),Ec=Nc(/[#-'*+\--9=?A-Z^-~]/);function Sc(t){return null!==t&&(t<32||127===t)}function Tc(t){return null!==t&&(t<0||32===t)}function Ac(t){return null!==t&&t<-2}function Mc(t){return-2===t||-1===t||32===t}const Fc=Nc(/\s/),Oc=Nc(_c);function Nc(t){return e;function e(e){return null!==e&&t.test(String.fromCharCode(e))}}function Bc(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(r){return Mc(r)?(t.enter(n),s(r)):e(r)}function s(r){return Mc(r)&&o++<i?(t.consume(r),s):(t.exit(n),e(r))}}const Ic={tokenize:Lc};function Lc(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(n){if(null!==n)return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Bc(t,e,"linePrefix");t.consume(n)}function i(e){return t.enter("paragraph"),o(e)}function o(e){const r=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,a(e)}function a(e){return null===e?(t.exit("chunkText"),t.exit("paragraph"),void t.consume(e)):Ac(e)?(t.consume(e),t.exit("chunkText"),o):(t.consume(e),a)}}const Rc={tokenize:jc},Pc={tokenize:zc};function jc(t){const e=this,n=[];let r,i,o,a=0;return s;function s(r){if(a<n.length){const i=n[a];return e.containerState=i[1],t.attempt(i[0].continuation,c,l)(r)}return l(r)}function c(t){if(a++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&b();const n=e.events.length;let i,o=n;while(o--)if("exit"===e.events[o][0]&&"chunkFlow"===e.events[o][1].type){i=e.events[o][1].end;break}y(a);let s=n;while(s<e.events.length)e.events[s][1].end=Object.assign({},i),s++;return pc(e.events,o+1,0,e.events.slice(n)),e.events.length=s,l(t)}return s(t)}function l(i){if(a===n.length){if(!r)return d(i);if(r.currentConstruct&&r.currentConstruct.concrete)return p(i);e.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Pc,u,h)(i)}function u(t){return r&&b(),y(a),d(t)}function h(t){return e.parser.lazy[e.now().line]=a!==n.length,o=e.now().offset,p(t)}function d(n){return e.containerState={},t.attempt(Pc,f,p)(n)}function f(t){return a++,n.push([e.currentConstruct,e.containerState]),d(t)}function p(n){return null===n?(r&&b(),y(0),void t.consume(n)):(r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),g(n))}function g(n){return null===n?(m(t.exit("chunkFlow"),!0),y(0),void t.consume(n)):Ac(n)?(t.consume(n),m(t.exit("chunkFlow")),a=0,e.interrupt=void 0,s):(t.consume(n),g)}function m(t,n){const s=e.sliceStream(t);if(n&&s.push(null),t.previous=i,i&&(i.next=t),i=t,r.defineSkip(t.start),r.write(s),e.parser.lazy[t.start.line]){let t=r.events.length;while(t--)if(r.events[t][1].start.offset<o&&(!r.events[t][1].end||r.events[t][1].end.offset>o))return;const n=e.events.length;let i,s,c=n;while(c--)if("exit"===e.events[c][0]&&"chunkFlow"===e.events[c][1].type){if(i){s=e.events[c][1].end;break}i=!0}y(a),t=n;while(t<e.events.length)e.events[t][1].end=Object.assign({},s),t++;pc(e.events,c+1,0,e.events.slice(n)),e.events.length=t}}function y(r){let i=n.length;while(i-- >r){const r=n[i];e.containerState=r[1],r[0].exit.call(e,t)}n.length=r}function b(){r.write([null]),i=void 0,r=void 0,e.containerState._closeFlow=void 0}}function zc(t,e,n){return Bc(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const $c={tokenize:Yc,partial:!0};function Yc(t,e,n){return Bc(t,r,"linePrefix");function r(t){return null===t||Ac(t)?e(t):n(t)}}function Wc(t){const e={};let n,r,i,o,a,s,c,l=-1;while(++l<t.length){while(l in e)l=e[l];if(n=t[l],l&&"chunkFlow"===n[1].type&&"listItemPrefix"===t[l-1][1].type&&(s=n[1]._tokenizer.events,i=0,i<s.length&&"lineEndingBlank"===s[i][1].type&&(i+=2),i<s.length&&"content"===s[i][1].type))while(++i<s.length){if("content"===s[i][1].type)break;"chunkText"===s[i][1].type&&(s[i][1]._isInFirstContentOfListItem=!0,i++)}if("enter"===n[0])n[1].contentType&&(Object.assign(e,Uc(t,l)),l=e[l],c=!0);else if(n[1]._container){i=l,r=void 0;while(i--){if(o=t[i],"lineEnding"!==o[1].type&&"lineEndingBlank"!==o[1].type)break;"enter"===o[0]&&(r&&(t[r][1].type="lineEndingBlank"),o[1].type="lineEnding",r=i)}r&&(n[1].end=Object.assign({},t[r][1].start),a=t.slice(r,l),a.unshift(n),pc(t,r,l-r+1,a))}}return!c}function Uc(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const o=[],a=n._tokenizer||r.parser[n.contentType](n.start),s=a.events,c=[],l={};let u,h,d=-1,f=n,p=0,g=0;const m=[g];while(f){while(t[++i][1]!==f);o.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),h&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}f=n;while(++d<s.length)"exit"===s[d][0]&&"enter"===s[d-1][0]&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(g=d+1,m.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):m.pop(),d=m.length;while(d--){const e=s.slice(m[d],m[d+1]),n=o.pop();c.unshift([n,n+e.length-1]),pc(t,n,2,e)}d=-1;while(++d<c.length)l[p+c[d][0]]=p+c[d][1],p+=c[d][1]-c[d][0]-1;return l}const qc={tokenize:Gc,resolve:Hc},Vc={tokenize:Xc,partial:!0};function Hc(t){return Wc(t),t}function Gc(t,e){let n;return r;function r(e){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(e)}function i(e){return null===e?o(e):Ac(e)?t.check(Vc,a,o)(e):(t.consume(e),i)}function o(n){return t.exit("chunkContent"),t.exit("content"),e(n)}function a(e){return t.consume(e),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Xc(t,e,n){const r=this;return i;function i(e){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),Bc(t,o,"linePrefix")}function o(i){if(null===i||Ac(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?e(i):t.interrupt(r.parser.constructs.flow,n,e)(i)}}const Jc={tokenize:Kc};function Kc(t){const e=this,n=t.attempt($c,r,t.attempt(this.parser.constructs.flowInitial,i,Bc(t,t.attempt(this.parser.constructs.flow,i,t.attempt(qc,i)),"linePrefix")));return n;function r(r){if(null!==r)return t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n;t.consume(r)}function i(r){if(null!==r)return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),e.currentConstruct=void 0,n;t.consume(r)}}const Zc={resolveAll:nl()},Qc=el("string"),tl=el("text");function el(t){return{tokenize:e,resolveAll:nl("text"===t?rl:void 0)};function e(e){const n=this,r=this.parser.constructs[t],i=e.attempt(r,o,a);return o;function o(t){return c(t)?i(t):a(t)}function a(t){if(null!==t)return e.enter("data"),e.consume(t),s;e.consume(t)}function s(t){return c(t)?(e.exit("data"),i(t)):(e.consume(t),s)}function c(t){if(null===t)return!0;const e=r[t];let i=-1;if(e)while(++i<e.length){const t=e[i];if(!t.previous||t.previous.call(n,n.previous))return!0}return!1}}}function nl(t){return e;function e(e,n){let r,i=-1;while(++i<=e.length)void 0===r?e[i]&&"data"===e[i][1].type&&(r=i,i++):e[i]&&"data"===e[i][1].type||(i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),i=r+2),r=void 0);return t?t(e,n):e}}function rl(t,e){let n=0;while(++n<=t.length)if((n===t.length||"lineEnding"===t[n][1].type)&&"data"===t[n-1][1].type){const r=t[n-1][1],i=e.sliceStream(r);let o,a=i.length,s=-1,c=0;while(a--){const t=i[a];if("string"===typeof t){s=t.length;while(32===t.charCodeAt(s-1))c++,s--;if(s)break;s=-1}else if(-2===t)o=!0,c++;else if(-1!==t){a++;break}}if(c){const i={type:n===t.length||o||c<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-c,offset:r.end.offset-c,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},i.start),r.start.offset===r.end.offset?Object.assign(r,i):(t.splice(n,0,["enter",i,e],["exit",i,e]),n+=2)}n++}return t}function il(t,e,n){const r=[];let i=-1;while(++i<t.length){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}function ol(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let a=[],s=[],c=!0;const l={consume:_,enter:x,exit:w,attempt:C(k),check:C(D),interrupt:C(D,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:g,sliceSerialize:p,now:m,defineSkip:y,write:f};let h,d=e.tokenize.call(u,l);return e.resolveAll&&o.push(e),u;function f(t){return a=gc(a,t),b(),null!==a[a.length-1]?[]:(E(e,0),u.events=il(o,u.events,u),u.events)}function p(t,e){return sl(g(t),e)}function g(t){return al(a,t)}function m(){return Object.assign({},r)}function y(t){i[t.line]=t.column,T()}function b(){let t;while(r._index<a.length){const e=a[r._index];if("string"===typeof e){t=r._index,r._bufferIndex<0&&(r._bufferIndex=0);while(r._index===t&&r._bufferIndex<e.length)v(e.charCodeAt(r._bufferIndex))}else v(e)}}function v(t){c=void 0,h=t,d=d(t)}function _(t){Ac(t)?(r.line++,r.column=1,r.offset+=-3===t?2:1,T()):-1!==t&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=t,c=!0}function x(t,e){const n=e||{};return n.type=t,n.start=m(),u.events.push(["enter",n,u]),s.push(n),n}function w(t){const e=s.pop();return e.end=m(),u.events.push(["exit",e,u]),e}function k(t,e){E(t,e.from)}function D(t,e){e.restore()}function C(t,e){return n;function n(n,r,i){let o,a,s,h;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):d(n);function d(t){return e;function e(e){const n=null!==e&&t[e],r=null!==e&&t.null,i=[...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]];return f(i)(e)}}function f(t){return o=t,a=0,0===t.length?i:p(t[a])}function p(t){return n;function n(n){return h=S(),s=t,t.partial||(u.currentConstruct=t),t.name&&u.parser.constructs.disable.null.includes(t.name)?m(n):t.tokenize.call(e?Object.assign(Object.create(u),e):u,l,g,m)(n)}}function g(e){return c=!0,t(s,h),r}function m(t){return c=!0,h.restore(),++a<o.length?p(o[a]):i}}}function E(t,e){t.resolveAll&&!o.includes(t)&&o.push(t),t.resolve&&pc(u.events,e,u.events.length-e,t.resolve(u.events.slice(e),u)),t.resolveTo&&(u.events=t.resolveTo(u.events,u))}function S(){const t=m(),e=u.previous,n=u.currentConstruct,i=u.events.length,o=Array.from(s);return{restore:a,from:i};function a(){r=t,u.previous=e,u.currentConstruct=n,u.events.length=i,s=o,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function al(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;return n===i?a=[t[n].slice(r,o)]:(a=t.slice(n,i),r>-1&&(a[0]=a[0].slice(r)),o>0&&a.push(t[i].slice(0,o))),a}function sl(t,e){let n=-1;const r=[];let i;while(++n<t.length){const o=t[n];let a;if("string"===typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=e?" ":"\t";break;case-1:if(!e&&i)continue;a=" ";break;default:a=String.fromCharCode(o)}i=-2===o,r.push(a)}return r.join("")}const cl={name:"thematicBreak",tokenize:ll};function ll(t,e,n){let r,i=0;return o;function o(e){return t.enter("thematicBreak"),r=e,a(e)}function a(o){return o===r?(t.enter("thematicBreakSequence"),s(o)):Mc(o)?Bc(t,a,"whitespace")(o):i<3||null!==o&&!Ac(o)?n(o):(t.exit("thematicBreak"),e(o))}function s(e){return e===r?(t.consume(e),i++,s):(t.exit("thematicBreakSequence"),a(e))}}const ul={name:"list",tokenize:fl,continuation:{tokenize:pl},exit:ml},hl={tokenize:yl,partial:!0},dl={tokenize:gl,partial:!0};function fl(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(e){const i=r.containerState.type||(42===e||43===e||45===e?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||e===r.containerState.marker:wc(e)){if(r.containerState.type||(r.containerState.type=i,t.enter(i,{_container:!0})),"listUnordered"===i)return t.enter("listItemPrefix"),42===e||45===e?t.check(cl,n,l)(e):l(e);if(!r.interrupt||49===e)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(e)}return n(e)}function c(e){return wc(e)&&++a<10?(t.consume(e),c):(!r.interrupt||a<2)&&(r.containerState.marker?e===r.containerState.marker:41===e||46===e)?(t.exit("listItemValue"),l(e)):n(e)}function l(e){return t.enter("listItemMarker"),t.consume(e),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||e,t.check($c,r.interrupt?n:u,t.attempt(hl,d,h))}function u(t){return r.containerState.initialBlankLine=!0,o++,d(t)}function h(e){return Mc(e)?(t.enter("listItemPrefixWhitespace"),t.consume(e),t.exit("listItemPrefixWhitespace"),d):n(e)}function d(n){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(n)}}function pl(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check($c,i,o);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Bc(t,e,"listItemIndent",r.containerState.size+1)(n)}function o(n){return r.containerState.furtherBlankLines||!Mc(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(dl,e,a)(n))}function a(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,Bc(t,t.attempt(ul,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}function gl(t,e,n){const r=this;return Bc(t,i,"listItemIndent",r.containerState.size+1);function i(t){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?e(t):n(t)}}function ml(t){t.exit(this.containerState.type)}function yl(t,e,n){const r=this;return Bc(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(t){const i=r.events[r.events.length-1];return!Mc(t)&&i&&"listItemPrefixWhitespace"===i[1].type?e(t):n(t)}}const bl={name:"blockQuote",tokenize:vl,continuation:{tokenize:_l},exit:xl};function vl(t,e,n){const r=this;return i;function i(e){if(62===e){const n=r.containerState;return n.open||(t.enter("blockQuote",{_container:!0}),n.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(e),t.exit("blockQuoteMarker"),o}return n(e)}function o(n){return Mc(n)?(t.enter("blockQuotePrefixWhitespace"),t.consume(n),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(n))}}function _l(t,e,n){return Bc(t,t.attempt(bl,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xl(t){t.exit("blockQuote")}function wl(t,e,n,r,i,o,a,s,c){const l=c||Number.POSITIVE_INFINITY;let u=0;return h;function h(e){return 60===e?(t.enter(r),t.enter(i),t.enter(o),t.consume(e),t.exit(o),d):null===e||41===e||Sc(e)?n(e):(t.enter(r),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),g(e))}function d(n){return 62===n?(t.enter(o),t.consume(n),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),f(n))}function f(e){return 62===e?(t.exit("chunkString"),t.exit(s),d(e)):null===e||60===e||Ac(e)?n(e):(t.consume(e),92===e?p:f)}function p(e){return 60===e||62===e||92===e?(t.consume(e),f):f(e)}function g(i){return 40===i?++u>l?n(i):(t.consume(i),g):41===i?u--?(t.consume(i),g):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(i)):null===i||Tc(i)?u?n(i):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(i)):Sc(i)?n(i):(t.consume(i),92===i?m:g)}function m(e){return 40===e||41===e||92===e?(t.consume(e),g):g(e)}}function kl(t,e,n,r,i,o){const a=this;let s,c=0;return l;function l(e){return t.enter(r),t.enter(i),t.consume(e),t.exit(i),t.enter(o),u}function u(l){return null===l||91===l||93===l&&!s||94===l&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs||c>999?n(l):93===l?(t.exit(o),t.enter(i),t.consume(l),t.exit(i),t.exit(r),e):Ac(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),h(l))}function h(e){return null===e||91===e||93===e||Ac(e)||c++>999?(t.exit("chunkString"),u(e)):(t.consume(e),s=s||!Mc(e),92===e?d:h)}function d(e){return 91===e||92===e||93===e?(t.consume(e),c++,h):h(e)}}function Dl(t,e,n,r,i,o){let a;return s;function s(e){return t.enter(r),t.enter(i),t.consume(e),t.exit(i),a=40===e?41:e,c}function c(n){return n===a?(t.enter(i),t.consume(n),t.exit(i),t.exit(r),e):(t.enter(o),l(n))}function l(e){return e===a?(t.exit(o),c(a)):null===e?n(e):Ac(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),Bc(t,l,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(e))}function u(e){return e===a||null===e||Ac(e)?(t.exit("chunkString"),l(e)):(t.consume(e),92===e?h:u)}function h(e){return e===a||92===e?(t.consume(e),u):u(e)}}function Cl(t,e){let n;return r;function r(i){return Ac(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Mc(i)?Bc(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function El(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Sl={name:"definition",tokenize:Al},Tl={tokenize:Ml,partial:!0};function Al(t,e,n){const r=this;let i;return o;function o(e){return t.enter("definition"),kl.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(e)}function a(e){return i=El(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===e?(t.enter("definitionMarker"),t.consume(e),t.exit("definitionMarker"),Cl(t,wl(t,t.attempt(Tl,Bc(t,s,"whitespace"),Bc(t,s,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(e)}function s(o){return null===o||Ac(o)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(o)):n(o)}}function Ml(t,e,n){return r;function r(e){return Tc(e)?Cl(t,i)(e):n(e)}function i(e){return 34===e||39===e||40===e?Dl(t,Bc(t,o,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(e):n(e)}function o(t){return null===t||Ac(t)?e(t):n(t)}}const Fl={name:"codeIndented",tokenize:Nl},Ol={tokenize:Bl,partial:!0};function Nl(t,e,n){const r=this;return i;function i(e){return t.enter("codeIndented"),Bc(t,o,"linePrefix",5)(e)}function o(t){const e=r.events[r.events.length-1];return e&&"linePrefix"===e[1].type&&e[2].sliceSerialize(e[1],!0).length>=4?a(t):n(t)}function a(e){return null===e?c(e):Ac(e)?t.attempt(Ol,a,c)(e):(t.enter("codeFlowValue"),s(e))}function s(e){return null===e||Ac(e)?(t.exit("codeFlowValue"),a(e)):(t.consume(e),s)}function c(n){return t.exit("codeIndented"),e(n)}}function Bl(t,e,n){const r=this;return i;function i(e){return r.parser.lazy[r.now().line]?n(e):Ac(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i):Bc(t,o,"linePrefix",5)(e)}function o(t){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?e(t):Ac(t)?i(t):n(t)}}const Il={name:"headingAtx",tokenize:Rl,resolve:Ll};function Ll(t,e){let n,r,i=t.length-2,o=3;return"whitespace"===t[o][1].type&&(o+=2),i-2>o&&"whitespace"===t[i][1].type&&(i-=2),"atxHeadingSequence"===t[i][1].type&&(o===i-1||i-4>o&&"whitespace"===t[i-2][1].type)&&(i-=o+1===i?2:4),i>o&&(n={type:"atxHeadingText",start:t[o][1].start,end:t[i][1].end},r={type:"chunkText",start:t[o][1].start,end:t[i][1].end,contentType:"text"},pc(t,o,i-o+1,[["enter",n,e],["enter",r,e],["exit",r,e],["exit",n,e]])),t}function Rl(t,e,n){const r=this;let i=0;return o;function o(e){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),a(e)}function a(o){return 35===o&&i++<6?(t.consume(o),a):null===o||Tc(o)?(t.exit("atxHeadingSequence"),r.interrupt?e(o):s(o)):n(o)}function s(n){return 35===n?(t.enter("atxHeadingSequence"),c(n)):null===n||Ac(n)?(t.exit("atxHeading"),e(n)):Mc(n)?Bc(t,s,"whitespace")(n):(t.enter("atxHeadingText"),l(n))}function c(e){return 35===e?(t.consume(e),c):(t.exit("atxHeadingSequence"),s(e))}function l(e){return null===e||35===e||Tc(e)?(t.exit("atxHeadingText"),s(e)):(t.consume(e),l)}}const Pl={name:"setextUnderline",tokenize:zl,resolveTo:jl};function jl(t,e){let n,r,i,o=t.length;while(o--)if("enter"===t[o][0]){if("content"===t[o][1].type){n=o;break}"paragraph"===t[o][1].type&&(r=o)}else"content"===t[o][1].type&&t.splice(o,1),i||"definition"!==t[o][1].type||(i=o);const a={type:"setextHeading",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[r][1].type="setextHeadingText",i?(t.splice(r,0,["enter",a,e]),t.splice(i+1,0,["exit",t[n][1],e]),t[n][1].end=Object.assign({},t[i][1].end)):t[n][1]=a,t.push(["exit",a,e]),t}function zl(t,e,n){const r=this;let i,o,a=r.events.length;while(a--)if("lineEnding"!==r.events[a][1].type&&"linePrefix"!==r.events[a][1].type&&"content"!==r.events[a][1].type){o="paragraph"===r.events[a][1].type;break}return s;function s(e){return r.parser.lazy[r.now().line]||!r.interrupt&&!o?n(e):(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),i=e,c(e))}function c(e){return e===i?(t.consume(e),c):(t.exit("setextHeadingLineSequence"),Bc(t,l,"lineSuffix")(e))}function l(r){return null===r||Ac(r)?(t.exit("setextHeadingLine"),e(r)):n(r)}}const $l=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Yl=["pre","script","style","textarea"],Wl={name:"htmlFlow",tokenize:Vl,resolveTo:ql,concrete:!0},Ul={tokenize:Hl,partial:!0};function ql(t){let e=t.length;while(e--)if("enter"===t[e][0]&&"htmlFlow"===t[e][1].type)break;return e>1&&"linePrefix"===t[e-2][1].type&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Vl(t,e,n){const r=this;let i,o,a,s,c;return l;function l(e){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(e),u}function u(s){return 33===s?(t.consume(s),h):47===s?(t.consume(s),p):63===s?(t.consume(s),i=3,r.interrupt?e:I):xc(s)?(t.consume(s),a=String.fromCharCode(s),o=!0,g):n(s)}function h(o){return 45===o?(t.consume(o),i=2,d):91===o?(t.consume(o),i=5,a="CDATA[",s=0,f):xc(o)?(t.consume(o),i=4,r.interrupt?e:I):n(o)}function d(i){return 45===i?(t.consume(i),r.interrupt?e:I):n(i)}function f(i){return i===a.charCodeAt(s++)?(t.consume(i),s===a.length?r.interrupt?e:S:f):n(i)}function p(e){return xc(e)?(t.consume(e),a=String.fromCharCode(e),g):n(e)}function g(s){return null===s||47===s||62===s||Tc(s)?47!==s&&o&&Yl.includes(a.toLowerCase())?(i=1,r.interrupt?e(s):S(s)):$l.includes(a.toLowerCase())?(i=6,47===s?(t.consume(s),m):r.interrupt?e(s):S(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):o?b(s):y(s)):45===s||Dc(s)?(t.consume(s),a+=String.fromCharCode(s),g):n(s)}function m(i){return 62===i?(t.consume(i),r.interrupt?e:S):n(i)}function y(e){return Mc(e)?(t.consume(e),y):C(e)}function b(e){return 47===e?(t.consume(e),C):58===e||95===e||xc(e)?(t.consume(e),v):Mc(e)?(t.consume(e),b):C(e)}function v(e){return 45===e||46===e||58===e||95===e||Dc(e)?(t.consume(e),v):_(e)}function _(e){return 61===e?(t.consume(e),x):Mc(e)?(t.consume(e),_):b(e)}function x(e){return null===e||60===e||61===e||62===e||96===e?n(e):34===e||39===e?(t.consume(e),c=e,w):Mc(e)?(t.consume(e),x):(c=null,k(e))}function w(e){return null===e||Ac(e)?n(e):e===c?(t.consume(e),D):(t.consume(e),w)}function k(e){return null===e||34===e||39===e||60===e||61===e||62===e||96===e||Tc(e)?_(e):(t.consume(e),k)}function D(t){return 47===t||62===t||Mc(t)?b(t):n(t)}function C(e){return 62===e?(t.consume(e),E):n(e)}function E(e){return Mc(e)?(t.consume(e),E):null===e||Ac(e)?S(e):n(e)}function S(e){return 45===e&&2===i?(t.consume(e),F):60===e&&1===i?(t.consume(e),O):62===e&&4===i?(t.consume(e),L):63===e&&3===i?(t.consume(e),I):93===e&&5===i?(t.consume(e),B):!Ac(e)||6!==i&&7!==i?null===e||Ac(e)?T(e):(t.consume(e),S):t.check(Ul,L,T)(e)}function T(e){return t.exit("htmlFlowData"),A(e)}function A(e){return null===e?R(e):Ac(e)?t.attempt({tokenize:M,partial:!0},A,R)(e):(t.enter("htmlFlowData"),S(e))}function M(t,e,n){return i;function i(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),o}function o(t){return r.parser.lazy[r.now().line]?n(t):e(t)}}function F(e){return 45===e?(t.consume(e),I):S(e)}function O(e){return 47===e?(t.consume(e),a="",N):S(e)}function N(e){return 62===e&&Yl.includes(a.toLowerCase())?(t.consume(e),L):xc(e)&&a.length<8?(t.consume(e),a+=String.fromCharCode(e),N):S(e)}function B(e){return 93===e?(t.consume(e),I):S(e)}function I(e){return 62===e?(t.consume(e),L):45===e&&2===i?(t.consume(e),I):S(e)}function L(e){return null===e||Ac(e)?(t.exit("htmlFlowData"),R(e)):(t.consume(e),L)}function R(n){return t.exit("htmlFlow"),e(n)}}function Hl(t,e,n){return r;function r(r){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),t.attempt($c,e,n)}}const Gl={name:"codeFenced",tokenize:Xl,concrete:!0};function Xl(t,e,n){const r=this,i={tokenize:x,partial:!0},o={tokenize:_,partial:!0},a=this.events[this.events.length-1],s=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0;let c,l=0;return u;function u(e){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c=e,h(e)}function h(e){return e===c?(t.consume(e),l++,h):(t.exit("codeFencedFenceSequence"),l<3?n(e):Bc(t,d,"whitespace")(e))}function d(e){return null===e||Ac(e)?m(e):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(e))}function f(e){return null===e||Tc(e)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Bc(t,p,"whitespace")(e)):96===e&&e===c?n(e):(t.consume(e),f)}function p(e){return null===e||Ac(e)?m(e):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(e))}function g(e){return null===e||Ac(e)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(e)):96===e&&e===c?n(e):(t.consume(e),g)}function m(n){return t.exit("codeFencedFence"),r.interrupt?e(n):y(n)}function y(e){return null===e?v(e):Ac(e)?t.attempt(o,t.attempt(i,v,s?Bc(t,y,"linePrefix",s+1):y),v)(e):(t.enter("codeFlowValue"),b(e))}function b(e){return null===e||Ac(e)?(t.exit("codeFlowValue"),y(e)):(t.consume(e),b)}function v(n){return t.exit("codeFenced"),e(n)}function _(t,e,n){const r=this;return i;function i(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),o}function o(t){return r.parser.lazy[r.now().line]?n(t):e(t)}}function x(t,e,n){let r=0;return Bc(t,i,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function i(e){return t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),o(e)}function o(e){return e===c?(t.consume(e),r++,o):r<l?n(e):(t.exit("codeFencedFenceSequence"),Bc(t,a,"whitespace")(e))}function a(r){return null===r||Ac(r)?(t.exit("codeFencedFence"),e(r)):n(r)}}}const Jl=document.createElement("i");function Kl(t){const e="&"+t+";";Jl.innerHTML=e;const n=Jl.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===t)&&(n!==e&&n)}const Zl={name:"characterReference",tokenize:Ql};function Ql(t,e,n){const r=this;let i,o,a=0;return s;function s(e){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(e),t.exit("characterReferenceMarker"),c}function c(e){return 35===e?(t.enter("characterReferenceMarkerNumeric"),t.consume(e),t.exit("characterReferenceMarkerNumeric"),l):(t.enter("characterReferenceValue"),i=31,o=Dc,u(e))}function l(e){return 88===e||120===e?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(e),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,o=kc,u):(t.enter("characterReferenceValue"),i=7,o=wc,u(e))}function u(s){let c;return 59===s&&a?(c=t.exit("characterReferenceValue"),o!==Dc||Kl(r.sliceSerialize(c))?(t.enter("characterReferenceMarker"),t.consume(s),t.exit("characterReferenceMarker"),t.exit("characterReference"),e):n(s)):o(s)&&a++<i?(t.consume(s),u):n(s)}}const tu={name:"characterEscape",tokenize:eu};function eu(t,e,n){return r;function r(e){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(e),t.exit("escapeMarker"),i}function i(r){return Cc(r)?(t.enter("characterEscapeValue"),t.consume(r),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(r)}}const nu={name:"lineEnding",tokenize:ru};function ru(t,e){return n;function n(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Bc(t,e,"linePrefix")}}const iu={name:"labelEnd",tokenize:uu,resolveTo:lu,resolveAll:cu},ou={tokenize:hu},au={tokenize:du},su={tokenize:fu};function cu(t){let e,n=-1;while(++n<t.length)e=t[n][1],"labelImage"!==e.type&&"labelLink"!==e.type&&"labelEnd"!==e.type||(t.splice(n+1,"labelImage"===e.type?4:2),e.type="data",n++);return t}function lu(t,e){let n,r,i,o,a=t.length,s=0;while(a--)if(n=t[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===t[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===t[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(i=a);const c={type:"labelLink"===t[r][1].type?"link":"image",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)},l={type:"label",start:Object.assign({},t[r][1].start),end:Object.assign({},t[i][1].end)},u={type:"labelText",start:Object.assign({},t[r+s+2][1].end),end:Object.assign({},t[i-2][1].start)};return o=[["enter",c,e],["enter",l,e]],o=gc(o,t.slice(r+1,r+s+3)),o=gc(o,[["enter",u,e]]),o=gc(o,il(e.parser.constructs.insideSpan.null,t.slice(r+s+4,i-3),e)),o=gc(o,[["exit",u,e],t[i-2],t[i-1],["exit",l,e]]),o=gc(o,t.slice(i+1)),o=gc(o,[["exit",c,e]]),pc(t,r,t.length,o),t}function uu(t,e,n){const r=this;let i,o,a=r.events.length;while(a--)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(e){return i?i._inactive?l(e):(o=r.parser.defined.includes(El(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelEnd"),c):n(e)}function c(n){return 40===n?t.attempt(ou,e,o?e:l)(n):91===n?t.attempt(au,e,o?t.attempt(su,e,l):l)(n):o?e(n):l(n)}function l(t){return i._balanced=!0,n(t)}}function hu(t,e,n){return r;function r(e){return t.enter("resource"),t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),Cl(t,i)}function i(e){return 41===e?s(e):wl(t,o,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(e)}function o(e){return Tc(e)?Cl(t,a)(e):s(e)}function a(e){return 34===e||39===e||40===e?Dl(t,Cl(t,s),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(e):s(e)}function s(r){return 41===r?(t.enter("resourceMarker"),t.consume(r),t.exit("resourceMarker"),t.exit("resource"),e):n(r)}}function du(t,e,n){const r=this;return i;function i(e){return kl.call(r,t,o,n,"reference","referenceMarker","referenceString")(e)}function o(t){return r.parser.defined.includes(El(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(t):n(t)}}function fu(t,e,n){return r;function r(e){return t.enter("reference"),t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),i}function i(r){return 93===r?(t.enter("referenceMarker"),t.consume(r),t.exit("referenceMarker"),t.exit("reference"),e):n(r)}}const pu={name:"labelStartImage",tokenize:gu,resolveAll:iu.resolveAll};function gu(t,e,n){const r=this;return i;function i(e){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(e),t.exit("labelImageMarker"),o}function o(e){return 91===e?(t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelImage"),a):n(e)}function a(t){return 94===t&&"_hiddenFootnoteSupport"in r.parser.constructs?n(t):e(t)}}function mu(t){return null===t||Tc(t)||Fc(t)?1:Oc(t)?2:void 0}const yu={name:"attention",tokenize:vu,resolveAll:bu};function bu(t,e){let n,r,i,o,a,s,c,l,u=-1;while(++u<t.length)if("enter"===t[u][0]&&"attentionSequence"===t[u][1].type&&t[u][1]._close){n=u;while(n--)if("exit"===t[n][0]&&"attentionSequence"===t[n][1].type&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[u][1]).charCodeAt(0)){if((t[n][1]._close||t[u][1]._open)&&(t[u][1].end.offset-t[u][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[u][1].end.offset-t[u][1].start.offset)%3))continue;s=t[n][1].end.offset-t[n][1].start.offset>1&&t[u][1].end.offset-t[u][1].start.offset>1?2:1;const h=Object.assign({},t[n][1].end),d=Object.assign({},t[u][1].start);_u(h,-s),_u(d,s),o={type:s>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[u][1].start),end:d},i={type:s>1?"strongText":"emphasisText",start:Object.assign({},t[n][1].end),end:Object.assign({},t[u][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[n][1].end=Object.assign({},o.start),t[u][1].start=Object.assign({},a.end),c=[],t[n][1].end.offset-t[n][1].start.offset&&(c=gc(c,[["enter",t[n][1],e],["exit",t[n][1],e]])),c=gc(c,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",i,e]]),c=gc(c,il(e.parser.constructs.insideSpan.null,t.slice(n+1,u),e)),c=gc(c,[["exit",i,e],["enter",a,e],["exit",a,e],["exit",r,e]]),t[u][1].end.offset-t[u][1].start.offset?(l=2,c=gc(c,[["enter",t[u][1],e],["exit",t[u][1],e]])):l=0,pc(t,n-1,u-n+3,c),u=n+c.length-l-2;break}}u=-1;while(++u<t.length)"attentionSequence"===t[u][1].type&&(t[u][1].type="data");return t}function vu(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=mu(r);let o;return a;function a(e){return t.enter("attentionSequence"),o=e,s(e)}function s(a){if(a===o)return t.consume(a),s;const c=t.exit("attentionSequence"),l=mu(a),u=!l||2===l&&i||n.includes(a),h=!i||2===i&&l||n.includes(r);return c._open=Boolean(42===o?u:u&&(i||!h)),c._close=Boolean(42===o?h:h&&(l||!u)),e(a)}}function _u(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const xu={name:"autolink",tokenize:wu};function wu(t,e,n){let r=1;return i;function i(e){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(e),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(e){return xc(e)?(t.consume(e),a):Ec(e)?l(e):n(e)}function a(t){return 43===t||45===t||46===t||Dc(t)?s(t):l(t)}function s(e){return 58===e?(t.consume(e),c):(43===e||45===e||46===e||Dc(e))&&r++<32?(t.consume(e),s):l(e)}function c(e){return 62===e?(t.exit("autolinkProtocol"),f(e)):null===e||32===e||60===e||Sc(e)?n(e):(t.consume(e),c)}function l(e){return 64===e?(t.consume(e),r=0,u):Ec(e)?(t.consume(e),l):n(e)}function u(t){return Dc(t)?h(t):n(t)}function h(e){return 46===e?(t.consume(e),r=0,u):62===e?(t.exit("autolinkProtocol").type="autolinkEmail",f(e)):d(e)}function d(e){return(45===e||Dc(e))&&r++<63?(t.consume(e),45===e?d:h):n(e)}function f(n){return t.enter("autolinkMarker"),t.consume(n),t.exit("autolinkMarker"),t.exit("autolink"),e}}const ku={name:"htmlText",tokenize:Du};function Du(t,e,n){const r=this;let i,o,a,s;return c;function c(e){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(e),l}function l(e){return 33===e?(t.consume(e),u):47===e?(t.consume(e),k):63===e?(t.consume(e),x):xc(e)?(t.consume(e),E):n(e)}function u(e){return 45===e?(t.consume(e),h):91===e?(t.consume(e),o="CDATA[",a=0,m):xc(e)?(t.consume(e),_):n(e)}function h(e){return 45===e?(t.consume(e),d):n(e)}function d(e){return null===e||62===e?n(e):45===e?(t.consume(e),f):p(e)}function f(t){return null===t||62===t?n(t):p(t)}function p(e){return null===e?n(e):45===e?(t.consume(e),g):Ac(e)?(s=p,B(e)):(t.consume(e),p)}function g(e){return 45===e?(t.consume(e),L):p(e)}function m(e){return e===o.charCodeAt(a++)?(t.consume(e),a===o.length?y:m):n(e)}function y(e){return null===e?n(e):93===e?(t.consume(e),b):Ac(e)?(s=y,B(e)):(t.consume(e),y)}function b(e){return 93===e?(t.consume(e),v):y(e)}function v(e){return 62===e?L(e):93===e?(t.consume(e),v):y(e)}function _(e){return null===e||62===e?L(e):Ac(e)?(s=_,B(e)):(t.consume(e),_)}function x(e){return null===e?n(e):63===e?(t.consume(e),w):Ac(e)?(s=x,B(e)):(t.consume(e),x)}function w(t){return 62===t?L(t):x(t)}function k(e){return xc(e)?(t.consume(e),D):n(e)}function D(e){return 45===e||Dc(e)?(t.consume(e),D):C(e)}function C(e){return Ac(e)?(s=C,B(e)):Mc(e)?(t.consume(e),C):L(e)}function E(e){return 45===e||Dc(e)?(t.consume(e),E):47===e||62===e||Tc(e)?S(e):n(e)}function S(e){return 47===e?(t.consume(e),L):58===e||95===e||xc(e)?(t.consume(e),T):Ac(e)?(s=S,B(e)):Mc(e)?(t.consume(e),S):L(e)}function T(e){return 45===e||46===e||58===e||95===e||Dc(e)?(t.consume(e),T):A(e)}function A(e){return 61===e?(t.consume(e),M):Ac(e)?(s=A,B(e)):Mc(e)?(t.consume(e),A):S(e)}function M(e){return null===e||60===e||61===e||62===e||96===e?n(e):34===e||39===e?(t.consume(e),i=e,F):Ac(e)?(s=M,B(e)):Mc(e)?(t.consume(e),M):(t.consume(e),i=void 0,N)}function F(e){return e===i?(t.consume(e),O):null===e?n(e):Ac(e)?(s=F,B(e)):(t.consume(e),F)}function O(t){return 62===t||47===t||Tc(t)?S(t):n(t)}function N(e){return null===e||34===e||39===e||60===e||61===e||96===e?n(e):62===e||Tc(e)?S(e):(t.consume(e),N)}function B(e){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),Bc(t,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function I(e){return t.enter("htmlTextData"),s(e)}function L(r){return 62===r?(t.consume(r),t.exit("htmlTextData"),t.exit("htmlText"),e):n(r)}}const Cu={name:"labelStartLink",tokenize:Eu,resolveAll:iu.resolveAll};function Eu(t,e,n){const r=this;return i;function i(e){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelLink"),o}function o(t){return 94===t&&"_hiddenFootnoteSupport"in r.parser.constructs?n(t):e(t)}}const Su={name:"hardBreakEscape",tokenize:Tu};function Tu(t,e,n){return r;function r(e){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(e),i}function i(r){return Ac(r)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(r)):n(r)}}const Au={name:"codeText",tokenize:Ou,resolve:Mu,previous:Fu};function Mu(t){let e,n,r=t.length-4,i=3;if(("lineEnding"===t[i][1].type||"space"===t[i][1].type)&&("lineEnding"===t[r][1].type||"space"===t[r][1].type)){e=i;while(++e<r)if("codeTextData"===t[e][1].type){t[i][1].type="codeTextPadding",t[r][1].type="codeTextPadding",i+=2,r-=2;break}}e=i-1,r++;while(++e<=r)void 0===n?e!==r&&"lineEnding"!==t[e][1].type&&(n=e):e!==r&&"lineEnding"!==t[e][1].type||(t[n][1].type="codeTextData",e!==n+2&&(t[n][1].end=t[e-1][1].end,t.splice(n+2,e-n-2),r-=e-n-2,e=n+2),n=void 0);return t}function Fu(t){return 96!==t||"characterEscape"===this.events[this.events.length-1][1].type}function Ou(t,e,n){let r,i,o=0;return a;function a(e){return t.enter("codeText"),t.enter("codeTextSequence"),s(e)}function s(e){return 96===e?(t.consume(e),o++,s):(t.exit("codeTextSequence"),c(e))}function c(e){return null===e?n(e):96===e?(i=t.enter("codeTextSequence"),r=0,u(e)):32===e?(t.enter("space"),t.consume(e),t.exit("space"),c):Ac(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),c):(t.enter("codeTextData"),l(e))}function l(e){return null===e||32===e||96===e||Ac(e)?(t.exit("codeTextData"),c(e)):(t.consume(e),l)}function u(n){return 96===n?(t.consume(n),r++,u):r===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(n)):(i.type="codeTextData",l(n))}}const Nu={[42]:ul,[43]:ul,[45]:ul,[48]:ul,[49]:ul,[50]:ul,[51]:ul,[52]:ul,[53]:ul,[54]:ul,[55]:ul,[56]:ul,[57]:ul,[62]:bl},Bu={[91]:Sl},Iu={[-2]:Fl,[-1]:Fl,[32]:Fl},Lu={[35]:Il,[42]:cl,[45]:[Pl,cl],[60]:Wl,[61]:Pl,[95]:cl,[96]:Gl,[126]:Gl},Ru={[38]:Zl,[92]:tu},Pu={[-5]:nu,[-4]:nu,[-3]:nu,[33]:pu,[38]:Zl,[42]:yu,[60]:[xu,ku],[91]:Cu,[92]:[Su,tu],[93]:iu,[95]:yu,[96]:Au},ju={null:[yu,Zc]},zu={null:[42,95]},$u={null:[]};function Yu(t={}){const e=yc([r].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:i(Ic),document:i(Rc),flow:i(Jc),string:i(Qc),text:i(tl)};return n;function i(t){return e;function e(e){return ol(n,t,e)}}}const Wu=/[\0\t\n\r]/g;function Uu(){let t,e=1,n="",r=!0;return i;function i(i,o,a){const s=[];let c,l,u,h,d;i=n+i.toString(o),u=0,n="",r&&(65279===i.charCodeAt(0)&&u++,r=void 0);while(u<i.length){if(Wu.lastIndex=u,c=Wu.exec(i),h=c&&void 0!==c.index?c.index:i.length,d=i.charCodeAt(h),!c){n=i.slice(u);break}if(10===d&&u===h&&t)s.push(-3),t=void 0;else switch(t&&(s.push(-5),t=void 0),u<h&&(s.push(i.slice(u,h)),e+=h-u),d){case 0:s.push(65533),e++;break;case 9:l=4*Math.ceil(e/4),s.push(-2);while(e++<l)s.push(-1);break;case 10:s.push(-4),e=1;break;default:t=!0,e=1}u=h+1}return a&&(t&&s.push(-5),n&&s.push(n),s.push(null)),s}}function qu(t){while(!Wc(t));return t}function Vu(t,e){const n=Number.parseInt(t,e);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"":String.fromCharCode(n)}const Hu=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Gu(t){return t.replace(Hu,Xu)}function Xu(t,e,n){if(e)return e;const r=n.charCodeAt(0);if(35===r){const t=n.charCodeAt(1),e=120===t||88===t;return Vu(n.slice(e?2:1),e?16:10)}return Kl(n)||t}function Ju(t){return t&&"object"===typeof t?"position"in t||"type"in t?Zu(t.position):"start"in t||"end"in t?Zu(t):"line"in t||"column"in t?Ku(t):"":""}function Ku(t){return Qu(t&&t.line)+":"+Qu(t&&t.column)}function Zu(t){return Ku(t&&t.start)+"-"+Ku(t&&t.end)}function Qu(t){return t&&"number"===typeof t?t:1}const th={}.hasOwnProperty,eh=function(t,e,n){return"string"!==typeof e&&(n=e,e=void 0),nh(n)(qu(Yu(n).document().write(Uu()(t,e,!0))))};function nh(t={}){const e=rh({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(rt),autolinkProtocol:T,autolinkEmail:T,atxHeading:c(Q),blockQuote:c(G),characterEscape:T,characterReference:T,codeFenced:c(X),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:c(X,l),codeText:c(J,l),codeTextData:T,data:T,codeFlowValue:T,definition:c(K),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:c(Z),hardBreakEscape:c(tt),hardBreakTrailing:c(tt),htmlFlow:c(et,l),htmlFlowData:T,htmlText:c(et,l),htmlTextData:T,image:c(nt),label:l,link:c(rt),listItem:c(ot),listItemValue:g,listOrdered:c(it,p),listUnordered:c(it),paragraph:c(at),reference:Y,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:c(Q),strong:c(st),thematicBreak:c(lt)},exit:{atxHeading:h(),atxHeadingSequence:D,autolink:h(),autolinkEmail:H,autolinkProtocol:V,blockQuote:h(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:q,codeFenced:h(v),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:A,codeIndented:h(_),codeText:h(B),codeTextData:A,data:A,definition:h(),definitionDestinationString:k,definitionLabelString:x,definitionTitleString:w,emphasis:h(),hardBreakEscape:h(F),hardBreakTrailing:h(F),htmlFlow:h(O),htmlFlowData:A,htmlText:h(N),htmlTextData:A,image:h(L),label:P,labelText:R,lineEnding:M,link:h(I),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:W,resourceDestinationString:j,resourceTitleString:z,resource:$,setextHeading:h(S),setextHeadingLineSequence:E,setextHeadingText:C,strong:h(),thematicBreak:h()}},t.mdastExtensions||[]),n={};return r;function r(t){let n={type:"root",children:[]};const r=[n],c=[],h=[],p={stack:r,tokenStack:c,config:e,enter:u,exit:d,buffer:l,resume:f,setData:o,getData:a};let g=-1;while(++g<t.length)if("listOrdered"===t[g][1].type||"listUnordered"===t[g][1].type)if("enter"===t[g][0])h.push(g);else{const e=h.pop();g=i(t,e,g)}g=-1;while(++g<t.length){const n=e[t[g][0]];th.call(n,t[g][1].type)&&n[t[g][1].type].call(Object.assign({sliceSerialize:t[g][2].sliceSerialize},p),t[g][1])}if(c.length>0){const t=c[c.length-1],e=t[1]||oh;e.call(p,void 0,t[0])}n.position={start:s(t.length>0?t[0][1].start:{line:1,column:1,offset:0}),end:s(t.length>0?t[t.length-2][1].end:{line:1,column:1,offset:0})},g=-1;while(++g<e.transforms.length)n=e.transforms[g](n)||n;return n}function i(t,e,n){let r,i,o,a,s=e-1,c=-1,l=!1;while(++s<=n){const e=t[s];if("listUnordered"===e[1].type||"listOrdered"===e[1].type||"blockQuote"===e[1].type?("enter"===e[0]?c++:c--,a=void 0):"lineEndingBlank"===e[1].type?"enter"===e[0]&&(!r||a||c||o||(o=s),a=void 0):"linePrefix"===e[1].type||"listItemValue"===e[1].type||"listItemMarker"===e[1].type||"listItemPrefix"===e[1].type||"listItemPrefixWhitespace"===e[1].type||(a=void 0),!c&&"enter"===e[0]&&"listItemPrefix"===e[1].type||-1===c&&"exit"===e[0]&&("listUnordered"===e[1].type||"listOrdered"===e[1].type)){if(r){let a=s;i=void 0;while(a--){const e=t[a];if("lineEnding"===e[1].type||"lineEndingBlank"===e[1].type){if("exit"===e[0])continue;i&&(t[i][1].type="lineEndingBlank",l=!0),e[1].type="lineEnding",i=a}else if("linePrefix"!==e[1].type&&"blockQuotePrefix"!==e[1].type&&"blockQuotePrefixWhitespace"!==e[1].type&&"blockQuoteMarker"!==e[1].type&&"listItemIndent"!==e[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?t[i][1].start:e[1].end),t.splice(i||s,0,["exit",r,e[2]]),s++,n++}"listItemPrefix"===e[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},e[1].start)},t.splice(s,0,["enter",r,e[2]]),s++,n++,o=void 0,a=!0)}}return t[e][1]._spread=l,n}function o(t,e){n[t]=e}function a(t){return n[t]}function s(t){return{line:t.line,column:t.column,offset:t.offset}}function c(t,e){return n;function n(n){u.call(this,t(n),n),e&&e.call(this,n)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(t,e,n){const r=this.stack[this.stack.length-1];return r.children.push(t),this.stack.push(t),this.tokenStack.push([e,n]),t.position={start:s(e.start)},t}function h(t){return e;function e(e){t&&t.call(this,e),d.call(this,e)}}function d(t,e){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+t.type+"` ("+Ju({start:t.start,end:t.end})+"): its not open");if(r[0].type!==t.type)if(e)e.call(this,t,r[0]);else{const e=r[1]||oh;e.call(this,t,r[0])}return n.position.end=s(t.end),n}function f(){return hc(this.stack.pop())}function p(){o("expectingFirstListItemValue",!0)}function g(t){if(a("expectingFirstListItemValue")){const e=this.stack[this.stack.length-2];e.start=Number.parseInt(this.sliceSerialize(t),10),o("expectingFirstListItemValue")}}function m(){const t=this.resume(),e=this.stack[this.stack.length-1];e.lang=t}function y(){const t=this.resume(),e=this.stack[this.stack.length-1];e.meta=t}function b(){a("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function v(){const t=this.resume(),e=this.stack[this.stack.length-1];e.value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function _(){const t=this.resume(),e=this.stack[this.stack.length-1];e.value=t.replace(/(\r?\n|\r)$/g,"")}function x(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=El(this.sliceSerialize(t)).toLowerCase()}function w(){const t=this.resume(),e=this.stack[this.stack.length-1];e.title=t}function k(){const t=this.resume(),e=this.stack[this.stack.length-1];e.url=t}function D(t){const e=this.stack[this.stack.length-1];if(!e.depth){const n=this.sliceSerialize(t).length;e.depth=n}}function C(){o("setextHeadingSlurpLineEnding",!0)}function E(t){const e=this.stack[this.stack.length-1];e.depth=61===this.sliceSerialize(t).charCodeAt(0)?1:2}function S(){o("setextHeadingSlurpLineEnding")}function T(t){const e=this.stack[this.stack.length-1];let n=e.children[e.children.length-1];n&&"text"===n.type||(n=ct(),n.position={start:s(t.start)},e.children.push(n)),this.stack.push(n)}function A(t){const e=this.stack.pop();e.value+=this.sliceSerialize(t),e.position.end=s(t.end)}function M(t){const n=this.stack[this.stack.length-1];if(a("atHardBreak")){const e=n.children[n.children.length-1];return e.position.end=s(t.end),void o("atHardBreak")}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(n.type)&&(T.call(this,t),A.call(this,t))}function F(){o("atHardBreak",!0)}function O(){const t=this.resume(),e=this.stack[this.stack.length-1];e.value=t}function N(){const t=this.resume(),e=this.stack[this.stack.length-1];e.value=t}function B(){const t=this.resume(),e=this.stack[this.stack.length-1];e.value=t}function I(){const t=this.stack[this.stack.length-1];a("inReference")?(t.type+="Reference",t.referenceType=a("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label),o("referenceType")}function L(){const t=this.stack[this.stack.length-1];a("inReference")?(t.type+="Reference",t.referenceType=a("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label),o("referenceType")}function R(t){const e=this.stack[this.stack.length-2],n=this.sliceSerialize(t);e.label=Gu(n),e.identifier=El(n).toLowerCase()}function P(){const t=this.stack[this.stack.length-1],e=this.resume(),n=this.stack[this.stack.length-1];o("inReference",!0),"link"===n.type?n.children=t.children:n.alt=e}function j(){const t=this.resume(),e=this.stack[this.stack.length-1];e.url=t}function z(){const t=this.resume(),e=this.stack[this.stack.length-1];e.title=t}function $(){o("inReference")}function Y(){o("referenceType","collapsed")}function W(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=El(this.sliceSerialize(t)).toLowerCase(),o("referenceType","full")}function U(t){o("characterReferenceType",t.type)}function q(t){const e=this.sliceSerialize(t),n=a("characterReferenceType");let r;n?(r=Vu(e,"characterReferenceMarkerNumeric"===n?10:16),o("characterReferenceType")):r=Kl(e);const i=this.stack.pop();i.value+=r,i.position.end=s(t.end)}function V(t){A.call(this,t);const e=this.stack[this.stack.length-1];e.url=this.sliceSerialize(t)}function H(t){A.call(this,t);const e=this.stack[this.stack.length-1];e.url="mailto:"+this.sliceSerialize(t)}function G(){return{type:"blockquote",children:[]}}function X(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function K(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Z(){return{type:"emphasis",children:[]}}function Q(){return{type:"heading",depth:void 0,children:[]}}function tt(){return{type:"break"}}function et(){return{type:"html",value:""}}function nt(){return{type:"image",title:null,url:"",alt:null}}function rt(){return{type:"link",title:null,url:"",children:[]}}function it(t){return{type:"list",ordered:"listOrdered"===t.type,start:null,spread:t._spread,children:[]}}function ot(t){return{type:"listItem",spread:t._spread,checked:null,children:[]}}function at(){return{type:"paragraph",children:[]}}function st(){return{type:"strong",children:[]}}function ct(){return{type:"text",value:""}}function lt(){return{type:"thematicBreak"}}}function rh(t,e){let n=-1;while(++n<e.length){const r=e[n];Array.isArray(r)?rh(t,r):ih(t,r)}return t}function ih(t,e){let n;for(n in e)if(th.call(e,n)){const r="canContainEols"===n||"transforms"===n,i=th.call(t,n)?t[n]:void 0,o=i||(t[n]=r?[]:{}),a=e[n];a&&(r?t[n]=[...o,...a]:Object.assign(o,a))}}function oh(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ju({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ju({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ju({start:e.start,end:e.end})+") is still open")}function ah(t){const e=e=>{const n=this.data("settings");return eh(e,Object.assign({},n,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))};Object.assign(this,{Parser:e})}var sh=ah,ch={}.hasOwnProperty;function lh(t,e){var n=e||{};function r(e){var n=r.invalid,i=r.handlers;if(e&&ch.call(e,t)&&(n=ch.call(i,e[t])?i[e[t]]:r.unknown),n)return n.apply(this,arguments)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function uh(t,e){let n,r=-1;if(e.extensions)while(++r<e.extensions.length)uh(t,e.extensions[r]);for(n in e)"extensions"===n||("unsafe"===n||"join"===n?t[n]=[...t[n]||[],...e[n]||[]]:"handlers"===n?t[n]=Object.assign(t[n],e[n]||{}):t.options[n]=e[n]);return t}function hh(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:c,current:a,shift:s};function a(){return{now:{line:i,column:o},lineShift:r}}function s(t){r+=t}function c(t=""){const e=t.split(/\r?\n|\r/g),n=e[e.length-1];return i+=e.length-1,o=1===e.length?o+n.length:1+n.length+r,t}}function dh(t,e,n){const r=e.indexStack,i=t.children||[],o=hh(n),a=[];let s=-1;r.push(-1);while(++s<i.length){const n=i[s];r[r.length-1]=s,a.push(o.move(e.handle(n,t,e,{before:"\n",after:"\n",...o.current()}))),"list"!==n.type&&(e.bulletLastUsed=void 0),s<i.length-1&&a.push(o.move(c(n,i[s+1])))}return r.pop(),a.join("");function c(n,r){let i=e.join.length;while(i--){const o=e.join[i](n,r,t,e);if(!0===o||1===o)break;if("number"===typeof o)return"\n".repeat(1+o);if(!1===o)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}}const fh=/\r?\n|\r/g;function ph(t,e){const n=[];let r,i=0,o=0;while(r=fh.exec(t))a(t.slice(i,r.index)),n.push(r[0]),i=r.index+r[0].length,o++;return a(t.slice(i)),n.join("");function a(t){n.push(e(t,o,!t))}}function gh(t,e,n,r){const i=n.enter("blockquote"),o=hh(r);o.move("> "),o.shift(2);const a=ph(dh(t,n,o.current()),mh);return i(),a}function mh(t,e,n){return">"+(n?"":" ")+t}function yh(t,e){return bh(t,e.inConstruct,!0)&&!bh(t,e.notInConstruct,!1)}function bh(t,e,n){if(!e)return n;"string"===typeof e&&(e=[e]);let r=-1;while(++r<e.length)if(t.includes(e[r]))return!0;return!1}function vh(t,e,n,r){let i=-1;while(++i<n.unsafe.length)if("\n"===n.unsafe[i].character&&yh(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function _h(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,a=0;if("string"!==typeof e||1!==e.length)throw new Error("Expected character");while(-1!==r)r===i?++o>a&&(a=o):o=1,i=r+1,r=n.indexOf(e,i);return a}function xh(t,e){return Boolean(!e.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function wh(t){const e=t.options.fence||"`";if("`"!==e&&"~"!==e)throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function kh(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function Dh(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],a={};let s=-1;while(++s<t.unsafe.length){const e=t.unsafe[s];if(!yh(t.stack,e))continue;const n=kh(e);let o;while(o=n.exec(r)){const t="before"in e||Boolean(e.atBreak),n="after"in e,r=o.index+(t?o[1].length:0);i.includes(r)?(a[r].before&&!t&&(a[r].before=!1),a[r].after&&!n&&(a[r].after=!1)):(i.push(r),a[r]={before:t,after:n})}}i.sort(Ch);let c=n.before?n.before.length:0;const l=r.length-(n.after?n.after.length:0);s=-1;while(++s<i.length){const t=i[s];t<c||t>=l||(t+1<l&&i[s+1]===t+1&&a[t].after&&!a[t+1].before&&!a[t+1].after||i[s-1]===t-1&&a[t].before&&!a[t-1].before&&!a[t-1].after||(c!==t&&o.push(Eh(r.slice(c,t),"\\")),c=t,!/[!-/:-@[-`{-~]/.test(r.charAt(t))||n.encode&&n.encode.includes(r.charAt(t))?(o.push("&#x"+r.charCodeAt(t).toString(16).toUpperCase()+";"),c++):o.push("\\")))}return o.push(Eh(r.slice(c,l),n.after)),o.join("")}function Ch(t,e){return t-e}function Eh(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let a,s=-1,c=0;while(a=n.exec(o))r.push(a.index);while(++s<r.length)c!==r[s]&&i.push(t.slice(c,r[s])),i.push("\\"),c=r[s];return i.push(t.slice(c)),i.join("")}function Sh(t,e,n,r){const i=wh(n),o=t.value||"",a="`"===i?"GraveAccent":"Tilde";if(xh(t,n)){const t=n.enter("codeIndented"),e=ph(o,Th);return t(),e}const s=hh(r),c=i.repeat(Math.max(_h(o,i)+1,3)),l=n.enter("codeFenced");let u=s.move(c);if(t.lang){const e=n.enter("codeFencedLang"+a);u+=s.move(Dh(n,t.lang,{before:u,after:" ",encode:["`"],...s.current()})),e()}if(t.lang&&t.meta){const e=n.enter("codeFencedMeta"+a);u+=s.move(" "),u+=s.move(Dh(n,t.meta,{before:u,after:"\n",encode:["`"],...s.current()})),e()}return u+=s.move("\n"),o&&(u+=s.move(o+"\n")),u+=s.move(c),l(),u}function Th(t,e,n){return(n?"":"    ")+t}function Ah(t){return t.label||!t.identifier?t.label||"":Gu(t.identifier)}function Mh(t){const e=t.options.quote||'"';if('"'!==e&&"'"!==e)throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Fh(t,e,n,r){const i=Mh(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const c=hh(r);let l=c.move("[");return l+=c.move(Dh(n,Ah(t),{before:l,after:"]",...c.current()})),l+=c.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),l+=c.move("<"),l+=c.move(Dh(n,t.url,{before:l,after:">",...c.current()})),l+=c.move(">")):(s=n.enter("destinationRaw"),l+=c.move(Dh(n,t.url,{before:l,after:t.title?" ":"\n",...c.current()}))),s(),t.title&&(s=n.enter("title"+o),l+=c.move(" "+i),l+=c.move(Dh(n,t.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),a(),l}function Oh(t){const e=t.options.emphasis||"*";if("*"!==e&&"_"!==e)throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Nh(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let a=-1,s=n.before;r.push(-1);let c=hh(n);while(++a<i.length){const l=i[a];let u;if(r[r.length-1]=a,a+1<i.length){let n=e.handle.handlers[i[a+1].type];n&&n.peek&&(n=n.peek),u=n?n(i[a+1],t,e,{before:"",after:"",...c.current()}).charAt(0):""}else u=n.after;o.length>0&&("\r"===s||"\n"===s)&&"html"===l.type&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" ",c=hh(n),c.move(o.join(""))),o.push(c.move(e.handle(l,t,e,{...c.current(),before:s,after:u}))),s=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function Bh(t,e,n,r){const i=Oh(n),o=n.enter("emphasis"),a=hh(r);let s=a.move(i);return s+=a.move(Nh(t,n,{before:s,after:i,...a.current()})),s+=a.move(i),o(),s}function Ih(t,e,n){return n.options.emphasis||"*"}Bh.peek=Ih;const Lh=function(t){if(void 0===t||null===t)return $h;if("string"===typeof t)return jh(t);if("object"===typeof t)return Array.isArray(t)?Rh(t):Ph(t);if("function"===typeof t)return zh(t);throw new Error("Expected function, string, or object as test")};function Rh(t){const e=[];let n=-1;while(++n<t.length)e[n]=Lh(t[n]);return zh(r);function r(...t){let n=-1;while(++n<e.length)if(e[n].call(this,...t))return!0;return!1}}function Ph(t){return zh(e);function e(e){let n;for(n in t)if(e[n]!==t[n])return!1;return!0}}function jh(t){return zh(e);function e(e){return e&&e.type===t}}function zh(t){return e;function e(...e){return Boolean(t.call(this,...e))}}function $h(){return!0}function Yh(t){return t}const Wh=!0,Uh="skip",qh=!1,Vh=function(t,e,n,r){"function"===typeof e&&"function"!==typeof n&&(r=n,n=e,e=null);const i=Lh(e),o=r?-1:1;function a(t,s,c){const l="object"===typeof t&&null!==t?t:{};let u;return"string"===typeof l.type&&(u="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0,Object.defineProperty(h,"name",{value:"node ("+Yh(l.type+(u?"<"+u+">":""))+")"})),h;function h(){let l,u,h,d=[];if((!e||i(t,s,c[c.length-1]||null))&&(d=Hh(n(t,c)),d[0]===qh))return d;if(t.children&&d[0]!==Uh){u=(r?t.children.length:-1)+o,h=c.concat(t);while(u>-1&&u<t.children.length){if(l=a(t.children[u],u,h)(),l[0]===qh)return l;u="number"===typeof l[1]?l[1]:u+o}}return d}}a(t,null,[])()};function Hh(t){return Array.isArray(t)?t:"number"===typeof t?[Wh,t]:[t]}const Gh=function(t,e,n,r){function i(t,e){const r=e[e.length-1];return n(t,r?r.children.indexOf(t):null,r)}"function"===typeof e&&"function"!==typeof n&&(r=n,n=e,e=null),Vh(t,e,i,r)};function Xh(t,e){let n=!1;return Gh(t,(t=>{if("value"in t&&/\r?\n|\r/.test(t.value)||"break"===t.type)return n=!0,qh})),Boolean((!t.depth||t.depth<3)&&hc(t)&&(e.options.setext||n))}function Jh(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=hh(r);if(Xh(t,n)){const e=n.enter("headingSetext"),r=n.enter("phrasing"),a=Nh(t,n,{...o.current(),before:"\n",after:"\n"});return r(),e(),a+"\n"+(1===i?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),c=n.enter("phrasing");o.move(a+" ");let l=Nh(t,n,{before:"# ",after:"\n",...o.current()});return/^[\t ]/.test(l)&&(l="&#x"+l.charCodeAt(0).toString(16).toUpperCase()+";"+l.slice(1)),l=l?a+" "+l:a,n.options.closeAtx&&(l+=" "+a),c(),s(),l}function Kh(t){return t.value||""}function Zh(){return"<"}function Qh(t,e,n,r){const i=Mh(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const c=hh(r);let l=c.move("![");return l+=c.move(Dh(n,t.alt,{before:l,after:"]",...c.current()})),l+=c.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),l+=c.move("<"),l+=c.move(Dh(n,t.url,{before:l,after:">",...c.current()})),l+=c.move(">")):(s=n.enter("destinationRaw"),l+=c.move(Dh(n,t.url,{before:l,after:t.title?" ":")",...c.current()}))),s(),t.title&&(s=n.enter("title"+o),l+=c.move(" "+i),l+=c.move(Dh(n,t.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),l+=c.move(")"),a(),l}function td(){return"!"}function ed(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=hh(r);let c=s.move("![");const l=Dh(n,t.alt,{before:c,after:"]",...s.current()});c+=s.move(l+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=Dh(n,Ah(t),{before:c,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&l&&l===h?"shortcut"===i?c=c.slice(0,-1):c+=s.move("]"):c+=s.move(h+"]"),c}function nd(){return"!"}function rd(t,e,n){let r=t.value||"",i="`",o=-1;while(new RegExp("(^|[^`])"+i+"([^`]|$)").test(r))i+="`";/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");while(++o<n.unsafe.length){const t=n.unsafe[o],e=kh(t);let i;if(t.atBreak)while(i=e.exec(r)){let t=i.index;10===r.charCodeAt(t)&&13===r.charCodeAt(t-1)&&t--,r=r.slice(0,t)+" "+r.slice(i.index+1)}}return i+r+i}function id(){return"`"}function od(t,e){const n=hc(t);return Boolean(!e.options.resourceLink&&t.url&&!t.title&&t.children&&1===t.children.length&&"text"===t.children[0].type&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}function ad(t,e,n,r){const i=Mh(n),o='"'===i?"Quote":"Apostrophe",a=hh(r);let s,c;if(od(t,n)){const e=n.stack;n.stack=[],s=n.enter("autolink");let r=a.move("<");return r+=a.move(Nh(t,n,{before:r,after:">",...a.current()})),r+=a.move(">"),s(),n.stack=e,r}s=n.enter("link"),c=n.enter("label");let l=a.move("[");return l+=a.move(Nh(t,n,{before:l,after:"](",...a.current()})),l+=a.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),l+=a.move("<"),l+=a.move(Dh(n,t.url,{before:l,after:">",...a.current()})),l+=a.move(">")):(c=n.enter("destinationRaw"),l+=a.move(Dh(n,t.url,{before:l,after:t.title?" ":")",...a.current()}))),c(),t.title&&(c=n.enter("title"+o),l+=a.move(" "+i),l+=a.move(Dh(n,t.title,{before:l,after:i,...a.current()})),l+=a.move(i),c()),l+=a.move(")"),s(),l}function sd(t,e,n){return od(t,n)?"<":"["}function cd(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=hh(r);let c=s.move("[");const l=Nh(t,n,{before:c,after:"]",...s.current()});c+=s.move(l+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=Dh(n,Ah(t),{before:c,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&l&&l===h?"shortcut"===i?c=c.slice(0,-1):c+=s.move("]"):c+=s.move(h+"]"),c}function ld(){return"["}function ud(t){const e=t.options.bullet||"*";if("*"!==e&&"+"!==e&&"-"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function hd(t){const e=ud(t),n=t.options.bulletOther;if(!n)return"*"===e?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function dd(t){const e=t.options.bulletOrdered||".";if("."!==e&&")"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function fd(t){const e=dd(t),n=t.options.bulletOrderedOther;if(!n)return"."===e?")":".";if("."!==n&&")"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bulletOrdered` (`"+e+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}function pd(t){const e=t.options.rule||"*";if("*"!==e&&"-"!==e&&"_"!==e)throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function gd(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=t.ordered?dd(n):ud(n);const s=t.ordered?fd(n):hd(n),c=n.bulletLastUsed;let l=!1;if(e&&(t.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&c&&a===c&&(l=!0),!t.ordered){const e=t.children?t.children[0]:void 0;if("*"!==a&&"-"!==a||!e||e.children&&e.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),pd(n)===a&&e){let e=-1;while(++e<t.children.length){const n=t.children[e];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const u=dh(t,n,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),u}function md(t){const e=t.options.listItemIndent||"tab";if(1===e||"1"===e)return"one";if("tab"!==e&&"one"!==e&&"mixed"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function yd(t,e,n,r){const i=md(n);let o=n.bulletCurrent||ud(n);e&&"list"===e.type&&e.ordered&&(o=("number"===typeof e.start&&e.start>-1?e.start:1)+(!1===n.options.incrementListMarker?0:e.children.indexOf(t))+o);let a=o.length+1;("tab"===i||"mixed"===i&&(e&&"list"===e.type&&e.spread||t.spread))&&(a=4*Math.ceil(a/4));const s=hh(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const c=n.enter("listItem"),l=ph(dh(t,n,s.current()),u);return c(),l;function u(t,e,n){return e?(n?"":" ".repeat(a))+t:(n?o:o+" ".repeat(a-o.length))+t}}function bd(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=Nh(t,n,r);return o(),i(),a}function vd(t,e,n,r){return dh(t,n,r)}function _d(t){const e=t.options.strong||"*";if("*"!==e&&"_"!==e)throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}function xd(t,e,n,r){const i=_d(n),o=n.enter("strong"),a=hh(r);let s=a.move(i+i);return s+=a.move(Nh(t,n,{before:s,after:i,...a.current()})),s+=a.move(i+i),o(),s}function wd(t,e,n){return n.options.strong||"*"}function kd(t,e,n,r){return Dh(n,t.value,r)}function Dd(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Cd(t,e,n){const r=(pd(n)+(n.options.ruleSpaces?" ":"")).repeat(Dd(n));return n.options.ruleSpaces?r.slice(0,-1):r}Kh.peek=Zh,Qh.peek=td,ed.peek=nd,rd.peek=id,ad.peek=sd,cd.peek=ld,xd.peek=wd;const Ed={blockquote:gh,break:vh,code:Sh,definition:Fh,emphasis:Bh,hardBreak:vh,heading:Jh,html:Kh,image:Qh,imageReference:ed,inlineCode:rd,link:ad,linkReference:cd,list:gd,listItem:yd,paragraph:bd,root:vd,strong:xd,text:kd,thematicBreak:Cd},Sd=[Td];function Td(t,e,n,r){if("code"===e.type&&xh(e,r)&&("list"===t.type||t.type===e.type&&xh(t,r)))return!1;if("list"===t.type&&t.type===e.type&&Boolean(t.ordered)===Boolean(e.ordered)&&!(t.ordered?r.options.bulletOrderedOther:r.options.bulletOther))return!1;if("spread"in n&&"boolean"===typeof n.spread){if("paragraph"===t.type&&(t.type===e.type||"definition"===e.type||"heading"===e.type&&Xh(e,r)))return;return n.spread?1:0}}const Ad=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Md=[{character:"\t",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Ad},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Ad},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*"},{character:"*",inConstruct:"phrasing",notInConstruct:Ad},{atBreak:!0,character:"+"},{atBreak:!0,character:"-"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Ad},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Ad},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Ad},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Ad},{atBreak:!0,character:"~"}];function Fd(t,e={}){const n={enter:i,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[]};uh(n,{unsafe:Md,join:Sd,handlers:Ed}),uh(n,e),n.options.tightDefinitions&&uh(n,{join:[Bd]}),n.handle=lh("type",{invalid:Od,unknown:Nd,handlers:n.handlers});let r=n.handle(t,null,n,{before:"\n",after:"\n",now:{line:1,column:1},lineShift:0});return r&&10!==r.charCodeAt(r.length-1)&&13!==r.charCodeAt(r.length-1)&&(r+="\n"),r;function i(t){return n.stack.push(t),e;function e(){n.stack.pop()}}}function Od(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function Nd(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function Bd(t,e){if("definition"===t.type&&t.type===e.type)return 0}function Id(t){const e=e=>{const n=this.data("settings");return Fd(e,Object.assign({},n,t,{extensions:this.data("toMarkdownExtensions")||[]}))};Object.assign(this,{Compiler:e})}var Ld=Id;function Rd(t){if(t)throw t}var Pd=n(8566),jd=n(4234);function zd(t){if("object"!==typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function $d(){const t=[],e={run:n,use:r};return e;function n(...e){let n=-1;const r=e.pop();if("function"!==typeof r)throw new TypeError("Expected function as last argument, not "+r);function i(o,...a){const s=t[++n];let c=-1;if(o)r(o);else{while(++c<e.length)null!==a[c]&&void 0!==a[c]||(a[c]=e[c]);e=a,s?Yd(s,i)(...a):r(null,...a)}}i(null,...e)}function r(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return t.push(n),e}}function Yd(t,e){let n;return r;function r(...e){const r=t.length>e.length;let a;r&&e.push(i);try{a=t.apply(this,e)}catch(Ux){const e=Ux;if(r&&n)throw e;return i(e)}r||(a instanceof Promise?a.then(o,i):a instanceof Error?i(a):o(a))}function i(t,...r){n||(n=!0,e(t,...r))}function o(t){i(null,t)}}class Wd extends Error{constructor(t,e,n){const r=[null,null];let i={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"===typeof e&&(n=e,e=void 0),"string"===typeof n){const t=n.indexOf(":");-1===t?r[1]=n:(r[0]=n.slice(0,t),r[1]=n.slice(t+1))}e&&("type"in e||"position"in e?e.position&&(i=e.position):"start"in e||"end"in e?i=e:("line"in e||"column"in e)&&(i.start=e)),this.name=Ju(e)||"1:1",this.message="object"===typeof t?t.message:t,this.stack="object"===typeof t?t.stack:"",this.reason=this.message,this.fatal,this.line=i.start.line,this.column=i.start.column,this.source=r[0],this.ruleId=r[1],this.position=i,this.actual,this.expected,this.file,this.url,this.note}}Wd.prototype.file="",Wd.prototype.name="",Wd.prototype.reason="",Wd.prototype.message="",Wd.prototype.stack="",Wd.prototype.fatal=null,Wd.prototype.column=null,Wd.prototype.line=null,Wd.prototype.source=null,Wd.prototype.ruleId=null,Wd.prototype.position=null;const Ud={basename:qd,dirname:Vd,extname:Hd,join:Gd,sep:"/"};function qd(t,e){if(void 0!==e&&"string"!==typeof e)throw new TypeError('"ext" argument must be a string');Kd(t);let n,r=0,i=-1,o=t.length;if(void 0===e||0===e.length||e.length>t.length){while(o--)if(47===t.charCodeAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":t.slice(r,i)}if(e===t)return"";let a=-1,s=e.length-1;while(o--)if(47===t.charCodeAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(t.charCodeAt(o)===e.charCodeAt(s--)?s<0&&(i=o):(s=-1,i=a));return r===i?i=a:i<0&&(i=t.length),t.slice(r,i)}function Vd(t){if(Kd(t),0===t.length)return".";let e,n=-1,r=t.length;while(--r)if(47===t.charCodeAt(r)){if(e){n=r;break}}else e||(e=!0);return n<0?47===t.charCodeAt(0)?"/":".":1===n&&47===t.charCodeAt(0)?"//":t.slice(0,n)}function Hd(t){Kd(t);let e,n=t.length,r=-1,i=0,o=-1,a=0;while(n--){const s=t.charCodeAt(n);if(47!==s)r<0&&(e=!0,r=n+1),46===s?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(e){i=n+1;break}}return o<0||r<0||0===a||1===a&&o===r-1&&o===i+1?"":t.slice(o,r)}function Gd(...t){let e,n=-1;while(++n<t.length)Kd(t[n]),t[n]&&(e=void 0===e?t[n]:e+"/"+t[n]);return void 0===e?".":Xd(e)}function Xd(t){Kd(t);const e=47===t.charCodeAt(0);let n=Jd(t,!e);return 0!==n.length||e||(n="."),n.length>0&&47===t.charCodeAt(t.length-1)&&(n+="/"),e?"/"+n:n}function Jd(t,e){let n,r,i="",o=0,a=-1,s=0,c=-1;while(++c<=t.length){if(c<t.length)n=t.charCodeAt(c);else{if(47===n)break;n=47}if(47===n){if(a===c-1||1===s);else if(a!==c-1&&2===s){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",o=0):(i=i.slice(0,r),o=i.length-1-i.lastIndexOf("/")),a=c,s=0;continue}}else if(i.length>0){i="",o=0,a=c,s=0;continue}e&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+t.slice(a+1,c):i=t.slice(a+1,c),o=c-a-1;a=c,s=0}else 46===n&&s>-1?s++:s=-1}return i}function Kd(t){if("string"!==typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Zd={cwd:Qd};function Qd(){return"/"}function tf(t){return null!==t&&"object"===typeof t&&t.href&&t.origin}function ef(t){if("string"===typeof t)t=new URL(t);else if(!tf(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if("file:"!==t.protocol){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return nf(t)}function nf(t){if(""!==t.hostname){const t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}const e=t.pathname;let n=-1;while(++n<e.length)if(37===e.charCodeAt(n)&&50===e.charCodeAt(n+1)){const t=e.charCodeAt(n+2);if(70===t||102===t){const t=new TypeError("File URL path must not include encoded / characters");throw t.code="ERR_INVALID_FILE_URL_PATH",t}}return decodeURIComponent(e)}const rf=["history","path","basename","stem","extname","dirname"];class of{constructor(t){let e;e=t?"string"===typeof t||Pd(t)?{value:t}:tf(t)?{path:t}:t:{},this.data={},this.messages=[],this.history=[],this.cwd=Zd.cwd(),this.value,this.stored,this.result,this.map;let n,r=-1;while(++r<rf.length){const t=rf[r];t in e&&void 0!==e[t]&&(this[t]="history"===t?[...e[t]]:e[t])}for(n in e)rf.includes(n)||(this[n]=e[n])}get path(){return this.history[this.history.length-1]}set path(t){tf(t)&&(t=ef(t)),sf(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return"string"===typeof this.path?Ud.dirname(this.path):void 0}set dirname(t){cf(this.basename,"dirname"),this.path=Ud.join(t||"",this.basename)}get basename(){return"string"===typeof this.path?Ud.basename(this.path):void 0}set basename(t){sf(t,"basename"),af(t,"basename"),this.path=Ud.join(this.dirname||"",t)}get extname(){return"string"===typeof this.path?Ud.extname(this.path):void 0}set extname(t){if(af(t,"extname"),cf(this.dirname,"extname"),t){if(46!==t.charCodeAt(0))throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ud.join(this.dirname,this.stem+(t||""))}get stem(){return"string"===typeof this.path?Ud.basename(this.path,this.extname):void 0}set stem(t){sf(t,"stem"),af(t,"stem"),this.path=Ud.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,e,n){const r=new Wd(t,e,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(t,e,n){const r=this.message(t,e,n);return r.fatal=null,r}fail(t,e,n){const r=this.message(t,e,n);throw r.fatal=!0,r}}function af(t,e){if(t&&t.includes(Ud.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ud.sep+"`")}function sf(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function cf(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}const lf=hf().freeze(),uf={}.hasOwnProperty;function hf(){const t=$d(),e=[];let n,r={},i=-1;return o.data=a,o.Parser=void 0,o.Compiler=void 0,o.freeze=s,o.attachers=e,o.use=c,o.parse=l,o.stringify=u,o.run=h,o.runSync=d,o.process=f,o.processSync=p,o;function o(){const t=hf();let n=-1;while(++n<e.length)t.use(...e[n]);return t.data(jd(!0,{},r)),t}function a(t,e){return"string"===typeof t?2===arguments.length?(mf("data",n),r[t]=e,o):uf.call(r,t)&&r[t]||null:t?(mf("data",n),r=t,o):r}function s(){if(n)return o;while(++i<e.length){const[n,...r]=e[i];if(!1===r[0])continue;!0===r[0]&&(r[0]=void 0);const a=n.call(o,...r);"function"===typeof a&&t.use(a)}return n=!0,i=Number.POSITIVE_INFINITY,o}function c(t,...i){let a;if(mf("use",n),null===t||void 0===t);else if("function"===typeof t)u(t,...i);else{if("object"!==typeof t)throw new TypeError("Expected usable value, not `"+t+"`");Array.isArray(t)?l(t):c(t)}return a&&(r.settings=Object.assign(r.settings||{},a)),o;function s(t){if("function"===typeof t)u(t);else{if("object"!==typeof t)throw new TypeError("Expected usable value, not `"+t+"`");if(Array.isArray(t)){const[e,...n]=t;u(e,...n)}else c(t)}}function c(t){l(t.plugins),t.settings&&(a=Object.assign(a||{},t.settings))}function l(t){let e=-1;if(null===t||void 0===t);else{if(!Array.isArray(t))throw new TypeError("Expected a list of plugins, not `"+t+"`");while(++e<t.length){const n=t[e];s(n)}}}function u(t,n){let r,i=-1;while(++i<e.length)if(e[i][0]===t){r=e[i];break}r?(zd(r[1])&&zd(n)&&(n=jd(!0,r[1],n)),r[1]=n):e.push([...arguments])}}function l(t){o.freeze();const e=vf(t),n=o.Parser;return pf("parse",n),df(n,"parse")?new n(String(e),e).parse():n(String(e),e)}function u(t,e){o.freeze();const n=vf(e),r=o.Compiler;return gf("stringify",r),yf(t),df(r,"compile")?new r(t,n).compile():r(t,n)}function h(e,n,r){if(yf(e),o.freeze(),r||"function"!==typeof n||(r=n,n=void 0),!r)return new Promise(i);function i(i,o){function a(t,n,a){n=n||e,t?o(t):i?i(n):r(null,n,a)}t.run(e,vf(n),a)}i(null,r)}function d(t,e){let n,r;return o.run(t,e,i),bf("runSync","run",r),n;function i(t,e){Rd(t),n=e,r=!0}}function f(t,e){if(o.freeze(),pf("process",o.Parser),gf("process",o.Compiler),!e)return new Promise(n);function n(n,r){const i=vf(t);function a(t,i){t||!i?r(t):n?n(i):e(null,i)}o.run(o.parse(i),i,((t,e,n)=>{if(!t&&e&&n){const r=o.stringify(e,n);void 0===r||null===r||(xf(r)?n.value=r:n.result=r),a(t,n)}else a(t)}))}n(null,e)}function p(t){let e;o.freeze(),pf("processSync",o.Parser),gf("processSync",o.Compiler);const n=vf(t);return o.process(n,r),bf("processSync","process",e),n;function r(t){e=!0,Rd(t)}}}function df(t,e){return"function"===typeof t&&t.prototype&&(ff(t.prototype)||e in t.prototype)}function ff(t){let e;for(e in t)if(uf.call(t,e))return!0;return!1}function pf(t,e){if("function"!==typeof e)throw new TypeError("Cannot `"+t+"` without `Parser`")}function gf(t,e){if("function"!==typeof e)throw new TypeError("Cannot `"+t+"` without `Compiler`")}function mf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yf(t){if(!zd(t)||"string"!==typeof t.type)throw new TypeError("Expected node, got `"+t+"`")}function bf(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function vf(t){return _f(t)?t:new of(t)}function _f(t){return Boolean(t&&"object"===typeof t&&"message"in t&&"messages"in t)}function xf(t){return"string"===typeof t||Pd(t)}function wf(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kf(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Df=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kf(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=wf(e);try{n.insertRule(t,n.cssRules.length)}catch(Mk){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),Cf=Math.abs,Ef=String.fromCharCode,Sf=Object.assign;function Tf(t,e){return(((e<<2^Nf(t,0))<<2^Nf(t,1))<<2^Nf(t,2))<<2^Nf(t,3)}function Af(t){return t.trim()}function Mf(t,e){return(t=e.exec(t))?t[0]:t}function Ff(t,e,n){return t.replace(e,n)}function Of(t,e){return t.indexOf(e)}function Nf(t,e){return 0|t.charCodeAt(e)}function Bf(t,e,n){return t.slice(e,n)}function If(t){return t.length}function Lf(t){return t.length}function Rf(t,e){return e.push(t),t}function Pf(t,e){return t.map(e).join("")}var jf=1,zf=1,$f=0,Yf=0,Wf=0,Uf="";function qf(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:jf,column:zf,length:a,return:""}}function Vf(t,e){return Sf(qf("",null,null,"",null,null,0),t,{length:-t.length},e)}function Hf(){return Wf}function Gf(){return Wf=Yf>0?Nf(Uf,--Yf):0,zf--,10===Wf&&(zf=1,jf--),Wf}function Xf(){return Wf=Yf<$f?Nf(Uf,Yf++):0,zf++,10===Wf&&(zf=1,jf++),Wf}function Jf(){return Nf(Uf,Yf)}function Kf(){return Yf}function Zf(t,e){return Bf(Uf,t,e)}function Qf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tp(t){return jf=zf=1,$f=If(Uf=t),Yf=0,[]}function ep(t){return Uf="",t}function np(t){return Af(Zf(Yf-1,op(91===t?t+2:40===t?t+1:t)))}function rp(t){while(Wf=Jf()){if(!(Wf<33))break;Xf()}return Qf(t)>2||Qf(Wf)>3?"":" "}function ip(t,e){while(--e&&Xf())if(Wf<48||Wf>102||Wf>57&&Wf<65||Wf>70&&Wf<97)break;return Zf(t,Kf()+(e<6&&32==Jf()&&32==Xf()))}function op(t){while(Xf())switch(Wf){case t:return Yf;case 34:case 39:34!==t&&39!==t&&op(Wf);break;case 40:41===t&&op(t);break;case 92:Xf();break}return Yf}function ap(t,e){while(Xf()){if(t+Wf===57)break;if(t+Wf===84&&47===Jf())break}return"/*"+Zf(e,Yf-1)+"*"+Ef(47===t?t:Xf())}function sp(t){while(!Qf(Jf()))Xf();return Zf(t,Yf)}var cp="-ms-",lp="-moz-",up="-webkit-",hp="comm",dp="rule",fp="decl",pp="@import",gp="@keyframes";function mp(t,e){for(var n="",r=Lf(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function yp(t,e,n,r){switch(t.type){case pp:case fp:return t.return=t.return||t.value;case hp:return"";case gp:return t.return=t.value+"{"+mp(t.children,r)+"}";case dp:t.value=t.props.join(",")}return If(n=mp(t.children,r))?t.return=t.value+"{"+n+"}":""}function bp(t,e){switch(Tf(t,e)){case 5103:return up+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return up+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return up+t+lp+t+cp+t+t;case 6828:case 4268:return up+t+cp+t+t;case 6165:return up+t+cp+"flex-"+t+t;case 5187:return up+t+Ff(t,/(\w+).+(:[^]+)/,up+"box-$1$2"+cp+"flex-$1$2")+t;case 5443:return up+t+cp+"flex-item-"+Ff(t,/flex-|-self/,"")+t;case 4675:return up+t+cp+"flex-line-pack"+Ff(t,/align-content|flex-|-self/,"")+t;case 5548:return up+t+cp+Ff(t,"shrink","negative")+t;case 5292:return up+t+cp+Ff(t,"basis","preferred-size")+t;case 6060:return up+"box-"+Ff(t,"-grow","")+up+t+cp+Ff(t,"grow","positive")+t;case 4554:return up+Ff(t,/([^-])(transform)/g,"$1"+up+"$2")+t;case 6187:return Ff(Ff(Ff(t,/(zoom-|grab)/,up+"$1"),/(image-set)/,up+"$1"),t,"")+t;case 5495:case 3959:return Ff(t,/(image-set\([^]*)/,up+"$1$`$1");case 4968:return Ff(Ff(t,/(.+:)(flex-)?(.*)/,up+"box-pack:$3"+cp+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+up+t+t;case 4095:case 3583:case 4068:case 2532:return Ff(t,/(.+)-inline(.+)/,up+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(If(t)-1-e>6)switch(Nf(t,e+1)){case 109:if(45!==Nf(t,e+4))break;case 102:return Ff(t,/(.+:)(.+)-([^]+)/,"$1"+up+"$2-$3$1"+lp+(108==Nf(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Of(t,"stretch")?bp(Ff(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==Nf(t,e+1))break;case 6444:switch(Nf(t,If(t)-3-(~Of(t,"!important")&&10))){case 107:return Ff(t,":",":"+up)+t;case 101:return Ff(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+up+(45===Nf(t,14)?"inline-":"")+"box$3$1"+up+"$2$3$1"+cp+"$2box$3")+t}break;case 5936:switch(Nf(t,e+11)){case 114:return up+t+cp+Ff(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return up+t+cp+Ff(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return up+t+cp+Ff(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return up+t+cp+t+t}return t}function vp(t){var e=Lf(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}function _p(t){return function(e){e.root||(e=e.return)&&t(e)}}function xp(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case fp:t.return=bp(t.value,t.length);break;case gp:return mp([Vf(t,{value:Ff(t.value,"@","@"+up)})],r);case dp:if(t.length)return Pf(t.props,(function(e){switch(Mf(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mp([Vf(t,{props:[Ff(e,/:(read-\w+)/,":"+lp+"$1")]})],r);case"::placeholder":return mp([Vf(t,{props:[Ff(e,/:(plac\w+)/,":"+up+"input-$1")]}),Vf(t,{props:[Ff(e,/:(plac\w+)/,":"+lp+"$1")]}),Vf(t,{props:[Ff(e,/:(plac\w+)/,cp+"input-$1")]})],r)}return""}))}}function wp(t){return ep(kp("",null,null,null,[""],t=tp(t),0,[0],t))}function kp(t,e,n,r,i,o,a,s,c){var l=0,u=0,h=a,d=0,f=0,p=0,g=1,m=1,y=1,b=0,v="",_=i,x=o,w=r,k=v;while(m)switch(p=b,b=Xf()){case 40:if(108!=p&&58==k.charCodeAt(h-1)){-1!=Of(k+=Ff(np(b),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:k+=np(b);break;case 9:case 10:case 13:case 32:k+=rp(p);break;case 92:k+=ip(Kf()-1,7);continue;case 47:switch(Jf()){case 42:case 47:Rf(Cp(ap(Xf(),Kf()),e,n),c);break;default:k+="/"}break;case 123*g:s[l++]=If(k)*y;case 125*g:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+u:f>0&&If(k)-h&&Rf(f>32?Ep(k+";",r,n,h-1):Ep(Ff(k," ","")+";",r,n,h-2),c);break;case 59:k+=";";default:if(Rf(w=Dp(k,e,n,l,u,i,s,v,_=[],x=[],h),o),123===b)if(0===u)kp(k,e,w,w,_,o,h,s,x);else switch(d){case 100:case 109:case 115:kp(t,w,w,r&&Rf(Dp(t,w,w,0,0,i,s,v,i,_=[],h),x),i,x,h,s,r?_:x);break;default:kp(k,w,w,w,[""],x,0,s,x)}}l=u=f=0,g=y=1,v=k="",h=a;break;case 58:h=1+If(k),f=p;default:if(g<1)if(123==b)--g;else if(125==b&&0==g++&&125==Gf())continue;switch(k+=Ef(b),b*g){case 38:y=u>0?1:(k+="\f",-1);break;case 44:s[l++]=(If(k)-1)*y,y=1;break;case 64:45===Jf()&&(k+=np(Xf())),d=Jf(),u=h=If(v=k+=sp(Kf())),b++;break;case 45:45===p&&2==If(k)&&(g=0)}}return o}function Dp(t,e,n,r,i,o,a,s,c,l,u){for(var h=i-1,d=0===i?o:[""],f=Lf(d),p=0,g=0,m=0;p<r;++p)for(var y=0,b=Bf(t,h+1,h=Cf(g=a[p])),v=t;y<f;++y)(v=Af(g>0?d[y]+" "+b:Ff(b,/&\f/g,d[y])))&&(c[m++]=v);return qf(t,e,n,0===i?dp:s,c,l,u)}function Cp(t,e,n){return qf(t,e,n,hp,Ef(Hf()),Bf(t,2,-2),0)}function Ep(t,e,n,r){return qf(t,e,n,fp,Bf(t,0,r),Bf(t,r+1,-1),r)}var Sp=function(t,e,n){var r=0,i=0;while(1){if(r=i,i=Jf(),38===r&&12===i&&(e[n]=1),Qf(i))break;Xf()}return Zf(t,Yf)},Tp=function(t,e){var n=-1,r=44;do{switch(Qf(r)){case 0:38===r&&12===Jf()&&(e[n]=1),t[n]+=Sp(Yf-1,e,n);break;case 2:t[n]+=np(r);break;case 4:if(44===r){t[++n]=58===Jf()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=Ef(r)}}while(r=Xf());return t},Ap=function(t,e){return ep(Tp(tp(t),e))},Mp=new WeakMap,Fp=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;while("rule"!==n.type)if(n=n.parent,!n)return;if((1!==t.props.length||58===e.charCodeAt(0)||Mp.get(n))&&!r){Mp.set(t,!0);for(var i=[],o=Ap(e,i),a=n.props,s=0,c=0;s<o.length;s++)for(var l=0;l<a.length;l++,c++)t.props[c]=i[s]?o[s].replace(/&\f/g,a[l]):a[l]+" "+o[s]}}},Op=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t["return"]="",t.value="")}},Np=[xp],Bp=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){var e=t.getAttribute("data-emotion");-1!==e.indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r=t.stylisPlugins||Np;var i,o,a={},s=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;s.push(t)}));var c=[Fp,Op];var l,u=[yp,_p((function(t){l.insert(t)}))],h=vp(c.concat(r,u)),d=function(t){return mp(wp(t),h)};o=function(t,e,n,r){l=n,d(t?t+"{"+e.styles+"}":e.styles),r&&(f.inserted[e.name]=!0)};var f={key:e,sheet:new Df({key:e,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(s),f},Ip=Bp,Lp=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Rp=(t,e,n)=>(Lp(t,e,"read from private field"),n?n.call(t):e.get(t)),Pp=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},jp=(t,e,n,r)=>(Lp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function zp(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24,e=1540483477*(65535&e)+(59797*(e>>>16)<<16),e^=e>>>24,n=1540483477*(65535&e)+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n^=255&t.charCodeAt(r),n=1540483477*(65535&n)+(59797*(n>>>16)<<16)}return n^=n>>>13,n=1540483477*(65535&n)+(59797*(n>>>16)<<16),((n^n>>>15)>>>0).toString(36)}var $p={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Yp(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var Wp=/[A-Z]|^ms/g,Up=/_EMO_([^_]+?)_([^]*?)_EMO_/g,qp=function(t){return 45===t.charCodeAt(1)},Vp=function(t){return null!=t&&"boolean"!=typeof t},Hp=Yp((function(t){return qp(t)?t:t.replace(Wp,"-$&").toLowerCase()})),Gp=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(Up,(function(t,e,n){return Kp={name:e,styles:n,next:Kp},e}))}return 1===$p[t]||qp(t)||"number"!=typeof e||0===e?e:e+"px"};function Xp(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Kp={name:n.name,styles:n.styles,next:Kp},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Kp={name:r.name,styles:r.styles,next:Kp},r=r.next;var i=n.styles+";";return i}return Jp(t,e,n);case"function":if(void 0!==t){var o=Kp,a=n(t);return Kp=o,Xp(t,e,a)}break;case"string":break}if(null==e)return n;var s=e[n];return void 0!==s?s:n}function Jp(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xp(t,e,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=e&&void 0!==e[a]?r+=o+"{"+e[a]+"}":Vp(a)&&(r+=Hp(o)+":"+Gp(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=Xp(t,e,a);switch(o){case"animation":case"animationName":r+=Hp(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var c=0;c<a.length;c++)Vp(a[c])&&(r+=Hp(o)+":"+Gp(o,a[c])+";")}return r}var Kp,Zp=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Qp=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";Kp=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=Xp(n,e,o)):i+=o[0];for(var a=1;a<t.length;a++)i+=Xp(n,e,t[a]),r&&(i+=o[a]);Zp.lastIndex=0;for(var s,c="";null!==(s=Zp.exec(i));)c+="-"+s[1];var l=zp(i)+c;return{name:l,styles:i,next:Kp}},tg=!0;function eg(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var ng=function(t,e,n){var r=t.key+"-"+e.name;(!1===n||!1===tg)&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},rg=function(t,e,n){ng(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}};function ig(t,e){if(void 0===t.inserted[e.name])return t.insert("",e,t.sheet,!0)}function og(t,e,n){var r=[],i=eg(t,r,n);return r.length<2?n:i+e(r)}var ag=function(t){var e=Ip(t);e.sheet.speedy=function(t){this.isSpeedy=t},e.compat=!0;var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Qp(n,e.registered,void 0);return rg(e,i,!1),e.key+"-"+i.name},r=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Qp(n,e.registered),o="animation-"+i.name;return ig(e,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},i=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Qp(n,e.registered);ig(e,i)},o=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return og(e.registered,n,sg(r))};return{css:n,cx:o,injectGlobal:i,keyframes:r,hydrate:function(t){t.forEach((function(t){e.inserted[t]=!0}))},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:eg.bind(null,e.registered),merge:og.bind(null,e.registered,n)}},sg=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=t(i);else for(var a in o="",i)i[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n};const cg=t=>ag(t),lg=B({key:"milkdown"},"EmotionConfig"),ug=B({},"Emotion"),hg=t=>B((()=>null),t);var dg,fg,pg,gg;class mg{constructor(){Pp(this,dg,O()),Pp(this,fg,new Map),Pp(this,pg,new Set),Pp(this,gg,(()=>{}))}inject(t){t(Rp(this,dg).sliceMap)}has(t){const e="string"==typeof t?t:t.sliceName;return!!Rp(this,fg).has(e)||null!=Rp(this,dg).getSlice(t).get()(null)}set(t,e){const n="string"==typeof t?t:t.sliceName;Rp(this,fg).set(n,e)}get(t,e){const n="string"==typeof t?t:t.sliceName,r=Rp(this,fg).get(n);return r&&(Rp(this,dg).getSlice(t).set(r),Rp(this,fg).delete(t)),Rp(this,dg).getSlice(t).get()(e)}onFlush(t,e=!0){Rp(this,pg).has(t)||Rp(this,pg).add(t),e&&t()}async switch(t,e){t.get(ug).flush(),await e(t)(t),this.runExecutor(),Rp(this,pg).forEach((t=>t()))}flush(t){t.get(ug).flush(),this.runExecutor(),Rp(this,pg).forEach((t=>t()))}setExecutor(t){t(),jp(this,gg,t)}runExecutor(){Rp(this,gg).call(this)}}dg=new WeakMap,fg=new WeakMap,pg=new WeakMap,gg=new WeakMap;const yg=B(new mg,"themeManager"),bg=()=>new mg,vg=hg("border"),_g=hg("color"),xg=hg("font"),wg=hg("global"),kg=hg("icon"),Dg=hg("code-fence"),Cg=hg("image"),Eg=hg("inner-editor"),Sg=hg("input-chip"),Tg=hg("task-list-item"),Ag=hg("scrollbar"),Mg=hg("shadow"),Fg=hg("size"),Og=[_g,Fg,xg,Ag,Mg,vg,kg,wg,Dg,Cg,Eg,Tg,Sg],Ng=t=>{const e=/^([a-f\d])([a-f\d])([a-f\d])$/i,n=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,r=t=>parseInt(t,16),i=t.slice(1).replace(e,((t,e,n,r)=>e+e+n+n+r+r)),[o,a="0",s="0",c="0"]=i.match(n)||[];return o?[a,s,c].map(r):null},Bg=t=>(e,n=1)=>t.get(_g,[e,n]);var Ig=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Lg=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Rg=(t,e,n)=>(Ig(t,e,"access private method"),n);const Pg=()=>{const t=t=>t.elements.length,e=e=>e.elements[t(e)-1];return{size:t,top:e,push:t=>n=>{var r;null==(r=e(t))||r.push(n)},open:t=>e=>{t.elements.push(e)},close:t=>{const e=t.elements.pop();if(!e)throw m();return e}}},jg=(t,e,...n)=>{t.content.push(e,...n)},zg=t=>t.content.pop(),$g=(t,e,n)=>{const r={type:t,content:e,attrs:n,push:(...t)=>jg(r,...t),pop:()=>zg(r)};return r},{size:Yg,push:Wg,top:Ug,open:qg,close:Vg}=Pg(),Hg=t=>t.isText,Gg=(t,e,n)=>{if(Hg(e)&&Hg(n)&&tt.sameSet(e.marks,n.marks))return t.text(e.text+n.text,e.marks)},Xg=t=>(e,n)=>qg(t)($g(e,[],n)),Jg=t=>(e,n,r)=>{const i=e.createAndFill(n,r,t.marks);if(!i)throw g(e,n,r);return Wg(t)(i),i},Kg=t=>()=>{t.marks=tt.none;const e=Vg(t);return Jg(t)(e.type,e.attrs,e.content)},Zg=t=>(e,n)=>{const r=e.create(n);t.marks=r.addToSet(t.marks)},Qg=t=>e=>{t.marks=e.removeFromSet(t.marks)},tm=t=>e=>{const n=Ug(t);if(!n)throw m();const r=n.pop(),i=t.schema.text(e,t.marks);if(!r)return void n.push(i);const o=Gg(t.schema,r,i);o?n.push(o):n.push(r,i)},em=t=>()=>{let e;do{e=Kg(t)()}while(Yg(t));return e},nm=t=>{const e={marks:[],elements:[],schema:t};return{build:em(e),openMark:Zg(e),closeMark:Qg(e),addText:tm(e),openNode:Xg(e),addNode:Jg(e),closeNode:Kg(e)}};var rm,im,om,am;class sm{constructor(t,e,n){Lg(this,rm),Lg(this,om),this.stack=t,this.schema=e,this.specMap=n,this.run=(t,e)=>{const n=t.runSync(t.parse(e),e);return this.next(n),this},this.next=(t=[])=>([t].flat().forEach((t=>Rg(this,om,am).call(this,t))),this),this.toDoc=()=>this.stack.build(),this.injectRoot=(t,e,n)=>(this.stack.openNode(e,n),this.next(t.children),this),this.addText=(t="")=>(this.stack.addText(t),this),this.addNode=(...t)=>(this.stack.addNode(...t),this),this.openNode=(...t)=>(this.stack.openNode(...t),this),this.closeNode=(...t)=>(this.stack.closeNode(...t),this),this.openMark=(...t)=>(this.stack.openMark(...t),this),this.closeMark=(...t)=>(this.stack.closeMark(...t),this)}}rm=new WeakSet,im=function(t){const e=Object.values(this.specMap).find((e=>e.match(t)));if(!e)throw y(t);return e},om=new WeakSet,am=function(t){const{key:e,runner:n,is:r}=Rg(this,rm,im).call(this,t),i=this.schema["node"===r?"nodes":"marks"][e];n(this,t,i)};const cm=(t,e,n)=>{const r=new sm(nm(t),t,e);return t=>(r.run(n,t),r.toDoc())},lm=(t,e,...n)=>{t.children||(t.children=[]),t.children.push(e,...n)},um=t=>{var e;return null==(e=t.children)?void 0:e.pop()},hm=(t,e,n,r={})=>{const i={type:t,children:e,props:r,value:n,push:(...t)=>lm(i,...t),pop:()=>um(i)};return i},{size:dm,push:fm,open:pm,close:gm}=Pg(),mm=(t,e)=>{var n;if(t.type===e||1!==(null==(n=t.children)?void 0:n.length))return t;const r=t=>{var n;if(t.type===e)return t;if(1!==(null==(n=t.children)?void 0:n.length))return null;const[i]=t.children;return i?r(i):null},i=r(t);if(!i)return t;const o=i.children?[...i.children]:void 0,a={...t,children:o};return a.children=o,i.children=[a],i},ym=t=>{const{children:e}=t;return e&&(t.children=e.reduce(((t,e,n)=>{if(0===n)return[e];const r=t[t.length-1];if(r&&r.isMark&&e.isMark){e=mm(e,r.type);const{children:n,...i}=e,{children:o,...a}=r;if(e.type===r.type&&n&&o&&JSON.stringify(i)===JSON.stringify(a)){const e={...a,children:[...o,...n]};return t.slice(0,-1).concat(ym(e))}}return t.concat(e)}),[])),t},bm=t=>{const e={...t.props,type:t.type};return t.children&&(e.children=t.children),t.value&&(e.value=t.value),e},vm=t=>(e,n,r)=>pm(t)(hm(e,[],n,r)),_m=t=>(e,n,r,i)=>{const o=hm(e,n,r,i),a=ym(bm(o));return fm(t)(a),a},xm=t=>()=>{const e=gm(t);return _m(t)(e.type,e.children,e.value,e.props)},wm=t=>(e,n,r,i)=>{e.isInSet(t.marks)||(t.marks=e.addToSet(t.marks),vm(t)(n,r,{...i,isMark:!0}))},km=t=>e=>e.isInSet(t.marks)?(t.marks=e.type.removeFromSet(t.marks),xm(t)()):null,Dm=t=>()=>{let e=null;do{e=xm(t)()}while(dm(t));return e},Cm=()=>{const t={marks:[],elements:[]};return{build:Dm(t),openMark:wm(t),closeMark:km(t),openNode:vm(t),addNode:_m(t),closeNode:xm(t)}},Em=t=>Object.prototype.hasOwnProperty.call(t,"size");var Sm,Tm,Am,Mm,Fm,Om,Nm,Bm;class Im{constructor(t,e,n){Lg(this,Sm),Lg(this,Am),Lg(this,Fm),Lg(this,Nm),this.stack=t,this.schema=e,this.specMap=n,this.toString=t=>t.stringify(this.stack.build()),this.next=t=>Em(t)?(t.forEach((t=>{Rg(this,Nm,Bm).call(this,t)})),this):(Rg(this,Nm,Bm).call(this,t),this),this.addNode=(...t)=>(this.stack.addNode(...t),this),this.openNode=(...t)=>(this.stack.openNode(...t),this),this.closeNode=(...t)=>(this.stack.closeNode(...t),this),this.withMark=(...t)=>(this.stack.openMark(...t),this)}run(t){return this.next(t),this}}Sm=new WeakSet,Tm=function(t){const e=Object.entries(this.specMap).map((([t,e])=>({key:t,...e}))).find((e=>e.match(t)));if(!e)throw b(t.type);return e},Am=new WeakSet,Mm=function(t){const{runner:e}=Rg(this,Sm,Tm).call(this,t);e(this,t)},Fm=new WeakSet,Om=function(t,e){const{runner:n}=Rg(this,Sm,Tm).call(this,t);return n(this,t,e)},Nm=new WeakSet,Bm=function(t){const{marks:e}=t,n=t=>{var e;return null!=(e=t.type.spec.priority)?e:50};[...e].sort(((t,e)=>n(t)-n(e))).every((e=>!Rg(this,Fm,Om).call(this,e,t)))&&Rg(this,Am,Mm).call(this,t),e.forEach((t=>this.stack.closeMark(t)))};const Lm=(t,e,n)=>r=>{const i=new Im(Cm(),t,e);return i.run(r),i.toString(n)};var Rm=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Pm=(t,e,n)=>(Rm(t,e,"read from private field"),n?n.call(t):e.get(t)),jm=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},zm=(t,e,n,r)=>(Rm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const $m=q("ConfigReady"),Ym=t=>e=>(e.record($m),async e=>{await t(e),e.done($m)}),Wm=B([],"themeTimer"),Um=q("ThemeEnvironmentReady"),qm=q("ThemeReady"),Vm=new Vn("MILKDOWN_THEME_RESET"),Hm=t=>{const e=bg();return t.inject(lg).inject(ug).inject(yg,e).inject(Wm,[$m]).record(qm).record(Um),async t=>{await t.waitTimers(Wm);const n=cg(t.get(lg));Og.forEach((t=>{e.inject(t)})),t.set(ug,n),t.done(Um),t.done(qm),await t.wait(Xm),t.update(Qm,(t=>t.concat(new Wn({key:Vm,view:()=>(e.runExecutor(),{destroy:()=>{n.flush()}})}))))}},Gm=t=>{let e=null;const n=()=>async n=>{await n.wait(Um);const r=n.get(ug),i=n.get(yg);i.setExecutor((()=>{null==t||t(r,i),null==e||e(r,i),Og.forEach((t=>{i.has(t)||console.warn("Theme key not found: ",t.sliceName)})),i.get(wg,void 0)}))};return n.override=t=>(e=t,n),n},Xm=q("InitReady"),Jm=B([],"initTimer"),Km=B({},"editor"),Zm=B([],"inputRules"),Qm=B([],"prosePlugins"),ty=B([],"remarkPlugins"),ey=B([],"nodeView"),ny=B([],"markView"),ry=B(lf().use(sh).use(Ld),"remark"),iy={},oy=B(iy,"remarkStringifyOptions"),ay=t=>e=>(e.inject(Km,t).inject(Qm).inject(ty).inject(Zm).inject(ey).inject(ny).inject(oy).inject(ry,lf().use(sh).use(Ld)).inject(Jm,[qm]).record(Xm),async t=>{await t.waitTimers(Jm);const e=t.get(oy);t.set(ry,lf().use(sh).use(Ld,e)),t.done(Xm)}),sy=q("schemaReady"),cy=B({},"schema"),ly=B([],"schemaTimer"),uy=B([],"nodes"),hy=B([],"marks"),dy=t=>{var e;return{...t,parseDOM:null==(e=t.parseDOM)?void 0:e.map((e=>({priority:t.priority,...e})))}},fy=t=>(t.inject(cy).inject(uy).inject(hy).inject(ly,[Xm]).record(sy),async t=>{await t.waitTimers(ly);const e=t.get(ry),n=t.get(ty).reduce(((t,e)=>t.use(e)),e);t.set(ry,n);const r=Object.fromEntries(t.get(uy).map((([t,e])=>[t,dy(e)]))),i=Object.fromEntries(t.get(hy).map((([t,e])=>[t,dy(e)])));t.set(cy,new Ut({nodes:r,marks:i})),t.done(sy)}),py=B((()=>{}),"parser"),gy=B([],"parserTimer"),my=q("ParserReady"),yy=t=>(t.inject(py).inject(gy,[sy]).record(my),async t=>{await t.waitTimers(gy);const e=t.get(uy),n=t.get(hy),r=t.get(ry),i=t.get(cy),o=[...e.map((([t,e])=>({id:t,...e}))).map((t=>({...t,is:"node"}))),...n.map((([t,e])=>({id:t,...e}))).map((t=>({...t,is:"mark"})))],a=Object.fromEntries(o.map((({id:t,parseMarkdown:e,is:n})=>[t,{...e,is:n,key:t}])));t.set(py,cm(i,a,r)),t.done(my)}),by=B((()=>""),"serializer"),vy=B([],"serializerTimer"),_y=q("SerializerReady"),xy=t=>(t.inject(by).inject(vy,[sy]).record(_y),async t=>{await t.waitTimers(vy);const e=t.get(uy),n=t.get(hy),r=t.get(ry),i=t.get(cy),o=[...e,...n],a=Object.fromEntries(o.map((([t,e])=>[t,e.toMarkdown])));t.set(by,Lm(i,a,r)),t.done(_y)}),wy=B("","defaultValue"),ky=B({},"editorState"),Dy=B((t=>t),"stateOptions"),Cy=B([],"editorStateTimer"),Ey=q("EditorStateReady"),Sy=new Vn("MILKDOWN_STATE_TRACKER"),Ty=(t,e,n)=>{if("string"==typeof t)return e(t);if("html"===t.type)return Vt.fromSchema(n).parse(t.dom);if("json"===t.type)return xt.fromJSON(n,t.value);throw h(t)},Ay=t=>(t.inject(wy).inject(ky).inject(Dy).inject(Cy,[my,_y,Hy]).record(Ey),async t=>{await t.waitTimers(Cy);const e=t.get(cy),n=t.get(py),r=t.get(Zm),i=t.get(Dy),o=t.get(Qm),a=t.get(wy),s=Ty(a,n,e),c=[...o,new Wn({key:Sy,state:{init:()=>{},apply:(e,n,r,i)=>{t.set(ky,i)}}}),ls({rules:r}),lc(Xs)];t.set(Qm,c);const l=i({schema:e,doc:s,plugins:c}),u=$n.create(l);t.set(ky,u),t.done(Ey)}),My=B({},"editorView"),Fy=B({},"editorViewOptions"),Oy=B(null,"root"),Ny=B([],"editorViewTimer"),By=B(null,"rootDOM"),Iy=q("EditorViewReady"),Ly=(t,e)=>{const n=document.createElement("div");return n.className="milkdown",t.appendChild(n),e.set(By,n),n},Ry=t=>{t.classList.add("editor"),t.setAttribute("role","textbox")},Py=new Vn("MILKDOWN_VIEW_CLEAR"),jy=t=>(t.inject(Oy,document.body).inject(My).inject(Fy).inject(By).inject(Ny,[Ey]).record(Iy),async t=>{await t.wait(Xm);const e=t.get(Oy)||document.body,n="string"==typeof e?document.querySelector(e):e;t.update(Qm,(e=>[new Wn({key:Py,view:e=>{const r=n?Ly(n,t):void 0;return(()=>{if(r&&n){const t=e.dom;n.replaceChild(r,t),r.appendChild(t)}})(),{destroy:()=>{null!=r&&r.parentNode&&(null==r||r.parentNode.replaceChild(e.dom,r)),null==r||r.remove()}}}}),...e])),await t.waitTimers(Ny);const r=t.get(ky),i=t.get(Fy),o=Object.fromEntries(t.get(ey)),a=Object.fromEntries(t.get(ny)),s=new za(n,{state:r,nodeViews:o,markViews:a,...i});Ry(s.dom),t.set(My,s),t.done(Iy)});var zy,$y;class Yy{constructor(){jm(this,zy,void 0),jm(this,$y,void 0),zm(this,zy,O()),zm(this,$y,null),this.setCtx=t=>{zm(this,$y,t)}}create(t,e){return t(Pm(this,zy).sliceMap,e)}get(t){return Pm(this,zy).getSlice(t).get()}call(t,e){if(null==Pm(this,$y))throw x();const n=this.get(t)(e),r=Pm(this,$y).get(My);return n(r.state,r.dispatch,r)}}zy=new WeakMap,$y=new WeakMap;const Wy=(t,e)=>[t,e],Uy=(t="cmdKey")=>B((()=>()=>!1),t),qy=B({},"commands"),Vy=B([],"commandsTimer"),Hy=q("CommandsReady"),Gy=t=>{const e=new Yy;return t.inject(qy,e).inject(Vy,[sy]).record(Hy),async t=>{await t.waitTimers(Vy),t.done(Hy),await t.wait(Iy),e.setCtx(t)}};var Xy,Jy,Ky,Zy,Qy,tb,eb;const nb=class{constructor(){jm(this,Xy,void 0),jm(this,Jy,void 0),jm(this,Ky,void 0),jm(this,Zy,void 0),jm(this,Qy,void 0),jm(this,tb,void 0),jm(this,eb,void 0),zm(this,Xy,O()),zm(this,Jy,U()),zm(this,Ky,new Set),zm(this,Zy,[]),zm(this,Qy,new $(Pm(this,Xy),Pm(this,Jy))),zm(this,tb,new W(Pm(this,Xy),Pm(this,Jy))),zm(this,eb,(()=>{const t=[Hm,fy,yy,xy,Gy,Ay,jy,ay(this)],e=Ym((async t=>{await Promise.all(Pm(this,Zy).map((e=>e(t))))}));this.use(t.concat(e))})),this.use=t=>([t].flat().forEach((t=>{Pm(this,Ky).add(t(Pm(this,tb)))})),this),this.config=t=>(Pm(this,Zy).push(t),this),this.create=async()=>(Pm(this,eb).call(this),await Promise.all([...Pm(this,Ky)].map((t=>t(Pm(this,Qy))))),this),this.action=t=>t(Pm(this,Qy))}static make(){return new nb}get ctx(){return Pm(this,Qy)}};let rb=nb;Xy=new WeakMap,Jy=new WeakMap,Ky=new WeakMap,Zy=new WeakMap,Qy=new WeakMap,tb=new WeakMap,eb=new WeakMap;var ib=200,ob=function(){};ob.prototype.append=function(t){return t.length?(t=ob.from(t),!this.length&&t||t.length<ib&&this.leafAppend(t)||this.length<ib&&t.leafPrepend(this)||this.appendInner(t)):this},ob.prototype.prepend=function(t){return t.length?ob.from(t).append(this):this},ob.prototype.appendInner=function(t){return new sb(this,t)},ob.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?ob.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},ob.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},ob.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},ob.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},ob.from=function(t){return t instanceof ob?t:t&&t.length?new ab(t):ob.empty};var ab=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=ib)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=ib)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(ob);ob.empty=new ab([]);var sb=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(ob),cb=ob,lb=cb;const ub=500;class hb{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){let t=this.items.get(i-1);if(t.selection){--i;break}}e&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,a,s=t.tr,c=[],l=[];return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(i,e+1),r=n.maps.length),r--,void l.push(t);if(n){l.push(new fb(t.map));let e,i=t.step.map(n.slice(r));i&&s.maybeStep(i).doc&&(e=s.mapping.maps[s.mapping.maps.length-1],c.push(new fb(e,void 0,void 0,c.length+l.length))),r--,e&&n.appendMap(e,r)}else s.maybeStep(t.step);return t.selection?(o=n?t.selection.map(n.slice(r)):t.selection,a=new hb(this.items.slice(0,i).append(l.reverse().concat(c)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:s,selection:o}}addTransform(t,e,n,r){let i=[],o=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null;for(let l=0;l<t.steps.length;l++){let n,c=t.steps[l].invert(t.docs[l]),u=new fb(t.mapping.maps[l],c,e);(n=s&&s.merge(u))&&(u=n,l?i.pop():a=a.slice(0,a.length-1)),i.push(u),e&&(o++,e=void 0),r||(s=u)}let c=o-n.depth;return c>gb&&(a=db(a,c),o-=c),new hb(a.append(i),o)}remapping(t,e){let n=new we;return this.items.forEach(((e,r)=>{let i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,i)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new hb(this.items.append(t.map((t=>new fb(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach((t=>{t.selection&&a--}),r);let s=e;this.items.forEach((e=>{let r=i.getMirror(--s);if(null==r)return;o=Math.min(o,r);let c=i.maps[r];if(e.step){let o=t.steps[r].invert(t.docs[r]),l=e.selection&&e.selection.map(i.slice(s+1,r));l&&a++,n.push(new fb(c,o,l))}else n.push(new fb(c))}),r);let c=[];for(let h=e;h<o;h++)c.push(new fb(i.maps[h]));let l=this.items.slice(0,r).append(c).append(n),u=new hb(l,a);return u.emptyItemCount()>ub&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach(((o,a)=>{if(a>=t)r.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(n)),a=t&&t.getMap();if(n--,a&&e.appendMap(a,n),t){let s=o.selection&&o.selection.map(e.slice(n));s&&i++;let c,l=new fb(a.invert(),t,s),u=r.length-1;(c=r.length&&r[u].merge(l))?r[u]=c:r.push(l)}}else o.map&&n--}),this.items.length,0),new hb(lb.from(r.reverse()),i)}}function db(t,e){let n;return t.forEach(((t,r)=>{if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}hb.empty=new hb(lb.empty,0);class fb{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new fb(e.getMap().invert(),e,this.selection)}}}class pb{constructor(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r}}const gb=20;function mb(t,e,n,r){let i,o=n.getMeta(Db);if(o)return o.historyState;n.getMeta(Cb)&&(t=new pb(t.done,t.undone,null,0));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(a&&a.getMeta(Db))return a.getMeta(Db).redo?new pb(t.done.addTransform(n,void 0,r,kb(e)),t.undone,bb(n.mapping.maps[n.steps.length-1]),t.prevTime):new pb(t.done,t.undone.addTransform(n,void 0,r,kb(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new pb(t.done.rebased(n,i),t.undone.rebased(n,i),vb(t.prevRanges,n.mapping),t.prevTime):new pb(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),vb(t.prevRanges,n.mapping),t.prevTime);{let i=0==t.prevTime||!a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!yb(n,t.prevRanges)),o=a?vb(t.prevRanges,n.mapping):bb(n.mapping.maps[n.steps.length-1]);return new pb(t.done.addTransform(n,i?e.selection.getBookmark():void 0,r,kb(e)),hb.empty,o,n.time)}}function yb(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,r)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)})),n}function bb(t){let e=[];return t.forEach(((t,n,r,i)=>e.push(r,i))),e}function vb(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function _b(t,e,n,r){let i=kb(e),o=Db.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,i);if(!a)return;let s=a.selection.resolve(a.transform.doc),c=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),l=new pb(r?c:a.remaining,r?a.remaining:c,null,0);n(a.transform.setSelection(s).setMeta(Db,{redo:r,historyState:l}).scrollIntoView())}let xb=!1,wb=null;function kb(t){let e=t.plugins;if(wb!=e){xb=!1,wb=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){xb=!0;break}}return xb}const Db=new Vn("history"),Cb=new Vn("closeHistory");function Eb(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Wn({key:Db,state:{init(){return new pb(hb.empty,hb.empty,null,0)},apply(e,n,r){return mb(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r="historyUndo"==n?Sb:"historyRedo"==n?Tb:null;return!!r&&(e.preventDefault(),r(t.state,t.dispatch))}}}})}const Sb=(t,e)=>{let n=Db.getState(t);return!(!n||0==n.done.eventCount)&&(e&&_b(n,t,e,!1),!0)},Tb=(t,e)=>{let n=Db.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&_b(n,t,e,!0),!0)};const Ab=({injectGlobal:t})=>t`
    /* copy from https://github.com/ProseMirror/@milkdown/prose/blob/master/style/prosemirror.css */
    .ProseMirror {
        position: relative;
    }

    .ProseMirror {
        word-wrap: break-word;
        white-space: pre-wrap;
        white-space: break-spaces;
        -webkit-font-variant-ligatures: none;
        font-variant-ligatures: none;
        font-feature-settings: 'liga' 0; /* the above doesn't seem to work in Edge */
    }

    .ProseMirror pre {
        white-space: pre-wrap;
    }

    .ProseMirror li {
        position: relative;
    }

    .ProseMirror-hideselection *::selection {
        background: transparent;
    }
    .ProseMirror-hideselection *::-moz-selection {
        background: transparent;
    }
    .ProseMirror-hideselection {
        caret-color: transparent;
    }

    .ProseMirror-selectednode {
        outline: 2px solid #8cf;
    }

    /* Make sure li selections wrap around markers */

    li.ProseMirror-selectednode {
        outline: none;
    }

    li.ProseMirror-selectednode:after {
        content: '';
        position: absolute;
        left: -32px;
        right: -2px;
        top: -2px;
        bottom: -2px;
        border: 2px solid #8cf;
        pointer-events: none;
    }

    /* Protect against generic img rules */

    img.ProseMirror-separator {
        display: inline !important;
        border: none !important;
        margin: 0 !important;
    }
`,Mb=(t,{css:e})=>{const n=Bg(t),r=t.get(Fg,"radius"),i=t.get(Fg,"lineWidth");return e`
        background-color: ${n("background")};
        color: ${n("neutral")};
        font-size: 14px;
        padding: 18px 6px 22px;
        border-radius: ${r};
        font-family: ${t.get(xg,"typography")};

        .code-fence_selector-wrapper {
            position: relative;
        }

        .code-fence_selector {
            width: 180px;
            box-sizing: border-box;
            border-radius: ${r};
            margin: 0 18px 18px;
            cursor: pointer;
            background-color: ${n("surface")};
            position: relative;
            display: flex;
            color: ${n("neutral",.87)};
            letter-spacing: 0.5px;
            height: 42px;
            align-items: center;

            ${t.get(vg,void 0)};
            ${t.get(Mg,void 0)};

            & > .icon {
                width: 42px;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                color: ${n("solid",.87)};
                border-left: ${i} solid ${n("line")};

                text-align: center;
                transition: all 0.2s ease-in-out;
                &:hover {
                    background: ${n("background")};
                    color: ${n("primary")};
                }
            }

            > span:first-child {
                padding-left: 16px;
                flex: 1;
                font-weight: 500;
            }
        }

        .code-fence_selector-list-item {
            list-style: none;
            line-height: 2;
            padding-left: 16px;
            cursor: pointer;
            margin: 0 !important;
            :hover {
                background: ${n("secondary",.12)};
                color: ${n("primary")};
            }
        }

        .code-fence_selector-list {
            &[data-fold='true'] {
                display: none;
            }

            margin: 0 !important;
            font-weight: 500;
            position: absolute;
            z-index: 1;
            top: 42px;
            box-sizing: border-box;
            left: 18px;
            padding: 8px 0;
            max-height: 260px;
            width: 180px;
            background-color: ${n("surface")};
            border-top: none;
            overflow-y: auto;
            display: flex;
            flex-direction: column;

            ${t.get(Ag,["y"])}
            ${t.get(vg,void 0)};
            ${t.get(Mg,void 0)};
        }
    `},Fb=(t,e)=>{t.set("code-fence",(({editable:n,onSelectLanguage:r,onBlur:i,onFocus:o,languageList:a})=>{const s=document.createElement("div"),c=document.createElement("div"),l=document.createElement("ul"),u=document.createElement("pre"),h=document.createElement("code"),d=document.createElement("div");d.className="code-fence_selector";const f=document.createElement("span");d.appendChild(f);const p=t.get(kg,"downArrow");n()&&p&&d.appendChild(p.dom),h.spellcheck=!1,c.className="code-fence_selector-wrapper",c.contentEditable="false",c.append(d),c.append(l),u.append(h);const g=document.createElement("div");h.append(g),g.style.whiteSpace="inherit",s.append(c,u),s.classList.add("code-fence"),t.onFlush((()=>{const n=Mb(t,e);n&&s.classList.add(n)})),l.className="code-fence_selector-list",l.addEventListener("mousedown",(t=>{if(t.preventDefault(),t.stopPropagation(),!n())return;const e=t.target;if(!(e instanceof HTMLLIElement))return;const i=e.dataset.value;null!=i&&r(i)})),d.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),n()&&o()}));const m=()=>{!n()||"true"===l.dataset.fold||i()};return document.addEventListener("mousedown",m),a.forEach((t=>{const e=document.createElement("li");e.className="code-fence_selector-list-item",e.innerText=t||"--",l.appendChild(e),e.setAttribute("data-value",t)})),{dom:s,contentDOM:g,onUpdate:t=>{s.dataset.language=t.attrs.language,f.innerText=t.attrs.language||"--",l.setAttribute("data-fold",t.attrs.fold?"true":"false")},onDestroy:()=>{s.remove(),document.removeEventListener("mousedown",m)}}}))},Ob=(t,{css:e})=>{const n=Bg(t);t.set("image",(({placeholder:r,isBlock:i,onError:o,onLoad:a})=>{const s=e=>{var n;return null==(n=t.get(kg,e))?void 0:n.dom},c=document.createElement("span");c.classList.add("image-container"),t.onFlush((()=>{const o=e`
                display: inline-block;
                position: relative;
                text-align: center;
                font-size: 0;
                vertical-align: text-bottom;
                line-height: 1;

                ${i?"\n                width: 100%;\n                margin: 0 auto;\n                ":""}

                &.ProseMirror-selectednode::after {
                    content: '';
                    background: ${n("secondary",.38)};
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                }

                img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                    margin: 0 2px;
                }
                .icon,
                .placeholder {
                    display: none;
                }

                &.system {
                    width: 100%;
                    padding: 0 32px;
                    font-size: inherit;

                    img {
                        width: 0;
                        height: 0;
                        display: none;
                    }

                    .icon,
                    .placeholder {
                        display: inline;
                    }

                    box-sizing: border-box;
                    height: 48px;
                    background-color: ${n("background")};
                    border-radius: ${t.get(Fg,"radius")};
                    display: inline-flex;
                    gap: 32px;
                    justify-content: flex-start;
                    align-items: center;
                    .placeholder {
                        margin: 0;
                        line-height: 1;
                        &::before {
                            content: '';
                            font-size: 14px;
                            color: ${n("neutral",.6)};
                        }
                    }
                }

                &.empty {
                    .placeholder {
                        &::before {
                            content: '${r}';
                        }
                    }
                }
            `;o&&c.classList.add(o)}));const l=document.createElement("img");c.append(l);let u=s("image");const h=document.createElement("span");h.classList.add("placeholder"),c.append(u,h);const d=t=>{const e=s(t);c.replaceChild(e,u),u=e},f=t=>{c.classList.add("system","loading"),d("loading");const e=document.createElement("img");e.src=t,e.onerror=()=>{null==o||o(e)},e.onload=()=>{null==a||a(e)}};return{dom:c,onUpdate:t=>{const{src:e,alt:n,title:r,loading:i,failed:o}=t.attrs;return l.src=e,l.title=r||n,l.alt=n,0===e.length?(c.classList.add("system","empty"),void d("image")):i?void f(e):o?(c.classList.remove("loading","empty"),c.classList.add("system","failed"),void d("brokenImage")):void(e.length>0?c.classList.remove("system","empty","loading"):(c.classList.add("system","empty"),d("image")))}}}))},Nb=(t,{css:e})=>{const n=Bg(t),r=t.get(Fg,"radius"),i=t.get(xg,"code"),o=e`
        color: ${n("neutral",.87)};
        background-color: ${n("background")};
        border-radius: ${r};
        padding: 16px 32px;
        font-size: 14px;
        font-family: ${i};
        overflow: hidden;
        line-height: 1.5;
        .ProseMirror {
            outline: none;
        }
    `,a=e`
        display: none;
    `,s=e`
        display: flex;
        justify-content: center;
        padding: 16px 0;
    `;return{codeStyle:o,hideCodeStyle:a,previewPanelStyle:s}},Bb=(t,e)=>{let n,r=!1;return{isEditing:()=>r,innerView:()=>n,openEditor:(i,o)=>{n=new za(i,{state:$n.create({doc:o,plugins:[Eb(),lc({...Xs,Backspace:Ws(bs,(e=>{var r;if(!e.selection.empty||n&&n.state.doc.textContent.length>0)return!1;const{dispatch:i,state:o}=t,a=null==(r=o.schema.nodes.paragraph)?void 0:r.create();if(!a)return!1;const s=o.tr.replaceSelectionWith(a);let c=s.selection.from-2;return c<0&&(c=0),i(s.setSelection(Cn.create(s.doc,c))),t.focus(),!0})),"Mod-Enter":(e,n)=>{var r;if(n){const{state:e}=t,{to:n}=e.selection,i=null==(r=e.schema.nodes.paragraph)?void 0:r.createAndFill();if(!i)return!1;const o=e.tr.replaceWith(n,n,i);t.dispatch(o.setSelection(Cn.create(o.doc,n))),t.focus()}return!0}}),lc({"Mod-z":Sb,"Mod-y":Tb,"Shift-Mod-z":Tb})]}),plugins:[],dispatchTransaction:r=>{if(!n)return;const{state:i,transactions:o}=n.state.applyTransaction(r);if(n.updateState(i),!r.getMeta("fromOutside")){const n=t.state.tr,r=xe.offset(e()+1);o.forEach((t=>{const{steps:e}=t;e.forEach((t=>{const e=t.map(r);if(!e)throw Error("step discarded!");n.step(e)}))})),n.docChanged&&t.dispatch(n)}}}),n.focus();const{state:a}=n;n.dispatch(a.tr.setSelection(Cn.create(a.doc,0))),r=!0},closeEditor:()=>{n&&n.destroy(),n=void 0,r=!1}}},Ib=(t,e)=>{t.set("inner-editor",(({view:n,getPos:r,render:i})=>{const o=Bb(n,r),a=document.createElement("div");a.classList.add("math-block");const s=document.createElement("div"),c=document.createElement("div");let l="",u="",h="";return t.onFlush((()=>{({codeStyle:l,hideCodeStyle:u,previewPanelStyle:h}=Nb(t,e)),l&&u&&s.classList.add(l,u),h&&c.classList.add(h)})),a.append(s),{dom:a,preview:c,editor:s,onUpdate:(t,e)=>{var n;if(e){const e=t.attrs.value||t.textContent||"";return s.dataset.value=e,void i(e)}const r=o.innerView();if(r){const e=r.state,n=t.content.findDiffStart(e.doc.content);if(null!=n){const i=t.content.findDiffEnd(e.doc.content);if(i){let{a:o,b:a}=i;const s=n-Math.min(o,a);s>0&&(o+=s,a+=s),r.dispatch(e.tr.replace(n,a,t.slice(n,o)).setMeta("fromOutside",!0))}}}const a=(null==(n=t.content.firstChild)?void 0:n.text)||"";s.dataset.value=a,i(a)},onFocus:t=>{!n.editable||(u&&s.classList.remove(u),o.openEditor(s,t),a.classList.add("ProseMirror-selectednode"))},onBlur:()=>{u&&s.classList.add(u),o.closeEditor(),a.classList.remove("ProseMirror-selectednode")},onDestroy:()=>{c.remove(),s.remove(),a.remove()},stopEvent:t=>{const e=o.innerView(),{target:n}=t,r=n&&(null==e?void 0:e.dom.contains(n));return!(!e||!r)}}}))},Lb=(t,{css:e},n)=>{const r=Bg(t);return e`
        ${t.get(vg,void 0)}
        ${t.get(Mg,void 0)}

        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        background: ${r("surface")};
        border-radius: ${t.get(Fg,"radius")};
        font-size: 16px;

        height: 56px;
        box-sizing: border-box;
        width: ${n.width};
        padding: 0 16px;
        gap: 16px;
        z-index: 2;

        input,
        button {
            all: unset;
        }

        input {
            flex-grow: 1;
            caret-color: ${r("primary")};
            &::placeholder {
                color: ${r("neutral",.6)};
            }
        }

        button {
            cursor: pointer;
            height: 36px;
            color: ${r("primary")};
            font-size: 14px;
            padding: 0 8px;
            font-weight: 500;
            letter-spacing: 1.25px;
            &:hover {
                background-color: ${r("secondary",.12)};
            }
            &.disable {
                color: ${r("neutral",.38)};
                cursor: not-allowed;
                &:hover {
                    background: transparent;
                }
            }
            &.hide {
                display: none;
            }
        }

        &.hide {
            display: none;
        }
    `},Rb=(t,e)=>{hs(t,e,((e,n,r,i)=>{const o=t.dom.parentElement;if(!o)throw k();const a=n.left-e.left;let s=e.left-i.left-(r.width-a)/2;const c=e.bottom-i.top+14+o.scrollTop;return s<0&&(s=0),[c,s]}))},Pb=(t,e)=>{t.set("input-chip",(({isBindMode:n,onUpdate:r,buttonText:i,placeholder:o,width:a="400px",calculatePosition:s=Rb})=>{let c=null,l=!1,u="";const h=document.createElement("div");t.onFlush((()=>{const n=Lb(t,e,{width:a});n&&h.classList.add(n)})),h.classList.add("tooltip-input");const d=document.createElement("input");o&&(d.placeholder=o),h.appendChild(d),n||(c=document.createElement("button"),c.innerText=i||"APPLY",h.appendChild(c));const f=()=>{h.classList.add("hide")},p=t=>{h.classList.remove("hide"),s(t,h)},g=t=>{const{target:e}=t;if(e instanceof HTMLInputElement){if(u=e.value,!c)return void r(u);if(!u)return c.classList.add("disable"),void(l=!0);c.classList.remove("disable"),l=!1}},m=t=>{l||(t.stopPropagation(),r(u),f())},y=t=>{"key"in t&&"Enter"===t.key&&(r(u),f())};return{dom:h,init:t=>{const e=t.dom.parentElement;if(!e)throw k();d.addEventListener("input",g),d.addEventListener("keydown",y),null==c||c.addEventListener("mousedown",m),e.appendChild(h),f()},show:p,hide:f,destroy:()=>{d.removeEventListener("input",g),d.removeEventListener("keydown",y),null==c||c.removeEventListener("mousedown",m),h.remove()},update:t=>{u=t,d.value=t}}}))},jb=(t,{css:e})=>{const n=Bg(t);t.set("task-list-item",(({onChange:r,editable:i})=>{const o=e=>{var n;return null==(n=t.get(kg,e))?void 0:n.dom},a=document.createElement("li"),s=document.createElement("label"),c=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div");let h=o("unchecked");s.appendChild(h);const d=t=>{const e=o(t);s.replaceChild(e,h),h=e};return s.append(l,c),a.append(s,u),s.contentEditable="false",l.type="checkbox",i()||(l.disabled=!0,s.style.cursor="not-allowed"),l.onchange=t=>{if(t.target instanceof HTMLInputElement){if(!i())return void(l.checked=!l.checked);t.preventDefault(),r(l.checked)}},a.dataset.type="task-item",a.classList.add("task-list-item"),t.onFlush((()=>{const t=e`
                list-style-type: none;
                position: relative;

                & > div {
                    overflow: hidden;
                    padding: 0 2px;
                    width: 100%;
                }

                label {
                    display: inline-block;
                    width: 24px;
                    height: 24px;
                    cursor: pointer;
                    input {
                        visibility: hidden;
                    }
                }
                &[data-checked='true'] {
                    label {
                        color: ${n("primary")};
                    }
                }
                &[data-checked='false'] {
                    label {
                        color: ${n("solid",.87)};
                    }
                }
                .paragraph {
                    margin: 8px 0;
                }
            `;t&&a.classList.add(t)})),{dom:a,contentDOM:u,onUpdate:t=>{a.dataset.checked=t.attrs.checked,t.attrs.checked?l.setAttribute("checked","checked"):l.removeAttribute("checked"),d(t.attrs.checked?"checked":"unchecked")}}}))},zb=(t,e)=>{[Pb,Ob,Fb,jb,Ib].forEach((n=>{n(t,e)}))},$b=["Roboto","HelveticaNeue-Light","Helvetica Neue Light","Helvetica Neue","Helvetica","Arial","Lucida Grande","sans-serif"],Yb=["Consolas","Monaco","Andale Mono","Ubuntu Mono","monospace"],Wb={h1:{label:"h1",icon:"looks_one"},h2:{label:"h2",icon:"looks_two"},h3:{label:"h3",icon:"looks_3"},loading:{label:"loading",icon:"hourglass_empty"},quote:{label:"quote",icon:"format_quote"},code:{label:"code",icon:"code"},table:{label:"table",icon:"table_chart"},divider:{label:"divider",icon:"horizontal_rule"},image:{label:"image",icon:"image"},brokenImage:{label:"broken image",icon:"broken_image"},bulletList:{label:"bullet list",icon:"format_list_bulleted"},orderedList:{label:"ordered list",icon:"format_list_numbered"},taskList:{label:"task list",icon:"checklist"},bold:{label:"bold",icon:"format_bold"},italic:{label:"italic",icon:"format_italic"},inlineCode:{label:"inline code",icon:"code"},strikeThrough:{label:"strike through",icon:"strikethrough_s"},link:{label:"link",icon:"link"},leftArrow:{label:"left arrow",icon:"chevron_left"},rightArrow:{label:"right arrow",icon:"chevron_right"},upArrow:{label:"up arrow",icon:"expand_less"},downArrow:{label:"down arrow",icon:"expand_more"},alignLeft:{label:"align left",icon:"format_align_left"},alignRight:{label:"align right",icon:"format_align_right"},alignCenter:{label:"align center",icon:"format_align_center"},delete:{label:"delete",icon:"delete"},select:{label:"select",icon:"select_all"},unchecked:{label:"unchecked",icon:"check_box_outline_blank"},checked:{label:"checked",icon:"check_box"},undo:{label:"undo",icon:"turn_left"},redo:{label:"redo",icon:"turn_right"},liftList:{label:"lift list",icon:"format_indent_decrease"},sinkList:{label:"sink list",icon:"format_indent_increase"},dragHandle:{label:"drag handle",icon:"drag_indicator"},text:{label:"text",icon:"title"}},Ub=t=>{const e=Wb[t];if(!e)return;const n=document.createElement("span");n.className="icon material-icons material-icons-outlined";const r=Wb[t];return r?(n.textContent=r.icon,n.dataset.label=r.label):console.warn(`Icon not found: "${t}", did you forget to add it to the icon mapping?`),{dom:n,label:e.label}},qb={nord0:"#2e3440",nord1:"#3b4252",nord2:"#434c5e",nord3:"#4c566a",nord4:"#d8dee9",nord5:"#e5e9f0",nord6:"#eceff4",nord7:"#8fbcbb",nord8:"#88c0d0",nord9:"#81a1c1",nord10:"#5e81ac",nord11:"#bf616a",nord12:"#d08770",nord13:"#ebcb8b",nord14:"#a3be8c",nord15:"#b48ead"},Vb={shadow:qb.nord1,primary:qb.nord10,secondary:qb.nord9,neutral:qb.nord0,solid:qb.nord3,line:qb.nord4,background:qb.nord6,surface:"#fff"},Hb={shadow:qb.nord1,primary:qb.nord10,secondary:qb.nord9,neutral:qb.nord6,solid:qb.nord4,line:qb.nord2,background:"#252932",surface:qb.nord0},Gb=(t,e)=>{const{injectGlobal:n,css:r}=e,i=Bg(t),o=t.get(Fg,"radius"),a=i("neutral",.87),s=i("surface"),c=i("line"),l=i("secondary",.38),u=r`
        .ProseMirror-selectednode {
            outline: ${t.get(Fg,"lineWidth")} solid ${c};
        }

        li.ProseMirror-selectednode {
            outline: none;
        }

        li.ProseMirror-selectednode::after {
            ${t.get(vg,void 0)};
        }

        & ::selection {
            background: ${l};
        }
    `,h=r`
        padding: 50px 20px;
        outline: none;
        & > * {
            margin: 30px 0;
        }
    `,d=r`
        p {
            font-size: 16px;
            line-height: 1.5;
            letter-spacing: 0.5px;
        }
    `,f=r`
        blockquote {
            padding-left: 30px;
            line-height: 28px;
            border-left: 4px solid ${i("primary")};
            margin-left: 0;
            margin-right: 0;
            * {
                font-size: 16px;
                line-height: 24px;
            }
        }
    `,p=r`
        h1 {
            font-size: 48px;
            line-height: 1.167;
        }
        h2 {
            font-size: 40px;
            line-height: 1.2;
        }
        h3 {
            font-size: 34px;
            line-height: 1.05;
        }
        h4 {
            font-size: 28px;
            line-height: 1.14;
        }
        h5 {
            font-size: 24px;
            line-height: 1;
        }
        h6 {
            font-size: 20px;
            line-height: 1;
        }
        .heading {
            margin: 40px 0;
            font-weight: 400;
        }
    `,g=r`
        hr {
            height: ${t.get(Fg,"lineWidth")};
            background-color: ${c};
            border-width: 0;
        }
    `,m=r`
        ul,
        ol {
            padding: 0;
        }

        .list-item,
        .task-list-item {
            margin-top: 8px;
        }

        .list-item_label,
        .list-item .paragraph {
            margin: 0;
        }

        .list-item {
            display: flex;

            &_body {
                flex: 1;
            }
        }

        .list-item_label {
            display: flex;
            justify-content: center;
            width: 24px;
            height: 24px;
            font-size: 16px;
            line-height: 1.5;
            color: ${i("primary")};
        }

        .list-item[data-list-type='bullet'] {
            & > .list-item_label {
                font-size: 24px;
                line-height: 1;
            }
        }

        li {
            &::marker {
                display: none;
            }
        }

        .task-list-item {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            &_checkbox {
                margin: 8px 8px 8px 0;
                height: 16px;
            }
            & .paragraph {
                margin: 0;
            }
        }
    `,y=r`
        .code-fence {
            pre {
                font-family: ${t.get(xg,"code")};
                margin: 0 18px;
                ${t.get(Ag,["x"])}

                background-color: ${i("background")};
                color: ${i("neutral")};
                font-size: 14px;
                border-radius: ${o};

                code {
                    line-height: 1.5;
                    font-family: ${t.get(xg,"code")};
                }
            }
        }
    `,b=r`
        .image {
            display: inline-block;
            margin: 0 auto;
            object-fit: contain;
            width: 100%;
            position: relative;
            height: auto;
            text-align: center;
        }
    `,v=r`
        .code-inline {
            background-color: ${i("neutral")};
            color: ${i("background")};
            border-radius: ${o};
            font-weight: 500;
            font-family: ${t.get(xg,"code")};
            padding: 0 3px;
        }

        .strong {
            font-weight: 600;
        }

        .link,
        a {
            color: ${i("secondary")};
            cursor: pointer;
            transition: all 0.4s ease-in-out;
            font-weight: 500;
            &:hover {
                background-color: ${i("line")};
                box-shadow: 0 3px ${i("line")}, 0 -3px ${i("line")};
            }
        }

        .strike-through {
            text-decoration-color: ${i("secondary")};
        }
    `,_=r`
        .footnote-definition {
            ${t.get(vg,void 0)};
            border-radius: ${t.get(Fg,"radius")};
            background-color: ${i("background")};
            padding: 16px;
            display: flex;
            flex-direction: row;
            & > .footnote-definition_content {
                flex: 1;
                width: calc(100% - 16px);
                & > dd {
                    margin-inline-start: 16px;
                }
                & > dt {
                    color: ${i("secondary")};
                    font-weight: 500;
                }
            }
            & > .footnote-definition_anchor {
                width: 16px;
            }
        }
    `,x=r`
        /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */
        .tableWrapper {
            overflow-x: auto;
            margin: 0;
            ${t.get(Ag,["x"])}
            width: 100%;
            * {
                margin: 0;
                box-sizing: border-box;
                font-size: 16px;
            }
        }
        table {
            border-collapse: collapse;
            table-layout: fixed;
            width: 100%;
            overflow: auto;
            border-radius: ${t.get(Fg,"radius")};
        }
        tr {
            ${t.get(vg,"bottom")};
        }
        td,
        th {
            padding: 0 16px;
            vertical-align: top;
            box-sizing: border-box;
            position: relative;

            min-width: 100px;
            ${t.get(vg,void 0)};
            text-align: left;
            line-height: 3;
            height: 48px;
            vertical-align: middle;
        }
        th {
            background: ${i("background",.5)};
            font-weight: 400;
        }
        .column-resize-handle {
            position: absolute;
            right: -2px;
            top: 0;
            bottom: 0;
            z-index: 20;
            pointer-events: none;
            background: ${i("secondary")};
            width: ${t.get(Fg,"lineWidth")};
        }

        .selectedCell {
            &::after {
                z-index: 2;
                position: absolute;
                content: '';
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
                background: ${i("secondary",.38)};
                pointer-events: none;
            }

            & ::selection {
                background: transparent;
            }
        }
    `;Ab(e),n`
        .milkdown {
            .material-icons-outlined {
                font-size: 24px;
            }

            position: relative;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;


            color: ${a};
            background: ${s};
            font-family: ${t.get(xg,"typography")};

            ${t.get(Mg,void 0)}
            ${t.get(Ag,void 0)}
            ${u};

            .resize-cursor {
                cursor: ew-resize;
                cursor: col-resize;
            }

            .editor {
                ${h};

                ${d};
                ${f};
                ${g};
                ${m};
                ${y};
                ${b};
                ${p};

                ${x};
                ${_};

                ${v};
            }
        }
    `},Xb={typography:$b,code:Yb},Jb={radius:"4px",lineWidth:"1px"},Kb=t=>(e,n)=>{const{css:r}=e,i=t?Hb:Vb;n.set(_g,(t=>{if(!t)return;const[e,n]=t,r=i[e],o=Ng(r);return o?`rgba(${null==o?void 0:o.join(", ")}, ${n||1})`:void 0})),n.set(Fg,(t=>{if(t)return Jb[t]})),n.set(xg,(t=>{if(t)return Xb[t].join(", ")})),n.set(Ag,(([t="y",e="normal"]=["y","normal"])=>{const i=n.get(_g,["secondary",.38]),o=n.get(_g,["secondary",.12]),a=n.get(_g,["secondary"]),s=r({"&::-webkit-scrollbar":{["y"===t?"width":"height"]:("thin"===e?2:12)+"px",backgroundColor:"transparent"}});return r`
            scrollbar-width: thin;
            scrollbar-color: ${i} ${o};
            -webkit-overflow-scrolling: touch;

            ${s};

            &::-webkit-scrollbar-track {
                border-radius: 999px;
                background: transparent;
                border: 4px solid transparent;
            }

            &::-webkit-scrollbar-thumb {
                border-radius: 999px;
                background-color: ${i};
                border: ${"thin"===e?0:4}px solid transparent;
                background-clip: content-box;
            }

            &::-webkit-scrollbar-thumb:hover {
                background-color: ${a};
            }
        `})),n.set(Mg,(()=>{const t=n.get(Fg,"lineWidth"),e=t=>n.get(_g,["shadow",t]);return r`
            box-shadow: 0 ${t} ${t} ${e(.14)}, 0 2px ${t} ${e(.12)},
                0 ${t} 3px ${e(.2)};
        `})),n.set(vg,(t=>{const e=n.get(Fg,"lineWidth"),i=n.get(_g,["line"]);return t?r({[`border${(t=>t.charAt(0).toUpperCase()+t.slice(1))(t)}`]:`${e} solid ${i}`}):r`
                border: ${e} solid ${i};
            `})),n.set(kg,(t=>{if(t)return Ub(t)})),n.set(wg,(()=>{Gb(n,e)})),zb(n,e)},Zb=(t=!1)=>Gm(((e,n)=>Kb(t)(e,n)));Zb(!0),Zb(!1);let Qb=!1;var tv;typeof window<"u"&&(Qb=Boolean(null==(tv=window.matchMedia)?void 0:tv.call(window,"(prefers-color-scheme: dark)").matches));const ev=Zb(Qb);n(8675),n(7380),n(1118);let nv=t=>crypto.getRandomValues(new Uint8Array(t)),rv=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let a="";while(1){let e=n(i),s=i;while(s--)if(a+=t[e[s]&r]||"",a.length===o)return a}}},iv=(t,e=21)=>rv(t,e,nv);const ov=t=>Object.prototype.hasOwnProperty.call(t,"origin");class av extends Array{findThenRun(t,e){const n=this.findIndex((e=>ov(e)&&e.origin===t));return n<0||e(n),this}configure(t,e){return this.findThenRun(t,(n=>{this.splice(n,1,t(e))}))}replace(t,e){return this.findThenRun(t,(t=>{this.splice(t,1,e)}))}remove(t){return this.findThenRun(t,(t=>{this.splice(t,1)}))}headless(){return this.filter(ov).forEach((t=>{this.configure(t.origin,{headless:!0})})),this}static create(t){return new av(...t)}}iv("abcedfghicklmn",10);const sv=t=>(e,...n)=>{var r;const i=null!=(r=null==t?void 0:t(e,...n))?r:n;return Array.isArray(i)?i.filter((t=>t)).join(" "):i},cv=(t,e,n)=>[t,e,n],lv=(t,e)=>{try{const n=t.get(yg),r=t.get(ug);if(!r.css)throw w();return{getClassName:sv(null==e?void 0:e.className),getStyle:t=>null!=e&&e.headless?"":t(r),themeManager:n}}catch{throw w()}},uv=t=>{const e=n=>{const r=t(n);return r.origin=e,r};return e},hv=(t,e)=>n=>{const r=n,i=(n,r)=>e(((...e)=>n(t(...e),...e)),r);return r.extend=i,r},dv=(...t)=>{const e=t.length;let n=e;for(;n--;)if("function"!=typeof t[n])throw new TypeError("Expected a function");return(...n)=>{let r=0,i=e?t[r](...n):n[0];for(;++r<e;)i=t[r](i);return i}},fv=t=>async(e,n)=>{null==t||t.forEach((t=>e.pre.inject(t))),await n()},pv=async(t,e)=>{const{ctx:n}=t;await n.wait(qm),await e()},gv=B(void 0,"getRemarkPluginsPipeCtx"),mv=async(t,e)=>{const{ctx:n,pipelineCtx:r}=t;await n.wait(Xm);const i=r.get(gv);if(i){const t=i(n);n.update(ty,(e=>e.concat(t)))}await e()},yv=B(void 0,"getSchemaPipeCtx"),bv=B({},"Type"),vv=async(t,e)=>{var n;const{ctx:r,pipelineCtx:i}=t,o=i.get(yv),a=null!=(n=null==o?void 0:o(t.ctx))?n:{};let s={},c={};if(a.node){s=a.node;const t=Object.entries(a.node);r.update(uy,(e=>[...e,...t]))}if(a.mark){c=a.mark;const t=Object.entries(a.mark);r.update(hy,(e=>[...e,...t]))}await r.wait(sy);const l=r.get(cy),u=Object.keys(s).map((t=>[t,l.nodes[t]])),h=Object.keys(c).map((t=>[t,l.marks[t]])),d=Object.fromEntries([...u,...h]);i.set(bv,d),await e()},_v=B(void 0,"getCommandsPipeCtx"),xv=async(t,e)=>{const{ctx:n,pipelineCtx:r}=t,i=r.get(_v);if(i){const t=r.get(bv);i(t,n).forEach((([t,e])=>{n.get(qy).create(t,e)}))}await e()},wv=B(void 0,"getInputRulesPipeCtx"),kv=async(t,e)=>{const{ctx:n,pipelineCtx:r}=t,i=r.get(wv);if(i){const t=r.get(bv);n.update(Zm,(e=>[...e,...i(t,n)]))}await e()},Dv=B({},"shortcutsPipeCtx"),Cv=async(t,e)=>{const{pipelineCtx:n,ctx:r}=t,i=n.get(Dv),o=n.get(Mv),a=(t,e)=>{var n,r;return null!=(r=null==(n=null==o?void 0:o.keymap)?void 0:n[t])?r:e},s=Object.entries(i).flatMap((([t,[e,n,i]])=>{const o=()=>r.get(qy).call(e,i),s=a(t,n);return Array.isArray(s)?s.map((t=>({key:t,runner:o}))):{key:s,runner:o}})).map((t=>[t.key,t.runner]));r.update(Qm,(t=>t.concat(lc(Object.fromEntries(s))))),await e()},Ev=B(void 0,"getProsePluginsPipeCtx"),Sv=async(t,e)=>{const{pipelineCtx:n,ctx:r}=t,i=n.get(Ev);if(i){const t=n.get(bv);r.update(Qm,(e=>[...e,...i(t,r)]))}await e()},Tv=B(void 0,"getViewPipeCtx"),Av=async(t,e)=>{const{pipelineCtx:n,ctx:r}=t,i=n.get(Tv),o=n.get(Mv),a=o.view?o.view(r):null==i?void 0:i(r);if(a){const t=Object.entries(a).filter((([t])=>-1!==r.get(uy).findIndex((e=>e[0]===t)))),e=Object.entries(a).filter((([t])=>-1!==r.get(hy).findIndex((e=>e[0]===t))));r.update(ey,(e=>[...e,...t])),r.update(ny,(t=>[...t,...e]))}await e()},Mv=B({},"optionsPipeCtx"),Fv=B("","idPipeCtx"),Ov=async(t,e)=>{const{pipelineCtx:n}=t;n.inject(Fv).inject(Mv).inject(gv).inject(yv).inject(bv).inject(_v).inject(wv).inject(Dv).inject(Ev).inject(Tv),await e()},Nv=t=>(e,n)=>{let r=-1;const i=o=>{if(o<=r)return Promise.reject(new Error("next() called multiple times"));r=o;let a=t[o];if(o===t.length&&(a=n),!a)return Promise.resolve();try{return Promise.resolve(a(e,(()=>i(o+1))))}catch(nc){return Promise.reject(nc)}};return i(0)},Bv=t=>{const e=Nv(t),n=O(),r=U(),i=new Y(n,r);return(t,n)=>e({pre:t,ctx:n,pipelineCtx:i})},Iv=(t,e)=>dv(uv,hv(t,Iv))((n=>r=>async i=>{const o=async({pipelineCtx:e},r)=>{const o=lv(i,n),a=t(o,n),{id:s,commands:c,remarkPlugins:l,schema:u,inputRules:h,shortcuts:d,prosePlugins:f,view:p}=a,g=null==n?void 0:n.view,m={...n||{},view:g?t=>({[s]:g(t)}):void 0};e.set(Fv,s),e.set(Mv,m),e.set(gv,l),e.set(yv,(t=>({mark:{[s]:u(t)}}))),c&&e.set(_v,((t,e)=>c(t[s],e))),h&&e.set(wv,((t,e)=>h(t[s],e))),d&&e.set(Dv,d),f&&e.set(Ev,((t,e)=>f(t[s],e))),p&&e.set(Tv,(t=>({[s]:p(t)}))),await r()};await Bv([Ov,fv(e),pv,o,mv,vv,xv,kv,Cv,Sv,Av])(r,i)})),Lv=(t,e)=>dv(uv,hv(t,Lv))((n=>r=>async i=>{const o=async({pipelineCtx:e},r)=>{const o=lv(i,n),a=t(o,n),{id:s,commands:c,remarkPlugins:l,schema:u,inputRules:h,shortcuts:d,prosePlugins:f,view:p}=a,g=null==n?void 0:n.view,m={...n||{},view:g?t=>({[s]:g(t)}):void 0};e.set(Fv,s),e.set(Mv,m),e.set(gv,l),e.set(yv,(t=>({node:{[s]:u(t)}}))),c&&e.set(_v,((t,e)=>c(t[s],e))),h&&e.set(wv,((t,e)=>h(t[s],e))),d&&e.set(Dv,d),f&&e.set(Ev,((t,e)=>f(t[s],e))),p&&e.set(Tv,(t=>({[s]:p(t)}))),await r()};await Bv([Ov,fv(e),pv,o,mv,vv,xv,kv,Cv,Sv,Av])(r,i)})),Rv=(t,e)=>dv(uv,hv(t,Rv))((n=>r=>async i=>{const o=async({pipelineCtx:e},r)=>{const o=lv(i,n),a=t(o,n),{commands:s,remarkPlugins:c,schema:l,inputRules:u,shortcuts:h,prosePlugins:d,view:f}=a;e.set(Mv,n||{}),e.set(gv,c),l&&e.set(yv,l),s&&e.set(_v,s),u&&e.set(wv,u),h&&e.set(Dv,h),d&&e.set(Ev,d),f&&e.set(Tv,f),await r()};await Bv([Ov,fv(e),pv,o,mv,vv,xv,kv,Cv,Sv,Av])(r,i)}));class Pv{constructor(t,e){this.match=t,this.match=t,this.handler="string"==typeof e?jv(e):e}}function jv(t){return function(e,n,r,i){let o=t;if(n[1]){let t=n[0].lastIndexOf(n[1]);o+=n[0].slice(t+n[1].length),r+=t;let e=r-i;e>0&&(o=n[0].slice(t-e,t)+o,r=i)}return e.tr.insertText(o,r,i)}}new Pv(/--$/,""),new Pv(/\.\.\.$/,""),new Pv(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new Pv(/"$/,""),new Pv(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new Pv(/'$/,"");function zv(t,e,n=null,r){return new Pv(t,((t,i,o,a)=>{let s=n instanceof Function?n(i):n,c=t.tr.delete(o,a),l=c.doc.resolve(o),u=l.blockRange(),h=u&&ze(u,e,s);if(!h)return null;c.wrap(u,h);let d=c.doc.resolve(o-1).nodeBefore;return d&&d.type==e&&Je(c.doc,o-1)&&(!r||r(i,d))&&c.join(o-1),c}))}function $v(t,e,n=null){return new Pv(t,((t,r,i,o)=>{let a=t.doc.resolve(i),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?t.tr.delete(i,o).setBlockType(i,i,e,s):null}))}function Yv(t){return function(e,n){let{$from:r,$to:i,node:o}=e.selection;if(o&&o.isBlock||r.depth<2||!r.sameParent(i))return!1;let a=r.node(-1);if(a.type!=t)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(3==r.depth||r.node(-3).type!=t||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let i=J.empty,o=r.index(-1)?1:r.index(-2)?2:3;for(let t=r.depth-o;t>=r.depth-3;t--)i=J.from(r.node(t).copy(i));let a=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;i=i.append(J.from(t.createAndFill()));let s=r.before(r.depth-(o-1)),c=e.tr.replace(s,r.after(-a),new nt(i,4-o,0)),l=-1;c.doc.nodesBetween(s,c.doc.content.size,((t,e)=>{if(l>-1)return!1;t.isTextblock&&0==t.content.size&&(l=e+1)})),l>-1&&c.setSelection(xn.near(c.doc.resolve(l))),n(c.scrollIntoView())}return!0}let s=i.pos==r.end()?a.contentMatchAt(0).defaultType:null,c=e.tr.delete(r.pos,i.pos),l=s?[null,{type:s}]:void 0;return!!Ge(c.doc,r.pos,2,l)&&(n&&n(c.split(r.pos,2,l).scrollIntoView()),!0)}}function Wv(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));return!!o&&(!n||(r.node(o.depth-1).type==t?Uv(e,n,t,o):qv(e,n,o)))}}function Uv(t,e,n,r){let i=t.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new Oe(o-1,a,o,a,new nt(J.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new vt(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const s=Pe(r);if(null==s)return!1;i.lift(r,s);let c=i.mapping.map(o,-1)-1;return Je(i.doc,c)&&i.join(c),e(i.scrollIntoView()),!0}function qv(t,e,n){let r=t.tr,i=n.parent;for(let f=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)f-=i.child(p).nodeSize,r.delete(f-1,f+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=0==n.startIndex,c=n.endIndex==i.childCount,l=o.node(-1),u=o.index(-1);if(!l.canReplace(u+(s?0:1),u+1,a.content.append(c?J.empty:J.from(i))))return!1;let h=o.pos,d=h+a.nodeSize;return r.step(new Oe(h-(s?1:0),d+(c?1:0),h+1,d-1,new nt((s?J.empty:J.from(i.copy(J.empty))).append(c?J.empty:J.from(i.copy(J.empty))),s?0:1,c?0:1),s?0:1)),e(r.scrollIntoView()),!0}function Vv(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));if(!o)return!1;let a=o.startIndex;if(0==a)return!1;let s=o.parent,c=s.child(a-1);if(c.type!=t)return!1;if(n){let r=c.lastChild&&c.lastChild.type==s.type,i=J.from(r?t.create():null),a=new nt(J.from(t.create(null,J.from(s.type.create(null,i)))),r?3:1,0),l=o.start,u=o.end;n(e.tr.step(new Oe(l-(r?3:1),u,l,u,a,1,!0)).scrollIntoView())}return!0}}const Hv={}.hasOwnProperty;function Gv(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return Gh(t,"definition",(t=>{const n=Xv(t.identifier);n&&!Hv.call(e,n)&&(e[n]=t)})),n;function n(t){const n=Xv(t);return n&&Hv.call(e,n)?e[n]:null}}function Xv(t){return String(t||"").toUpperCase()}function Jv(){return t=>{const e=Gv(t);Gh(t,((t,n,r)=>{if("definition"===t.type&&null!==r&&"number"===typeof n)return r.children.splice(n,1),[Uh,n];if("imageReference"===t.type||"linkReference"===t.type){const i=e(t.identifier);if(i&&null!==r&&"number"===typeof n){const e="imageReference"===t.type?{type:"image",url:i.url,title:i.title,alt:t.alt}:{type:"link",url:i.url,title:i.title,children:t.children};return r.children[n]=e,[Uh,n]}}}))}}const Kv={HardBreak:"HardBreak",Blockquote:"Blockquote",BulletList:"BulletList",OrderedList:"OrderedList",CodeFence:"CodeFence",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",DowngradeHeading:"DowngradeHeading",Text:"Text",CodeInline:"CodeInline",Em:"Em",Bold:"Bold",NextListItem:"NextListItem",SinkListItem:"SinkListItem",LiftListItem:"LiftListItem"},Zv="code_inline",Qv=Uy("ToggleInlineCode"),t_=Iv((t=>({id:Zv,schema:()=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",{class:t.getClassName(e.attrs,"code-inline")}],parseMarkdown:{match:t=>"inlineCode"===t.type,runner:(t,e,n)=>{t.openMark(n),t.addText(e.value),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===Zv,runner:(t,e,n)=>{t.withMark(e,"inlineCode",n.text||"")}}}),commands:t=>[Wy(Qv,(()=>(e,n)=>{const{selection:r,tr:i}=e;if(r.empty)return!1;const{from:o,to:a}=r;return e.doc.rangeHasMark(o,a,t)?(null==n||n(i.removeMark(o,a,t)),!0):(Object.keys(e.schema.marks).filter((e=>e!==t.name)).map((t=>e.schema.marks[t])).forEach((t=>{i.removeMark(o,a,t)})),null==n||n(i.addMark(o,a,t.create())),!0)}))],shortcuts:{[Kv.CodeInline]:cv(Qv,"Mod-e")}}))),e_="em",n_=Uy("ToggleItalic"),r_=Iv((t=>({id:e_,schema:()=>({inclusive:!1,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:t=>"italic"===t}],toDOM:e=>["em",{class:t.getClassName(e.attrs,e_)}],parseMarkdown:{match:t=>"emphasis"===t.type,runner:(t,e,n)=>{t.openMark(n),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===e_,runner:(t,e)=>{t.withMark(e,"emphasis")}}}),commands:t=>[Wy(n_,(()=>Ys(t)))],shortcuts:{[Kv.Em]:cv(n_,"Mod-i")}}))),i_=new Vn("MILKDOWN_LINK_INPUT"),o_=Uy("ToggleLink"),a_=Uy("ModifyLink"),s_="link",c_=Iv(((t,e)=>({id:s_,schema:()=>({attrs:{href:{},title:{default:null}},parseDOM:[{tag:"a[href]",getAttrs:t=>{if(!(t instanceof HTMLElement))throw _(t);return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:e=>["a",{...e.attrs,class:t.getClassName(e.attrs,s_)}],parseMarkdown:{match:t=>"link"===t.type,runner:(t,e,n)=>{const r=e.url,i=e.title;t.openMark(n,{href:r,title:i}),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===s_,runner:(t,e)=>{t.withMark(e,"link",void 0,{title:e.attrs.title,url:e.attrs.href})}}}),commands:t=>[Wy(o_,((e="")=>Ys(t,{href:e}))),Wy(a_,((e="")=>(n,r)=>{var i;if(!r)return!1;const{marks:o}=n.schema;let a,s=-1;const{selection:c}=n,{from:l,to:u}=c;if(n.doc.nodesBetween(l,l===u?u+1:u,((t,e)=>{var n;if(null!=(n=o.link)&&n.isInSet(t.marks))return a=t,s=e,!1})),!a)return!1;const h=a.marks.find((({type:e})=>e===t));if(!h)return!1;const d=s,f=s+a.nodeSize,{tr:p}=n,g=null==(i=o.link)?void 0:i.create({...h.attrs,href:e});return!!g&&(r(p.removeMark(d,f,h).addMark(d,f,g).setSelection(new Cn(p.selection.$anchor)).scrollIntoView()),!0)}))],prosePlugins:(n,r)=>{let i=!1;return[new Wn({key:i_,view:o=>{var a,s,c;const l=t.themeManager.get("input-chip",{placeholder:null!=(s=null==(a=null==e?void 0:e.input)?void 0:a.placeholder)?s:"Input Web Link",buttonText:null==(c=null==e?void 0:e.input)?void 0:c.buttonText,onUpdate:t=>{r.get(qy).call(a_,t)},calculatePosition:(t,e)=>{hs(t,e,((e,n,r,o)=>{const a=t.dom.parentElement;if(!a)throw k();const s=n.left-e.left;let c=e.left-o.left-(r.width-s)/2,l=e.bottom-o.top+14+a.scrollTop;return i&&(l=e.top-o.top-r.height-14+a.scrollTop),c<0&&(c=0),[l,c]}))}});if(!l)return{};const u=t=>{const{selection:e,doc:r}=t.state,{from:o,to:a}=e;if(!t.hasFocus())return!1;if(e.empty&&e instanceof Cn&&a<r.content.size&&o<r.content.size&&r.rangeHasMark(o,o===a?a+1:a,n))return i=!1,!0;if(e instanceof Sn){const{node:t}=e;if("image"===t.type.name&&t.marks.findIndex((t=>t.type.name===s_))>-1)return i=!0,!0}return!1},h=t=>{const{selection:e}=t.state;let r;const{from:i,to:o}=e;if(t.state.doc.nodesBetween(i,i===o?o+1:o,(t=>{if(n.isInSet(t.marks))return r=t,!1})),!r)return;const a=r.marks.find((t=>t.type===n));return a?a.attrs.href:void 0},d=t=>{t.editable&&(u(t)?(l.show(t),l.update(h(t))):l.hide())};return l.init(o),d(o),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||requestAnimationFrame((()=>{d(t)}))},destroy:()=>{l.destroy()}}}})]}}))),l_="strong",u_=Uy("ToggleBold"),h_=Iv((t=>({id:l_,schema:()=>({inclusive:!1,parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:t=>"bold"===t}],toDOM:e=>["strong",{class:t.getClassName(e.attrs,l_)}],parseMarkdown:{match:t=>"strong"===t.type,runner:(t,e,n)=>{t.openMark(n),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===l_,runner:(t,e)=>{t.withMark(e,"strong")}}}),commands:t=>[Wy(u_,(()=>Ys(t)))],shortcuts:{[Kv.Bold]:cv(u_,"Mod-b")}}))),d_=[t_(),r_(),h_(),c_()],f_="blockquote",p_=Uy("WrapInBlockquote"),g_=Lv((t=>({id:f_,schema:()=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",{class:t.getClassName(e.attrs,f_)},0],parseMarkdown:{match:({type:t})=>t===f_,runner:(t,e,n)=>{t.openNode(n).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===f_,runner:(t,e)=>{t.openNode("blockquote").next(e.content).closeNode()}}}),inputRules:t=>[zv(/^\s*>\s$/,t)],commands:t=>[Wy(p_,(()=>js(t)))],shortcuts:{[Kv.Blockquote]:cv(p_,"Mod-Shift-b")}}))),m_=Uy("WrapInBulletList"),y_=Lv((t=>{const e="bullet_list";return{id:e,schema:()=>({content:"listItem+",group:"block",attrs:{spread:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>{if(!(t instanceof HTMLElement))throw _(t);return{spread:t.dataset.spread}}}],toDOM:e=>["ul",{"data-spread":e.attrs.spread,class:t.getClassName(e.attrs,"bullet-list")},0],parseMarkdown:{match:({type:t,ordered:e})=>"list"===t&&!e,runner:(t,e,n)=>{const r=null!=e.spread?`${e.spread}`:"false";t.openNode(n,{spread:r}).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.openNode("list",void 0,{ordered:!1,spread:"true"===e.attrs.spread}).next(e.content).closeNode()}}}),inputRules:t=>[zv(/^\s*([-+*])\s$/,t)],commands:t=>[Wy(m_,(()=>js(t)))],shortcuts:{[Kv.BulletList]:cv(m_,"Mod-Alt-8")}}})),b_=["","javascript","typescript","bash","sql","json","html","css","c","cpp","java","ruby","python","go","rust","markdown"],v_=/^```(?<language>[a-z]*)?[\s\n]$/,__=/^~~~(?<language>[a-z]*)?[\s\n]$/,x_=Uy("TurnIntoCodeFence"),w_="fence",k_=Lv(((t,e)=>{const n=(null==e?void 0:e.languageList)||b_;return{id:w_,schema:e=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""},fold:{default:!0}},parseDOM:[{tag:"div.code-fence-container",preserveWhitespace:"full",getAttrs:t=>{var e;if(!(t instanceof HTMLElement))throw _(t);return{language:null==(e=t.querySelector("pre"))?void 0:e.dataset.language}},getContent:(t,e)=>{var n,r;if(!(t instanceof HTMLElement))throw _(t);const i=null!=(r=null==(n=t.querySelector("pre"))?void 0:n.textContent)?r:"";if(!i)return J.empty;const o=e.text(i);return J.from(o)}},{tag:"pre",preserveWhitespace:"full",getAttrs:t=>{if(!(t instanceof HTMLElement))throw _(t);return{language:t.dataset.language}}}],toDOM:r=>{const i=document.createElement("select");return n.forEach((t=>{const e=document.createElement("option");e.value=t,e.innerText=t||"--",t===r.attrs.language&&(e.selected=!0),i.appendChild(e)})),i.onchange=t=>{const n=t.target;if(!(n instanceof HTMLSelectElement))return;const i=e.get(My);if(!i.editable)return void(n.value=r.attrs.language);const{top:o,left:a}=n.getBoundingClientRect(),s=i.posAtCoords({top:o,left:a});if(!s)return;const{tr:c}=i.state;i.dispatch(c.setNodeMarkup(s.inside,void 0,{...r.attrs,language:n.value}))},["div",{class:"code-fence-container"},i,["pre",{"data-language":r.attrs.language,class:t.getClassName(r.attrs,"code-fence")},["code",{spellCheck:"false"},0]]]},parseMarkdown:{match:({type:t})=>"code"===t,runner:(t,e,n)=>{const r=e.lang,i=e.value;t.openNode(n,{language:r}),i&&t.addText(i),t.closeNode()}},toMarkdown:{match:t=>t.type.name===w_,runner:(t,e)=>{var n;t.addNode("code",void 0,(null==(n=e.content.firstChild)?void 0:n.text)||"",{lang:e.attrs.language})}}}),inputRules:t=>[$v(v_,t,(t=>{const[e,n]=t;if(e)return{language:n}})),$v(__,t,(t=>{const[e,n]=t;if(e)return{language:n}}))],commands:t=>[Wy(x_,(()=>zs(t)))],shortcuts:{[Kv.CodeFence]:cv(x_,"Mod-Alt-c")},view:()=>(e,r,i)=>{let o=e;const a=t=>{const{tr:e}=r.state;r.dispatch(e.setNodeMarkup(i(),void 0,{fold:!0,language:t}))},s=()=>{const{tr:t}=r.state;r.dispatch(t.setNodeMarkup(i(),void 0,{...o.attrs,fold:!0}))},c=()=>{const{tr:t}=r.state;r.dispatch(t.setNodeMarkup(i(),void 0,{...o.attrs,fold:!1}))},l=t.themeManager.get("code-fence",{onBlur:s,onFocus:c,onSelectLanguage:a,editable:()=>r.editable,languageList:n});if(!l)return{};const{dom:u,contentDOM:h,onUpdate:d,onDestroy:f}=l;return d(o),{dom:u,contentDOM:h,update:t=>t.type.name===w_&&(o=t,d(o),!0),destroy:f}}}})),D_=Lv((()=>({id:"doc",schema:()=>({content:"block+",parseMarkdown:{match:({type:t})=>"root"===t,runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>"doc"===t.type.name,runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}})}))),C_=Uy("InsertHardbreak"),E_=new Vn("MILKDOWN_HARDBREAK_FILTER"),S_=Lv(((t,e)=>{var n;const r=null!=(n=null==e?void 0:e.notIn)?n:["table","fence"];return{id:"hardbreak",schema:()=>({inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:e=>["br",{class:t.getClassName(e.attrs,"hardbreak")}],parseMarkdown:{match:({type:t})=>"break"===t,runner:(t,e,n)=>{t.addNode(n)}},toMarkdown:{match:t=>"hardbreak"===t.type.name,runner:t=>{t.addNode("break")}}}),commands:t=>[Wy(C_,(()=>(e,n)=>{var r;const{selection:i,tr:o}=e;if(i.empty){const t=i.$from.node();if(t.childCount>0&&"hardbreak"===(null==(r=t.lastChild)?void 0:r.type.name))return null==n||n(o.replaceRangeWith(i.to-1,i.to,e.schema.node("paragraph")).setSelection(xn.near(o.doc.resolve(i.to))).scrollIntoView()),!0}return null==n||n(o.setMeta("hardbreak",!0).replaceSelectionWith(t.create()).scrollIntoView()),!0}))],shortcuts:{[Kv.HardBreak]:cv(C_,"Shift-Enter")},prosePlugins:t=>[new Wn({key:E_,filterTransaction:(t,e)=>{const n=t.getMeta("hardbreak"),[i]=t.steps;if(n&&i){const{from:t}=i,n=e.doc.resolve(t);let o=n.depth,a=!0;for(;o>0;)r.includes(n.node(o).type.name)&&(a=!1),o--;return a}return!0}}),new Wn({key:new Vn("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,n,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[o]=i.steps;if(i.getMeta("hardbreak")){if(!(o instanceof Fe))return;const{from:e}=o;return r.tr.setNodeMarkup(e,t,void 0,[])}if(o instanceof Se){let e=r.tr;const{from:n,to:i}=o;return r.doc.nodesBetween(n,i,((n,r)=>{n.type===t&&(e=e.setNodeMarkup(r,t,void 0,[]))})),e}}})]}})),T_=Array(6).fill(0).map(((t,e)=>e+1)),A_=Uy("TurnIntoHeading"),M_=Uy("DowngradeHeading"),F_=new Vn("MILKDOWN_HEADING_ID"),O_=new Vn("MILKDOWN_HEADING_HASH"),N_=t=>t.textContent.replace(/[\p{P}\p{S}]/gu,"").replace(/\s/g,"-").toLowerCase().trim(),B_=(t,e,n)=>{let r=!1;const i=(t,i)=>{const o=t.tr.setMeta("addToHistory",!1);let a=!1;t.doc.descendants(((t,i)=>{if(t.type===e&&!r){if(0===t.textContent.trim().length)return;const e=t.attrs,r=n(t);e.id!==r&&(a=!0,o.setMeta(F_,!0).setNodeMarkup(i,void 0,{...e,id:r}))}})),a&&i(o)};return new Wn({key:F_,props:{handleDOMEvents:{compositionstart:()=>(r=!0,!1),compositionend:()=>{r=!1;const e=t.get(My);return setTimeout((()=>{i(e.state,(t=>e.dispatch(t)))}),0),!1}}},appendTransaction:(t,e,n)=>{let r=null;return t.every((t=>!t.getMeta(F_)))&&t.some((t=>t.docChanged))&&i(n,(t=>{r=t})),r},view:t=>{const e=t.state.doc;let r=t.state.tr.setMeta("addToHistory",!1);return e.descendants(((t,e)=>{"heading"===t.type.name&&t.attrs.level&&(t.attrs.id||(r=r.setNodeMarkup(e,void 0,{...t.attrs,id:n(t)})))})),t.dispatch(r),{}}})},I_=(t,e,n)=>new Wn({key:O_,state:{init:()=>da.empty,apply:r=>{var i;const o=t.get(My);if(null==(i=o.hasFocus)||!i.call(o)||!o.editable)return da.empty;const{$from:a}=r.selection,s=a.node();if(s.type!==e)return da.empty;const c=s.attrs.level,l=t=>Array(t).fill(0).map((t=>"#")).join(""),u=document.createElement("span");u.textContent=l(c),u.contentEditable="false",n.themeManager.onFlush((()=>{const t=n.getStyle((({css:t})=>{const e=Bg(n.themeManager);return t`
                            margin-right: 4px;
                            color: ${e("primary")};
                        `}));t&&(u.className=t)}));const h=la.widget(a.before()+1,u,{side:-1});return da.create(r.doc,[h])}},props:{handleDOMEvents:{focus:t=>{const e=ds(t.state.tr);return t.dispatch(e),!1}},decorations(t){return this.getState(t)}}}),L_=Lv(((t,e)=>{var n,r;const i="heading",o=null!=(n=null==e?void 0:e.getId)?n:N_,a=null==(r=null==e?void 0:e.displayHashtag)||r;return{id:i,schema:()=>({content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:T_.map((t=>({tag:`h${t}`,getAttrs:e=>{if(!(e instanceof HTMLElement))throw _(e);return{level:t,id:e.id}}}))),toDOM:e=>[`h${e.attrs.level}`,{id:e.attrs.id||o(e),class:t.getClassName(e.attrs,`heading h${e.attrs.level}`)},0],parseMarkdown:{match:({type:t})=>t===i,runner:(t,e,n)=>{const r=e.depth;t.openNode(n,{level:r}),t.next(e.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name===i,runner:(t,e)=>{var n;if(t.openNode("heading",void 0,{depth:e.attrs.level}),e.childCount>=1&&"hardbreak"===(null==(n=e.lastChild)?void 0:n.type.name)){const n=[];e.content.forEach(((t,r,i)=>{i!==e.childCount-1&&n.push(t)})),t.next(J.fromArray(n))}else t.next(e.content);t.closeNode()}}}),inputRules:(t,e)=>T_.map((n=>$v(new RegExp(`^(#{1,${n}})\\s$`),t,(()=>{const t=e.get(My),{$from:r}=t.state.selection,i=r.node();if("heading"===i.type.name){let t=Number(i.attrs.level)+Number(n);return t>6&&(t=6),{level:t}}return{level:n}})))),commands:(t,e)=>[Wy(A_,((n=1)=>n<1?zs(0===n&&e.get(cy).nodes.paragraph||t):zs(0===n&&e.get(cy).nodes.paragraph||t,{level:n}))),Wy(M_,(()=>(n,r,i)=>{const{$from:o}=n.selection,a=o.node();if(a.type!==t||!n.selection.empty||0!==o.parentOffset)return!1;const s=a.attrs.level-1;return s?(null==r||r(n.tr.setNodeMarkup(n.selection.$from.before(),void 0,{...a.attrs,level:s})),!0):zs(e.get(cy).nodes.paragraph||t)(n,r,i)}))],shortcuts:{[Kv.H1]:cv(A_,"Mod-Alt-1",1),[Kv.H2]:cv(A_,"Mod-Alt-2",2),[Kv.H3]:cv(A_,"Mod-Alt-3",3),[Kv.H4]:cv(A_,"Mod-Alt-4",4),[Kv.H5]:cv(A_,"Mod-Alt-5",5),[Kv.H6]:cv(A_,"Mod-Alt-6",6),[Kv.DowngradeHeading]:cv(M_,["Backspace","Delete"])},prosePlugins:(e,n)=>{const r=[B_(n,e,o)];return a&&r.push(I_(n,e,t)),r}}})),R_="hr",P_=Uy("InsertHr"),j_=Lv((t=>({id:R_,schema:()=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",{class:t.getClassName(e.attrs,R_)}],parseMarkdown:{match:({type:t})=>"thematicBreak"===t,runner:(t,e,n)=>{t.addNode(n)}},toMarkdown:{match:t=>t.type.name===R_,runner:t=>{t.addNode("thematicBreak")}}}),inputRules:t=>[new Pv(/^(?:---|___\s|\*\*\*\s)$/,((e,n,r,i)=>{const{tr:o}=e;return n[0]&&o.replaceWith(r-1,i,t.create()),o}))],commands:(t,e)=>[Wy(P_,(()=>(n,r)=>{if(!r)return!0;const i=e.get(cy).node("paragraph"),{tr:o,selection:a}=n,{from:s}=a,c=t.create();if(!c)return!0;const l=o.replaceSelectionWith(c).insert(s,i),u=xn.findFrom(l.doc.resolve(s),1,!0);return u&&r(l.setSelection(u).scrollIntoView()),!0}))]}))),z_=Uy("ModifyImage"),$_=Uy("InsertImage"),Y_="image",W_=new Vn("MILKDOWN_IMAGE_INPUT"),U_=Lv(((t,e)=>({id:"image",schema:()=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""}},parseDOM:[{tag:"img[src]",getAttrs:t=>{if(!(t instanceof HTMLElement))throw _(t);return{src:t.getAttribute("src")||"",alt:t.getAttribute("alt")||"",title:t.getAttribute("title")||t.getAttribute("alt")||""}}}],toDOM:e=>["img",{...e.attrs,class:t.getClassName(e.attrs,Y_)}],parseMarkdown:{match:({type:t})=>t===Y_,runner:(t,e,n)=>{const r=e.url,i=e.alt,o=e.title;t.addNode(n,{src:r,alt:i,title:o})}},toMarkdown:{match:t=>t.type.name===Y_,runner:(t,e)=>{t.addNode("image",void 0,void 0,{title:e.attrs.title,url:e.attrs.src,alt:e.attrs.alt})}}}),commands:t=>[Wy($_,((e="")=>(n,r)=>{if(!r)return!0;const{tr:i}=n,o=t.create({src:e});if(!o)return!0;const a=i.replaceSelectionWith(o);return r(a.scrollIntoView()),!0})),Wy(z_,((e="")=>(n,r)=>{const i=ys(n.selection,t);if(!i)return!1;const{tr:o}=n;return null==r||r(o.setNodeMarkup(i.pos,void 0,{...i.node.attrs,loading:!0,src:e}).scrollIntoView()),!0}))],inputRules:t=>[new Pv(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,((e,n,r,i)=>{const[o,a,s="",c]=n,{tr:l}=e;return o&&l.replaceWith(r,i,t.create({src:s,alt:a,title:c})),l}))],view:()=>n=>{var r,i;let o=n;const a=null!=(r=null==e?void 0:e.placeholder)?r:"Add an Image",s=null!=(i=null==e?void 0:e.isBlock)&&i,c=t.themeManager.get("image",{placeholder:a,isBlock:s});if(!c)return{};const{dom:l,onUpdate:u}=c;return u(o),{dom:l,update:t=>t.type.name===Y_&&(o=t,u(o),!0),selectNode:()=>{l.classList.add("ProseMirror-selectednode")},deselectNode:()=>{l.classList.remove("ProseMirror-selectednode")}}},prosePlugins:(n,r)=>[new Wn({key:W_,view:i=>{var o,a,s;const c=t.themeManager.get("input-chip",{placeholder:null!=(a=null==(o=null==e?void 0:e.input)?void 0:o.placeholder)?a:"Input Image Link",buttonText:null==(s=null==e?void 0:e.input)?void 0:s.buttonText,onUpdate:t=>{r.get(qy).call(z_,t)}});if(!c)return{};const l=t=>Boolean(t.hasFocus()&&n&&ys(t.state.selection,n)),u=t=>{const e=ys(t.state.selection,n);return e?e.node.attrs.src:void 0},h=t=>{t.editable&&(l(t)?(c.show(t),c.update(u(t))):c.hide())};return c.init(i),h(i),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||h(t)},destroy:()=>{c.destroy()}}}})]}))),q_="list_item",V_=Uy("SplitListItem"),H_=Uy("SinkListItem"),G_=Uy("LiftListItem"),X_=new Vn("MILKDOWN_KEEP_LIST_ORDER"),J_=t=>{const e=(e,n)=>{const r=ps("ordered_list",e.schema);let i=e.tr;e.doc.descendants(((e,n,o,a)=>{if(e.type===t&&(null==o?void 0:o.type)===r){let r=!1;const s={...e.attrs};"ordered"!==e.attrs.listType&&(s.listType="ordered",r=!0);const c=null==o?void 0:o.maybeChild(0);c&&c.type===t&&"ordered"===c.attrs.listType&&(s.label=`${a+1}.`,r=!0),""===e.attrs.label&&(s.label=`${a+1}.`,r=!0),r&&(i=i.setNodeMarkup(n,void 0,s))}})),n(i)};return new Wn({key:X_,appendTransaction:(t,n,r)=>{let i=null;return t.some((t=>t.docChanged))&&e(r,(t=>{i=t})),i}})},K_=Lv((t=>({id:q_,schema:()=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:""},listType:{default:"bullet"},spread:{default:"true"}},defining:!0,parseDOM:[{tag:"li.list-item",getAttrs:t=>{if(!(t instanceof HTMLElement))throw _(t);return{label:t.dataset.label,listType:t.dataset["list-type"],spread:t.dataset.spread}},contentElement:t=>{if(!(t instanceof HTMLElement))throw _(t);const e=t.querySelector(".list-item_body");return e||t}},{tag:"li"}],toDOM:e=>["li",{class:t.getClassName(e.attrs,"list-item"),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},["div",{class:t.getClassName(e.attrs,"list-item_label")},e.attrs.label],["div",{class:t.getClassName(e.attrs,"list-item_body")},0]],parseMarkdown:{match:({type:t,checked:e})=>"listItem"===t&&null===e,runner:(t,e,n)=>{const r=null!=e.label?`${e.label}.`:"",i=null!=e.label?"ordered":"bullet",o=null!=e.spread?`${e.spread}`:"true";t.openNode(n,{label:r,listType:i,spread:o}),t.next(e.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name===q_,runner:(t,e)=>{t.openNode("listItem",void 0,{spread:"true"===e.attrs.spread}),t.next(e.content),t.closeNode()}}}),inputRules:t=>[zv(/^\s*([-+*])\s$/,t)],commands:t=>[Wy(V_,(()=>Yv(t))),Wy(H_,(()=>Vv(t))),Wy(G_,(()=>Wv(t)))],shortcuts:{[Kv.NextListItem]:cv(V_,"Enter"),[Kv.SinkListItem]:cv(H_,"Mod-]"),[Kv.LiftListItem]:cv(G_,"Mod-[")},prosePlugins:t=>[J_(t)]}))),Z_=Uy("WrapInOrderedList"),Q_="ordered_list",tx=Lv((t=>({id:Q_,schema:()=>({content:"listItem+",group:"block",attrs:{order:{default:1},spread:{default:!1}},parseDOM:[{tag:"ol",getAttrs:t=>{if(!(t instanceof HTMLElement))throw _(t);return{spread:t.dataset.spread,order:t.hasAttribute("start")?Number(t.getAttribute("start")):1}}}],toDOM:e=>["ol",{...1===e.attrs.order?{}:e.attrs.order,"data-spread":e.attrs.spread,class:t.getClassName(e.attrs,"ordered-list")},0],parseMarkdown:{match:({type:t,ordered:e})=>"list"===t&&!!e,runner:(t,e,n)=>{const r=null!=e.spread?`${e.spread}`:"true";t.openNode(n,{spread:r}).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===Q_,runner:(t,e)=>{t.openNode("list",void 0,{ordered:!0,start:1,spread:"true"===e.attrs.spread}),t.next(e.content),t.closeNode()}}}),inputRules:t=>[zv(/^(\d+)\.\s$/,t,(t=>({order:Number(t[1])})),((t,e)=>e.childCount+e.attrs.order===Number(t[1])))],commands:t=>[Wy(Z_,(()=>js(t)))],shortcuts:{[Kv.OrderedList]:cv(Z_,"Mod-Alt-7")}}))),ex=Uy("TurnIntoText"),nx="paragraph",rx=Lv((t=>({id:nx,schema:()=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",{class:t.getClassName(e.attrs,nx)},0],parseMarkdown:{match:t=>"paragraph"===t.type,runner:(t,e,n)=>{t.openNode(n),e.children?t.next(e.children):t.addText(e.value),t.closeNode()}},toMarkdown:{match:t=>"paragraph"===t.type.name,runner:(t,e)=>{var n;if(t.openNode("paragraph"),e.childCount>=1&&"hardbreak"===(null==(n=e.lastChild)?void 0:n.type.name)){const n=[];e.content.forEach(((t,r,i)=>{i!==e.childCount-1&&n.push(t)})),t.next(J.fromArray(n))}else t.next(e.content);t.closeNode()}}}),commands:t=>[Wy(ex,(()=>zs(t)))],shortcuts:{[Kv.Text]:cv(ex,"Mod-Alt-0")}}))),ix=Lv((()=>({id:"text",schema:()=>({group:"inline",parseMarkdown:{match:({type:t})=>"text"===t,runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>"text"===t.type.name,runner:(t,e)=>{t.addNode("text",void 0,e.text)}}})}))),ox=[D_(),rx(),S_(),g_(),k_(),y_(),tx(),K_(),L_(),j_(),U_(),ix()],ax=()=>{function t(t){Gh(t,"list",(t=>{var e;if(t.ordered){const n=null!=(e=t.start)?e:1;t.children.forEach(((t,e)=>{t.label=e+n}))}else;}))}return t},sx=t=>!!t.children,cx=t=>"html"===t.type;function lx(t,e){return n(t,0,null)[0];function n(t,r,i){if(sx(t)){const e=[];for(let r=0,i=t.children.length;r<i;r++){const i=t.children[r];if(i){const o=n(i,r,t);if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t];n&&e.push(n)}}}t.children=e}return e(t,r,i)}}const ux=()=>{function t(t){lx(t,(t=>cx(t)?[]:[t]))}return t},hx=new Vn("MILKDOWN_INLINE_NODES_CURSOR"),dx=()=>{let t=!1;const e=new Wn({key:hx,state:{init(){return!1},apply(t){if(!t.selection.empty)return!1;const e=t.selection.$from,n=e.nodeBefore,r=e.nodeAfter;return!(!(n&&r&&n.isInline&&!n.isText&&r.isInline)||r.isText)}},props:{handleDOMEvents:{compositionend:(n,r)=>!!t&&(t=!1,requestAnimationFrame((()=>{if(e.getState(n.state)){const t=n.state.selection.from;r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",t))}})),!0),compositionstart:n=>(e.getState(n.state)&&(t=!0),!1),beforeinput:(n,r)=>{if(e.getState(n.state)&&r instanceof InputEvent&&r.data&&!t){const t=n.state.selection.from;return r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",t)),!0}return!1}},decorations(t){if(e.getState(t)){const e=t.selection.$from.pos,n=document.createElement("span"),r=la.widget(e,n,{side:-1}),i=document.createElement("span"),o=la.widget(e,i);return setTimeout((()=>{n.contentEditable="true",i.contentEditable="true"})),da.create(t.doc,[r,o])}return da.empty}}});return e},fx=/\[(?<span>((www|https:\/\/|http:\/\/)\S+))]\((?<url>\S+)\)/,px=t=>new RegExp(`\\\\(?=[^\\w\\s${t}\\\\]|_)`,"g"),gx=t=>{let e=t,n=e.match(fx);for(;n&&n.groups;){const{span:t}=n.groups;e=e.replace(fx,t),n=e.match(fx)}return e},mx=(t,e,n)=>{const r=t.split(""),i=r[e];return r[e]&&r[n]&&(r[e]=r[n],r[n]=i),r.join("").toString()},yx=t=>e=>e.replace(px(t),""),bx=t=>e=>{const n=e.indexOf(t.hole),r=e.charAt(n-1),i=e.charAt(n+1),o=/[^\w]|_/;return i?r&&o.test(r)&&o.test(i)?t.punctuation:t.char:t.punctuation},vx=(t,e,n)=>{let r=e,i=!1;return t.descendants((t=>{var e;if(i)return!1;if(t.isText){const o=null==(e=t.text)?void 0:e.indexOf(n);if(null!=o&&o>=0)return i=!0,r+=o,!1}r+=t.nodeSize})),r},_x={placeholderConfig:{hole:"",punctuation:"",char:""},globalNodes:["footnote_definition"],shouldSyncNode:({prevNode:t,nextNode:e})=>t.inlineContent&&e&&t.type===e.type&&!t.eq(e),movePlaceholder:(t,e)=>{const n=["*","_"];let r=e.indexOf(t);for(;n.includes(e[r-1]||"")&&n.includes(e[r+1]||"");)e=mx(e,r,r+1),r+=1;return e}},xx=B(_x,"inlineSyncConfig"),wx=t=>{const{selection:e}=t,{$from:n}=e;return n.node()},kx=(t,e,n,r)=>{const i=t.get(by),o=e.schema.topNodeType.create(void 0,[n,...r]);return i(o)},Dx=(t,e)=>{const n=t.get(xx),r=n.placeholderConfig.hole,[i="",...o]=e.split("\n\n"),a=t=>n.movePlaceholder(r,t);let s=dv(yx(r),a,gx)(i);const c=bx(n.placeholderConfig)(s);return s=s.replace(r,c),s=[s,...o].join("\n\n"),[s,c]},Cx=(t,e)=>{const n=t.get(py)(e);return n?n.firstChild:null},Ex=(t,e)=>{const{globalNodes:n}=t.get(xx),r=[];return e.doc.descendants((t=>{if(n.includes(t.type.name)||n.includes(t.type))return r.push(t),!1})),r},Sx=t=>t.split("\n\n")[0]||"",Tx=(t,e)=>{try{const n=Ex(t,e),r=wx(e),i=kx(t,e,r,n),[o,a]=Dx(t,i),s=Cx(t,o);return s&&r.type===s.type?(s.attrs={...r.attrs},s.descendants((t=>{var e;const n=t.marks.find((t=>"link"===t.type.name));n&&(null==(e=t.text)?void 0:e.includes(a))&&n.attrs.href.includes(a)&&(n.attrs.href=n.attrs.href.replace(a,""))})),{text:Sx(o),prevNode:r,nextNode:s,placeholder:a}):null}catch{return null}},Ax=(t,e,n,r,i)=>{const{placeholderConfig:o}=t.get(xx),a=o.hole;let s=n.tr.setMeta(e,!0).insertText(a,n.selection.from);const c=n.apply(s),l=Tx(t,c);if(!l)return;const{$from:u}=c.selection,h=u.before(),d=u.after(),f=vx(l.nextNode,h,l.placeholder);s=s.replaceWith(h,d,l.nextNode).setNodeMarkup(h,void 0,i).delete(f+1,f+2),s=s.setSelection(Cn.near(s.doc.resolve(f+1))),r(s)},Mx=new Vn("MILKDOWN_INLINE_SYNC"),Fx=t=>{let e=null;return new Wn({key:Mx,state:{init:()=>null,apply:(n,r,i,o)=>{var a;const s=t.get(My);if(null==(a=s.hasFocus)||!a.call(s)||!s.editable||!n.docChanged||n.getMeta(Mx))return null;const c=Tx(t,o);if(!c)return null;e&&(cancelAnimationFrame(e),e=null);const{prevNode:l,nextNode:u,text:h}=c,{shouldSyncNode:d}=t.get(xx);return d({prevNode:l,nextNode:u,ctx:t,tr:n,text:h})&&(e=requestAnimationFrame((()=>{e=null;const{dispatch:n,state:r}=t.get(My);Ax(t,Mx,r,n,l.attrs)}))),null}}})},Ox=[Rv((()=>({prosePlugins:(t,e)=>[dx(),Fx(e)],remarkPlugins:()=>[Jv,ux,ax]})),[xx])()],Nx=av.create([...ox,...d_]),Bx=av.create([...Ox,...Nx]),Ix=new Vn("y-sync"),Lx=new Vn("y-undo"),Rx=new Vn("yjs-cursor");var Px=n(6672),jx=n(1383),zx=n(1370),$x=n(893);const Yx=(t,e)=>{let n=0,r=0;while(n<t.length&&n<e.length&&t[n]===e[n])n++;while(r+n<t.length&&r+n<e.length&&t[t.length-r-1]===e[e.length-r-1])r++;return{index:n,remove:t.length-n-r,insert:e.slice(n,e.length-r)}},Wx=Yx;var Ux=n(6969),qx=n(567),Vx=n(6157),Hx=n(5342),Gx=n(7214);const Xx=t=>class{constructor(t){this._=t}destroy(){t(this._)}},Jx=Xx(clearTimeout),Kx=(t,e)=>new Jx(setTimeout(e,t)),Zx=(Xx(clearInterval),Xx((t=>"undefined"!==typeof requestAnimationFrame&&cancelAnimationFrame(t))),Xx((t=>"undefined"!==typeof cancelIdleCallback&&cancelIdleCallback(t))),(t,e)=>void 0===e?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!qx.uY(e.ds,t.id)),Qx=[{light:"#ecd44433",dark:"#ecd444"}],tw=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const n=$x.Ue();t.forEach((t=>n.add(t))),e=e.filter((t=>!n.has(t)))}t.set(n,Vx.kw(e))}return t.get(n)},ew=(t,{colors:e=Qx,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=(()=>{})}={})=>{let o,a=!1;const s=new Wn({props:{editable:t=>{const e=Ix.getState(t);return null==e.snapshot&&null==e.prevSnapshot}},key:Ix,state:{init:(i,o)=>({type:t,doc:t.doc,binding:null,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:r}),apply:(t,e)=>{const n=t.getMeta(Ix);if(void 0!==n){e=Object.assign({},e);for(const t in n)e[t]=n[t]}return e.addToHistory=!1!==t.getMeta("addToHistory"),e.isChangeOrigin=void 0!==n&&!!n.isChangeOrigin,null!==e.binding&&(void 0===n||null==n.snapshot&&null==n.prevSnapshot||Kx(0,(()=>{null==e.binding||e.binding.isDestroyed||(null==n.restore?e.binding._renderSnapshot(n.snapshot,n.prevSnapshot,e):(e.binding._renderSnapshot(n.snapshot,n.snapshot,e),delete e.restore,delete e.snapshot,delete e.prevSnapshot,e.binding.mux((()=>{e.binding._prosemirrorChanged(e.binding.prosemirrorView.state.doc)}))))}))),e}},view:e=>{const n=new iw(t,e);return null!=o&&o.destroy(),o=Kx(0,(()=>{n._forceRerender(),e.dispatch(e.state.tr.setMeta(Ix,{binding:n})),i()})),{update:()=>{const t=s.getState(e.state);if(null==t.snapshot&&null==t.prevSnapshot&&(a||null!==e.state.doc.content.findDiffStart(e.state.doc.type.createAndFill().content))){if(a=!0,!1===t.addToHistory&&!t.isChangeOrigin){const t=Lx.getState(e.state),n=t&&t.undoManager;n&&n.stopCapturing()}n.mux((()=>{t.doc.transact((r=>{r.meta.set("addToHistory",t.addToHistory),n._prosemirrorChanged(e.state.doc)}),Ix)}))}},destroy:()=>{o.destroy(),n.destroy()}}}});return s},nw=(t,e,n)=>{if(null!==e&&null!==e.anchor&&null!==e.head){const r=Aw(n.doc,n.type,e.anchor,n.mapping),i=Aw(n.doc,n.type,e.head,n.mapping);null!==r&&null!==i&&(t=t.setSelection(Cn.create(t.doc,r,i)))}},rw=(t,e)=>({anchor:Sw(e.selection.anchor,t.type,t.mapping),head:Sw(e.selection.head,t.type,t.mapping)});class iw{constructor(t,e){this.type=t,this.prosemirrorView=e,this.mux=(0,Px.M)(),this.isDestroyed=!1,this.mapping=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=t.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{null===this.beforeTransactionSelection&&(this.beforeTransactionSelection=rw(this,e.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),t.observeDeep(this._observeFunction),this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return!!this.prosemirrorView.hasFocus()&&(Hx.jU&&null===this._domSelectionInView&&(Kx(0,(()=>{this._domSelectionInView=null})),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView)}_isDomSelectionInView(){const t=this.prosemirrorView._root.getSelection(),e=this.prosemirrorView._root.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.getClientRects();0===n.length&&e.startContainer&&e.collapsed&&e.selectNodeContents(e.startContainer);const r=e.getBoundingClientRect(),i=Gx.JU.documentElement;return r.bottom>=0&&r.right>=0&&r.left<=(window.innerWidth||i.clientWidth||0)&&r.top<=(window.innerHeight||i.clientHeight||0)}renderSnapshot(t,e){e||(e=qx.Ox(qx.VG(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Ix,{snapshot:t,prevSnapshot:e}))}unrenderSnapshot(){this.mapping=new Map,this.mux((()=>{const t=this.type.toArray().map((t=>aw(t,this.prosemirrorView.state.schema,this.mapping))).filter((t=>null!==t)),e=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new nt(J.from(t),0,0));e.setMeta(Ix,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(e)}))}_forceRerender(){this.mapping=new Map,this.mux((()=>{const t=this.type.toArray().map((t=>aw(t,this.prosemirrorView.state.schema,this.mapping))).filter((t=>null!==t)),e=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new nt(J.from(t),0,0));this.prosemirrorView.dispatch(e.setMeta(Ix,{isChangeOrigin:!0}))}))}_renderSnapshot(t,e,n){t||(t=qx.CO(this.doc)),this.mapping=new Map,this.mux((()=>{this.doc.transact((r=>{const i=n.permanentUserData;i&&i.dss.forEach((t=>{qx.UQ(r,t,(t=>{}))}));const o=(t,e)=>{const r="added"===t?i.getUserByClientId(e.client):i.getUserByDeletedId(e);return{user:r,type:t,color:tw(n.colorMapping,n.colors,r)}},a=qx.ud(this.type,new qx.aC(e.ds,t.sv)).map((n=>!n._item.deleted||Zx(n._item,t)||Zx(n._item,e)?aw(n,this.prosemirrorView.state.schema,new Map,t,e,o):null)).filter((t=>null!==t)),s=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new nt(J.from(a),0,0));this.prosemirrorView.dispatch(s.setMeta(Ix,{isChangeOrigin:!0}))}),Ix)}))}_typeChanged(t,e){const n=Ix.getState(this.prosemirrorView.state);0!==t.length&&null==n.snapshot&&null==n.prevSnapshot?this.mux((()=>{const t=(t,e)=>this.mapping.delete(e);qx.UQ(e,e.deleteSet,(t=>t.constructor===qx.ck&&this.mapping.delete(t.content.type))),e.changed.forEach(t),e.changedParentTypes.forEach(t);const n=this.type.toArray().map((t=>ow(t,this.prosemirrorView.state.schema,this.mapping))).filter((t=>null!==t));let r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new nt(J.from(n),0,0));nw(r,this.beforeTransactionSelection,this),r=r.setMeta(Ix,{isChangeOrigin:!0}),null!==this.beforeTransactionSelection&&this._isLocalCursorInView()&&r.scrollIntoView(),this.prosemirrorView.dispatch(r)})):this.renderSnapshot(n.snapshot,n.prevSnapshot)}_prosemirrorChanged(t){this.doc.transact((e=>{xw(this.doc,this.type,t,this.mapping),this.beforeTransactionSelection=rw(this,this.prosemirrorView.state)}),Ix)}destroy(){this.isDestroyed=!0,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions)}}const ow=(t,e,n,r,i,o)=>{const a=n.get(t);if(void 0===a){if(t instanceof qx.lt)return aw(t,e,n,r,i,o);throw Ux.Nw()}return a},aw=(t,e,n,r,i,o)=>{const a=[],s=t=>{if(t.constructor===qx.lt){const s=ow(t,e,n,r,i,o);null!==s&&a.push(s)}else{const s=sw(t,e,n,r,i,o);null!==s&&s.forEach((t=>{null!==t&&a.push(t)}))}};void 0===r||void 0===i?t.toArray().forEach(s):qx.ud(t,new qx.aC(i.ds,r.sv)).forEach(s);try{const s=t.getAttributes(r);void 0!==r&&(Zx(t._item,r)?Zx(t._item,i)||(s.ychange=o?o("added",t._item.id):{type:"added"}):s.ychange=o?o("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,s,a);return n.set(t,c),c}catch(Mk){return t.doc.transact((e=>{t._item.delete(e)}),Ix),n.delete(t),null}},sw=(t,e,n,r,i,o)=>{const a=[],s=t.toDelta(r,i,o);try{for(let t=0;t<s.length;t++){const n=s[t],r=[];for(const t in n.attributes)r.push(e.mark(t,n.attributes[t]));a.push(e.text(n.insert,r))}}catch(Mk){return t.doc.transact((e=>{t._item.delete(e)}),Ix),null}return a},cw=(t,e)=>{const n=new qx.eI,r=t.map((t=>({insert:t.text,attributes:_w(t.marks)})));return n.applyDelta(r),e.set(n,t),n},lw=(t,e)=>{const n=new qx.lt(t.type.name);for(const r in t.attrs){const e=t.attrs[r];null!==e&&"ychange"!==r&&n.setAttribute(r,e)}return n.insert(0,fw(t).map((t=>uw(t,e)))),e.set(n,t),n},uw=(t,e)=>t instanceof Array?cw(t,e):lw(t,e),hw=t=>"object"===typeof t&&null!==t,dw=(t,e)=>{const n=Object.keys(t).filter((e=>null!==t[e]));let r=n.length===Object.keys(e).filter((t=>null!==e[t])).length;for(let i=0;i<n.length&&r;i++){const o=n[i],a=t[o],s=e[o];r="ychange"===o||a===s||hw(a)&&hw(s)&&dw(a,s)}return r},fw=t=>{const e=t.content.content,n=[];for(let r=0;r<e.length;r++){const t=e[r];if(t.isText){const t=[];for(let n=e[r];r<e.length&&n.isText;n=e[++r])t.push(n);r--,n.push(t)}else n.push(t)}return n},pw=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every(((t,n)=>t.insert===e[n].text&&zx.XP(t.attributes||{}).length===e[n].marks.length&&e[n].marks.every((e=>dw(t.attributes[e.type.name]||{},e.attrs)))))},gw=(t,e)=>{if(t instanceof qx.lt&&!(e instanceof Array)&&ww(t,e)){const n=fw(e);return t._length===n.length&&dw(t.getAttributes(),e.attrs)&&t.toArray().every(((t,e)=>gw(t,n[e])))}return t instanceof qx.eI&&e instanceof Array&&pw(t,e)},mw=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every(((t,n)=>e[n]===t)),yw=(t,e,n)=>{const r=t.toArray(),i=fw(e),o=i.length,a=r.length,s=jx.VV(a,o);let c=0,l=0,u=!1;for(;c<s;c++){const t=r[c],e=i[c];if(mw(n.get(t),e))u=!0;else if(!gw(t,e))break}for(;c+l<s;l++){const t=r[a-l-1],e=i[o-l-1];if(mw(n.get(t),e))u=!0;else if(!gw(t,e))break}return{equalityFactor:c+l,foundMappedChild:u}},bw=t=>{let e="",n=t._start;const r={};while(null!==n)n.deleted||(n.countable&&n.content instanceof qx.$_?e+=n.content.str:n.content instanceof qx.MM&&(r[n.content.key]=null)),n=n.right;return{str:e,nAttrs:r}},vw=(t,e,n)=>{n.set(t,e);const{nAttrs:r,str:i}=bw(t),o=e.map((t=>({insert:t.text,attributes:Object.assign({},r,_w(t.marks))}))),{insert:a,remove:s,index:c}=Wx(i,o.map((t=>t.insert)).join(""));t.delete(c,s),t.insert(c,a),t.applyDelta(o.map((t=>({retain:t.insert.length,attributes:t.attributes}))))},_w=t=>{const e={};return t.forEach((t=>{"ychange"!==t.type.name&&(e[t.type.name]=t.attrs)})),e},xw=(t,e,n,r)=>{if(e instanceof qx.lt&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.set(e,n),e instanceof qx.lt){const t=e.getAttributes(),r=n.attrs;for(const n in r)null!==r[n]?t[n]!==r[n]&&"ychange"!==n&&e.setAttribute(n,r[n]):e.removeAttribute(n);for(const n in t)void 0===r[n]&&e.removeAttribute(n)}const i=fw(n),o=i.length,a=e.toArray(),s=a.length,c=jx.VV(o,s);let l=0,u=0;for(;l<c;l++){const t=a[l],e=i[l];if(!mw(r.get(t),e)){if(!gw(t,e))break;r.set(t,e)}}for(;u+l+1<c;u++){const t=a[s-u-1],e=i[o-u-1];if(!mw(r.get(t),e)){if(!gw(t,e))break;r.set(t,e)}}t.transact((()=>{while(s-l-u>0&&o-l-u>0){const n=a[l],c=i[l],h=a[s-u-1],d=i[o-u-1];if(n instanceof qx.eI&&c instanceof Array)pw(n,c)||vw(n,c,r),l+=1;else{let i=n instanceof qx.lt&&ww(n,c),o=h instanceof qx.lt&&ww(h,d);if(i&&o){const t=yw(n,c,r),e=yw(h,d,r);t.foundMappedChild&&!e.foundMappedChild?o=!1:!t.foundMappedChild&&e.foundMappedChild||t.equalityFactor<e.equalityFactor?i=!1:o=!1}i?(xw(t,n,c,r),l+=1):o?(xw(t,h,d,r),u+=1):(e.delete(l,1),e.insert(l,[uw(c,r)]),l+=1)}}const n=s-l-u;if(1===s&&0===o&&a[0]instanceof qx.eI?a[0].delete(0,a[0].length):n>0&&e.delete(l,n),l+u<o){const t=[];for(let e=l;e<o-u;e++)t.push(uw(i[e],r));e.insert(l,t)}}),Ix)},ww=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name;var kw=n(7862);let Dw=null;const Cw=()=>{const t=Dw;Dw=null,t.forEach(((t,e)=>{const n=e.state.tr,r=Ix.getState(e.state);r&&r.binding&&!r.binding.isDestroyed&&(t.forEach(((t,e)=>{n.setMeta(e,t)})),e.dispatch(n))}))},Ew=(t,e,n)=>{Dw||(Dw=new Map,Kx(0,Cw)),kw.Yu(Dw,t,kw.Ue).set(e,n)},Sw=(t,e,n)=>{if(0===t)return qx.w$(e,0);let r=null===e._first?null:e._first.content.type;while(null!==r&&e!==r){if(r instanceof qx.eI){if(r._length>=t)return qx.w$(r,t);if(t-=r._length,null!==r._item&&null!==r._item.next)r=r._item.next.content.type;else{do{r=null===r._item?null:r._item.parent,t--}while(r!==e&&null!==r&&null!==r._item&&null===r._item.next);null!==r&&r!==e&&(r=null===r._item?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(null!==r._first&&t<i)r=r._first.content.type,t--;else{if(1===t&&0===r._length&&i>1)return new qx.Zi(null===r._item?null:r._item.id,null===r._item?qx.BW(r):null,null);if(t-=i,null!==r._item&&null!==r._item.next)r=r._item.next.content.type;else{if(0===t)return r=null===r._item?r:r._item.parent,new qx.Zi(null===r._item?null:r._item.id,null===r._item?qx.BW(r):null,null);do{r=r._item.parent,t--}while(r!==e&&null===r._item.next);r!==e&&(r=r._item.next.content.type)}}}if(null===r)throw Ux.zR();if(0===t&&r.constructor!==qx.eI&&r!==e)return Tw(r._item.parent,r._item)}return qx.w$(e,e._length)},Tw=(t,e)=>{let n=null,r=null;return null===t._item?r=qx.BW(t):n=qx.at(t._item.id.client,t._item.id.clock),new qx.Zi(n,r,e.id)},Aw=(t,e,n,r)=>{const i=qx.or(n,t);if(null===i||i.type!==e&&!qx.$4(e,i.type._item))return null;let o=i.type,a=0;if(o.constructor===qx.eI)a=i.index;else if(null===o._item||!o._item.deleted){let t=o._first,e=0;while(e<o._length&&e<i.index&&null!==t){if(!t.deleted){const n=t.content.type;e++,n instanceof qx.eI?a+=n._length:a+=r.get(n).nodeSize}t=t.right}a+=1}while(o!==e&&null!==o._item){const t=o._item.parent;if(null===t._item||!t._item.deleted){a+=1;let e=t._first;while(null!==e){const t=e.content.type;if(t===o)break;e.deleted||(t instanceof qx.eI?a+=t._length:a+=r.get(t).nodeSize),e=e.right}}o=t}return a-1};function Mw(t,e="prosemirror"){const n=new qx.QW,r=n.get(e,qx.sI);return r.doc?(Fw(t,r),r.doc):n}function Fw(t,e){const n=e||new qx.sI,r=n.doc?n.doc:{transact:t=>t(void 0)};return xw(r,n,t,new Map),n}function Ow(t,e){const n=Nw(e);return xt.fromJSON(t,n)}function Nw(t,e="prosemirror"){return Bw(t.getXmlFragment(e))}function Bw(t){const e=t.toArray();function n(t){let e;if(t.nodeName){e={type:t.nodeName};const r=t.getAttributes();Object.keys(r).length&&(e.attrs=r);const i=t.toArray();i.length&&(e.content=i.map(n).flat())}else{const n=t.toDelta();e=n.map((t=>{const e={type:"text",text:t.insert};return t.attributes&&(e.marks=Object.keys(t.attributes).map((e=>{const n=t.attributes[e],r={type:e};return Object.keys(n)&&(r.attrs=n),r}))),e}))}return e}return{type:"doc",content:e.map(n)}}const Iw=t=>{const e=Lx.getState(t).undoManager;if(null!=e)return e.undo(),!0},Lw=t=>{const e=Lx.getState(t).undoManager;if(null!=e)return e.redo(),!0},Rw=new Set(["paragraph"]),Pw=(t,e)=>!(t instanceof qx.ck)||!(t.content instanceof qx.zc)||!(t.content.type instanceof qx.xv||t.content.type instanceof qx.lt&&e.has(t.content.type.nodeName))||0===t.content.type._length,jw=({protectedNodes:t=Rw,trackedOrigins:e=[],undoManager:n=null}={})=>new Wn({key:Lx,state:{init:(r,i)=>{const o=Ix.getState(i),a=n||new qx.H6(o.type,{trackedOrigins:new Set([Ix].concat(e)),deleteFilter:e=>Pw(e,t),captureTransaction:t=>!1!==t.meta.get("addToHistory")});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(t,e,n,r)=>{const i=Ix.getState(r).binding,o=e.undoManager,a=o.undoStack.length>0,s=o.redoStack.length>0;return i?{undoManager:o,prevSel:rw(i,n),hasUndoOps:a,hasRedoOps:s}:a!==e.hasUndoOps||s!==e.hasRedoOps?Object.assign({},e,{hasUndoOps:o.undoStack.length>0,hasRedoOps:o.redoStack.length>0}):e}},view:t=>{const e=Ix.getState(t.state),n=Lx.getState(t.state).undoManager;return n.on("stack-item-added",(({stackItem:n})=>{const r=e.binding;r&&n.meta.set(r,Lx.getState(t.state).prevSel)})),n.on("stack-item-popped",(({stackItem:t})=>{const n=e.binding;n&&(n.beforeTransactionSelection=t.meta.get(n)||n.beforeTransactionSelection)})),{destroy:()=>{n.destroy()}}}}),zw=t=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null);const r=document.createTextNode(""),i=document.createTextNode("");return e.insertBefore(r,null),e.insertBefore(n,null),e.insertBefore(i,null),e},$w=t=>({style:`background-color: ${t.color}70`,class:"ProseMirror-yjs-selection"}),Yw=/^#[0-9a-fA-F]{6}$/,Ww=(t,e,n,r)=>{const i=Ix.getState(t),o=i.doc,a=[];return null!=i.snapshot||null!=i.prevSnapshot||null===i.binding?da.create(t.doc,[]):(e.getStates().forEach(((e,s)=>{if(s!==o.clientID&&null!=e.cursor){const c=e.user||{};null==c.color?c.color="#ffa500":Yw.test(c.color)||console.warn("A user uses an unsupported color format",c),null==c.name&&(c.name=`User: ${s}`);let l=Aw(o,i.type,qx.og(e.cursor.anchor),i.binding.mapping),u=Aw(o,i.type,qx.og(e.cursor.head),i.binding.mapping);if(null!==l&&null!==u){const e=jx.Fp(t.doc.content.size-1,0);l=jx.VV(l,e),u=jx.VV(u,e),a.push(la.widget(u,(()=>n(c)),{key:s+"",side:10}));const i=jx.VV(l,u),o=jx.Fp(l,u);a.push(la.inline(i,o,r(c),{inclusiveEnd:!0,inclusiveStart:!1}))}}})),da.create(t.doc,a))},Uw=(t,{cursorBuilder:e=zw,selectionBuilder:n=$w,getSelection:r=(t=>t.selection)}={},i="cursor")=>new Wn({key:Rx,state:{init(r,i){return Ww(i,t,e,n)},apply(r,i,o,a){const s=Ix.getState(a),c=r.getMeta(Rx);return s&&s.isChangeOrigin||c&&c.awarenessUpdated?Ww(a,t,e,n):i.map(r.mapping,r.doc)}},props:{decorations:t=>Rx.getState(t)},view:e=>{const n=()=>{e.docView&&Ew(e,Rx,{awarenessUpdated:!0})},o=()=>{const n=Ix.getState(e.state),o=t.getLocalState()||{};if(null!=n.binding)if(e.hasFocus()){const a=r(e.state),s=Sw(a.anchor,n.type,n.binding.mapping),c=Sw(a.head,n.type,n.binding.mapping);null!=o.cursor&&qx.Uq(qx.og(o.cursor.anchor),s)&&qx.Uq(qx.og(o.cursor.head),c)||t.setLocalStateField(i,{anchor:s,head:c})}else null!=o.cursor&&null!==Aw(n.doc,n.type,qx.og(o.cursor.anchor),n.binding.mapping)&&t.setLocalStateField(i,null)};return t.on("change",n),e.dom.addEventListener("focusin",o),e.dom.addEventListener("focusout",o),{update:o,destroy:()=>{e.dom.removeEventListener("focusin",o),e.dom.removeEventListener("focusout",o),t.off("change",n),t.setLocalStateField(i,null)}}}});var qw=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Vw=(t,e,n)=>(qw(t,e,"read from private field"),n?n.call(t):e.get(t)),Hw=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Gw=(t,e,n,r)=>(qw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Xw=(t,e,n)=>(qw(t,e,"access private method"),n);const Jw=new Vn("MILKDOWN_COLLAB_KEYMAP"),Kw=[Jw,Ix,Rx,Lx];var Zw,Qw,tk,ek,nk,rk,ik,ok,ak,sk,ck;class lk{constructor(){Hw(this,rk),Hw(this,ok),Hw(this,sk),Hw(this,Zw,{}),Hw(this,Qw,null),Hw(this,tk,null),Hw(this,ek,null),Hw(this,nk,!1)}bindCtx(t){return Gw(this,ek,t),this}bindDoc(t){return Gw(this,Qw,t),this}setOptions(t){return Gw(this,Zw,t),this}mergeOptions(t){return Object.assign(Vw(this,Zw),t),this}setAwareness(t){return Gw(this,tk,t),this}applyTemplate(t,e){if(!Vw(this,ek))throw C();if(!Vw(this,Qw))throw E();const n=e||(t=>0===t.textContent.length),r=Xw(this,rk,ik).call(this,t),i=Vw(this,ek).get(cy),o=Ow(i,Vw(this,Qw));if(r&&n(o,r)){const t=Vw(this,Qw).getXmlFragment("prosemirror");t.delete(0,t.length);const e=Mw(r),n=(0,qx.D$)(e);(0,qx.NG)(Vw(this,Qw),n),e.destroy()}return this}connect(){if(!Vw(this,ek))throw C();if(Vw(this,nk))return;const t=Vw(this,ek).get(Qm),e=Xw(this,ok,ak).call(this),n=t.concat(e);return Xw(this,sk,ck).call(this,n),Gw(this,nk,!0),this}disconnect(){if(!Vw(this,ek))throw C();if(!Vw(this,nk))return this;const t=Vw(this,ek).get(Qm).filter((t=>!t.spec.key||!Kw.includes(t.spec.key)));return Xw(this,sk,ck).call(this,t),Gw(this,nk,!1),this}}Zw=new WeakMap,Qw=new WeakMap,tk=new WeakMap,ek=new WeakMap,nk=new WeakMap,rk=new WeakSet,ik=function(t){if(!Vw(this,ek))throw C();const e=Vw(this,ek).get(cy),n=Vw(this,ek).get(py);return Ty(t,n,e)},ok=new WeakSet,ak=function(){if(!Vw(this,Qw))throw E();const{ySyncOpts:t,yUndoOpts:e}=Vw(this,Zw),n=Vw(this,Qw).getXmlFragment("prosemirror"),r=[ew(n,t),jw(e),new Wn({key:Jw,props:{handleKeyDown:uc({"Mod-z":Iw,"Mod-y":Lw,"Mod-Shift-z":Lw})}})];if(Vw(this,tk)){const{yCursorOpts:t,yCursorStateField:e}=Vw(this,Zw);r.push(Uw(Vw(this,tk),t,e))}return r},sk=new WeakSet,ck=function(t){if(!Vw(this,ek))throw C();Vw(this,ek).set(Qm,t);const e=Vw(this,ek).get(My),n=e.state.reconfigure({plugins:t});e.updateState(n),Vw(this,ek).get(yg).flush(Vw(this,ek))};const uk=(t,{injectGlobal:e})=>{const n=(e,n=1)=>t.get(_g,[e,n]),r=t.get(Fg,"lineWidth");e`
        .milkdown .paragraph {
            overflow: visible;
        }
        /* this is a rough fix for the first cursor position when the first paragraph is empty */
        .ProseMirror > .ProseMirror-yjs-cursor:first-child {
            margin-top: 1em;
        }
        .ProseMirror p:first-child,
        .ProseMirror h1:first-child,
        .ProseMirror h2:first-child,
        .ProseMirror h3:first-child,
        .ProseMirror h4:first-child,
        .ProseMirror h5:first-child,
        .ProseMirror h6:first-child {
            margin-top: 1em;
        }
        /* This gives the remote user caret. The colors are automatically overwritten*/
        .ProseMirror-yjs-cursor {
            position: relative;
            margin-left: -${r};
            margin-right: -${r};
            ${t.get(vg,"left")};
            ${t.get(vg,"right")};
            word-break: normal;
            pointer-events: none;
        }
        /* This renders the username above the caret */
        .ProseMirror-yjs-cursor > div {
            position: absolute;
            top: -1.05em;
            left: -${r};
            font-size: 13px;
            background-color: ${n("background")};
            font-family: serif;
            font-style: normal;
            font-weight: normal;
            line-height: normal;
            user-select: none;
            color: white;
            padding-left: 2px;
            padding-right: 2px;
            white-space: nowrap;
        }
    `},hk=B(new lk,"collabServiceCtx"),dk=q("CollabReady"),fk=t=>{const e=new lk;return t.inject(hk,e).record(dk),async t=>{await t.wait(qm);const n=t.get(yg),r=t.get(ug);n.onFlush((()=>{uk(n,r)})),await t.wait(Iy),e.bindCtx(t),t.done(dk)}},pk=(t,e)=>{if(!e)return!1;const{from:n,$from:r,to:i,empty:o}=t.selection;return o?!!e.isInSet(t.storedMarks||r.marks()):t.doc.rangeHasMark(n,i,e)},gk=Uy("SelectParent"),mk=[[{type:"button",icon:"undo",key:"Undo",disabled:t=>!Sb(t.state)},{type:"button",icon:"redo",key:"Redo",disabled:t=>!Tb(t.state)}],[{type:"select",text:"Heading",options:[{id:"1",text:"Large Heading"},{id:"2",text:"Medium Heading"},{id:"3",text:"Small Heading"},{id:"0",text:"Plain Text"}],disabled:t=>{const{state:e}=t,n=e.schema.nodes.heading;if(!n)return!0;const r=t=>zs(n,{level:t})(e);return!(t.state.selection instanceof Cn)||!(r(1)||r(2)||r(3))},onSelect:t=>Number(t)?["TurnIntoHeading",Number(t)]:["TurnIntoText",null]}],[{type:"button",icon:"bold",key:"ToggleBold",active:t=>pk(t.state,t.state.schema.marks.strong),disabled:t=>!t.state.schema.marks.strong},{type:"button",icon:"italic",key:"ToggleItalic",active:t=>pk(t.state,t.state.schema.marks.em),disabled:t=>!t.state.schema.marks.em},{type:"button",icon:"strikeThrough",key:"ToggleStrikeThrough",active:t=>pk(t.state,t.state.schema.marks.strike_through),disabled:t=>!t.state.schema.marks.strike_through}],[{type:"button",icon:"bulletList",key:"WrapInBulletList",disabled:t=>{const{state:e}=t,n=e.schema.nodes.bullet_list;return!n||!js(n)(e)}},{type:"button",icon:"orderedList",key:"WrapInOrderedList",disabled:t=>{const{state:e}=t,n=e.schema.nodes.ordered_list;return!n||!js(n)(e)}},{type:"button",icon:"taskList",key:"TurnIntoTaskList",disabled:t=>{const{state:e}=t,n=e.schema.nodes.task_list_item;return!n||!js(n)(e)}},{type:"button",icon:"liftList",key:"LiftListItem",disabled:t=>{const{state:e}=t,n=e.schema.nodes.list_item;return!n||!Wv(n)(e)}},{type:"button",icon:"sinkList",key:"SinkListItem",disabled:t=>{const{state:e}=t,n=e.schema.nodes.list_item;return!n||!Vv(n)(e)}}],[{type:"button",icon:"link",key:"ToggleLink",active:t=>pk(t.state,t.state.schema.marks.link)},{type:"button",icon:"image",key:"InsertImage"},{type:"button",icon:"table",key:"InsertTable"},{type:"button",icon:"code",key:"TurnIntoCodeFence"}],[{type:"button",icon:"quote",key:"WrapInBlockquote"},{type:"button",icon:"divider",key:"InsertHr"},{type:"button",icon:"select",key:gk}]],yk=(t,e,n)=>{const r=document.createElement("button");r.setAttribute("type","button"),t.themeManager.onFlush((()=>{r.className="button";const e=t.getStyle((({css:e})=>{const n=Bg(t.themeManager);return e`
                border: 0;
                box-sizing: unset;
                width: 28px;
                height: 28px;
                padding: 4px;
                margin: 8px;
                flex-shrink: 0;
                font-size: 14px;

                display: flex;
                justify-content: center;
                align-items: center;

                background-color: ${n("surface")};
                color: ${n("solid")};
                transition: color 0.4s ease-in-out, background-color 0.4s ease-in-out;

                cursor: pointer;

                &.active,
                &:hover {
                    background-color: ${n("secondary",.12)};
                    color: ${n("primary")};
                }

                &:disabled {
                    display: none;
                }

                .material-icons-outlined {
                    font-size: 24px;
                }
            `}));e&&r.classList.add(e)}));const i=t.themeManager.get(kg,e.icon);if(i){const{label:t,dom:e}=i;t&&(r.setAttribute("aria-label",t),r.setAttribute("title",t)),r.appendChild(e)}else r.setAttribute("aria-label",e.icon),r.setAttribute("title",e.icon),r.textContent=e.icon;return r.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),n.get(qy).call(e.key,e.options)})),r},bk=t=>{const e=document.createElement("div");e.classList.add("divider");const{themeManager:n}=t;return n.onFlush((()=>{const r=t.getStyle((({css:t})=>t`
                flex-shrink: 0;
                width: ${n.get(Fg,"lineWidth")};
                background-color: ${n.get(_g,["line"])};
                margin: 12px 16px;
                min-height: 24px;
            `));r&&e.classList.add(r)})),e},vk=(t,e,n,r)=>{var i;const o=document.createElement("div");o.classList.add("menu-selector-wrapper","fold");const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("menu-selector","fold"),a.addEventListener("mousedown",(e=>{var n;e.preventDefault(),e.stopPropagation(),o.classList.toggle("fold");const i=o.getBoundingClientRect();l.style.left=i.left-((null==(n=r.dom.parentElement)?void 0:n.getBoundingClientRect().left)||0)+"px";const a=t.themeManager.get(Fg,"lineWidth");l.style.top=`calc(${i.height+"px"} + ${a} * 2)`})),r.dom.addEventListener("click",(()=>{o.classList.add("fold")}));const s=document.createElement("span");s.classList.add("menu-selector-value"),s.textContent=e.text;const c=null==(i=t.themeManager.get(kg,"downArrow"))?void 0:i.dom;o.appendChild(a),a.appendChild(s),c&&(c.setAttribute("aria-hidden","true"),a.appendChild(c));const l=document.createElement("div");l.classList.add("menu-selector-list"),e.options.forEach((t=>{const e=document.createElement("button");e.setAttribute("type","button"),e.dataset.id=t.id,e.textContent=t.text,e.classList.add("menu-selector-list-item"),l.appendChild(e)})),l.addEventListener("mousedown",(t=>{const{target:i}=t;if(i instanceof HTMLButtonElement&&i.dataset.id){const t=e.onSelect(i.dataset.id,r),[a,s]=t;n.get(qy).call(a,s),o.classList.add("fold")}})),o.appendChild(l);const{themeManager:u}=t;return u.onFlush((()=>{const e=t.getStyle((({css:t})=>{const e=(t,e=1)=>u.get(_g,[t,e]);return t`
                flex-shrink: 0;
                font-weight: 500;
                font-size: 14px;

                ${u.get(vg,"right")}
                ${u.get(vg,"left")}

                .menu-selector {
                    border: 0;
                    box-sizing: unset;
                    cursor: pointer;
                    font: inherit;
                    text-align: left;
                    justify-content: space-between;
                    align-items: center;
                    color: ${e("neutral",.87)};
                    display: flex;
                    padding: 4px;
                    margin: 8px;
                    height: 28px;
                    background: ${e("secondary",.12)};
                    width: 160px;

                    &:disabled {
                        display: none;
                    }
                }

                .menu-selector-value {
                    flex: 1;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                }

                .menu-selector-list {
                    width: 184px;
                    position: absolute;
                    background: ${e("surface")};
                    ${u.get(vg,void 0)}
                    ${u.get(Mg,void 0)}
                    border-bottom-left-radius: ${u.get(Fg,"radius")};
                    border-bottom-right-radius: ${u.get(Fg,"radius")};
                    z-index: 3;
                }

                .menu-selector-list-item {
                    background-color: transparent;
                    border: 0;
                    cursor: pointer;
                    display: block;
                    font: inherit;
                    text-align: left;
                    padding: 12px 16px;
                    line-height: 28px;
                    width: 100%;
                    color: ${e("neutral",.87)};

                    &:hover {
                        background: ${e("secondary",.12)};
                        color: ${e("primary")};
                    }
                }

                &.fold {
                    border-color: transparent;

                    .menu-selector {
                        background: unset;
                    }

                    .menu-selector-list {
                        display: none;
                    }
                }
            `}));e&&o.classList.add(e)})),o};class _k{constructor(t,e,n,r,i){this.utils=e,this.ctx=n,this.config=t.map((t=>t.map((t=>({...t,$:this.$create(t,i)}))))).map(((e,n)=>{if(n===t.length-1)return e;const r={type:"divider",group:e.map((t=>t.$))};return[...e,{...r,$:this.$create(r,i)}]})).flat(),this.config.forEach((t=>r.appendChild(t.$)))}update(t){this.config.forEach((e=>{if("button"===e.type)return e.active&&(e.active(t)?e.$.classList.add("active"):e.$.classList.remove("active")),void(e.disabled&&(e.disabled(t)?e.$.setAttribute("disabled","true"):e.$.removeAttribute("disabled")));if("select"===e.type&&e.disabled){const n=e.disabled(t),r=e.$.children[0];r&&(n?(e.$.classList.add("disabled"),r.setAttribute("disabled","true")):(e.$.classList.remove("disabled"),r.removeAttribute("disabled")))}"divider"===e.type&&(e.group.every((t=>t.getAttribute("disabled")||t.classList.contains("disabled")))?e.$.classList.add("disabled"):e.$.classList.remove("disabled"))}))}$create(t,e){const{utils:n,ctx:r}=this;switch(t.type){case"button":return yk(n,t,r);case"select":return vk(n,t,r,e);case"divider":default:return bk(n)}}}const xk=({menu:t,menuWrapper:e,milkdownDOM:n,editorRoot:r})=>{r.appendChild(n),e.remove(),t.remove()},wk=({menu:t,menuWrapper:e,milkdownDOM:n})=>{e.insertBefore(t,n)},kk=t=>{if(!t)return document.body;if("string"==typeof t){const e=document.querySelector(t);return e||document.body}return t},Dk=(t,e)=>{let n=null;n=document.createElement("div"),n.classList.add("milkdown-menu-wrapper");const r=t.get(Oy),i=e.dom,o=kk(r),a=i.parentElement;if(!a)throw k();return o.replaceChild(n,a),n.appendChild(a),n},Ck=(t,e,n,r,i=wk)=>{if(!r)throw S();const o=document.createElement("div");o.classList.add("milkdown-menu");const a=e.dom,{themeManager:s}=t;s.onFlush((()=>{const e=t.getStyle((()=>s.get(Ag,["y"])));e&&a.classList.add(e);const n=t.getStyle((({css:t})=>{const e=s.get(vg,void 0),n=s.get(Ag,["x","thin"]);return t`
                font-family: ${s.get(xg,"typography")};
                box-sizing: border-box;
                width: 100%;
                display: flex;
                flex-wrap: nowrap;
                overflow-x: scroll;
                ${e};
                ${n};
                overflow-y: hidden;
                background: ${s.get(_g,["surface"])};
                transition: background-color 0.4s ease-in-out;

                -webkit-overflow-scrolling: auto;

                .disabled {
                    display: none;
                }
            `}));n&&n.split(" ").forEach((t=>o.classList.add(t)))}));const c=n.get(Oy),l=kk(c),u=a.parentElement;if(!u)throw k();return i({menu:o,menuWrapper:r,editorDOM:a,editorRoot:l,milkdownDOM:u}),[o,()=>(xk({menu:o,menuWrapper:r,editorDOM:a,editorRoot:l,milkdownDOM:u}),u)]},Ek=new Vn("MILKDOWN_MENU"),Sk=Rv(((t,e)=>{const n=null==e?void 0:e.domHandler;let r=null,i=null,o=null,a=null;const s=(s,c)=>{const l=null!=e&&e.config?"function"==typeof e.config?e.config(s):e.config:mk;if(c.editable){if(o||(o=Dk(s,c),s.set(By,o)),!i){const[e,l]=Ck(t,c,s,o,n);i=e,r=()=>{const t=l();o=null,i=null,a=null,r=null,s.set(By,t)}}a||(a=new _k(l,t,s,i,c))}};return{commands:()=>[Wy(gk,(()=>Os))],prosePlugins:(t,e)=>[new Wn({key:Ek,view:t=>(s(e,t),t.editable&&(null==a||a.update(t)),{update:n=>{s(e,t),t.editable?null==a||a.update(n):null==r||r()},destroy:()=>{null==r||r()}})})]}})),Tk=av.create([Sk()]);function Ak(t){return"object"==typeof t&&null!=t&&1===t.nodeType}function Mk(t,e){return(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t}function Fk(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return Mk(n.overflowY,e)||Mk(n.overflowX,e)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function Ok(t,e,n,r,i,o,a,s){return o<t&&a>e||o>t&&a<e?0:o<=t&&s<=n||a>=e&&s>=n?o-t-r:a>e&&s<n||o<t&&s>n?a-e+i:0}function Nk(t,e){var n=window,r=e.scrollMode,i=e.block,o=e.inline,a=e.boundary,s=e.skipOverflowHiddenElements,c="function"==typeof a?a:function(t){return t!==a};if(!Ak(t))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,u=[],h=t;Ak(h)&&c(h);){if((h=h.parentElement)===l){u.push(h);break}null!=h&&h===document.body&&Fk(h)&&!Fk(document.documentElement)||null!=h&&Fk(h,s)&&u.push(h)}for(var d=n.visualViewport?n.visualViewport.width:innerWidth,f=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,m=t.getBoundingClientRect(),y=m.height,b=m.width,v=m.top,_=m.right,x=m.bottom,w=m.left,k="start"===i||"nearest"===i?v:"end"===i?x:v+y/2,D="center"===o?w+b/2:"end"===o?_:w,C=[],E=0;E<u.length;E++){var S=u[E],T=S.getBoundingClientRect(),A=T.height,M=T.width,F=T.top,O=T.right,N=T.bottom,B=T.left;if("if-needed"===r&&v>=0&&w>=0&&x<=f&&_<=d&&v>=F&&x<=N&&w>=B&&_<=O)return C;var I=getComputedStyle(S),L=parseInt(I.borderLeftWidth,10),R=parseInt(I.borderTopWidth,10),P=parseInt(I.borderRightWidth,10),j=parseInt(I.borderBottomWidth,10),z=0,$=0,Y="offsetWidth"in S?S.offsetWidth-S.clientWidth-L-P:0,W="offsetHeight"in S?S.offsetHeight-S.clientHeight-R-j:0;if(l===S)z="start"===i?k:"end"===i?k-f:"nearest"===i?Ok(g,g+f,f,R,j,g+k,g+k+y,y):k-f/2,$="start"===o?D:"center"===o?D-d/2:"end"===o?D-d:Ok(p,p+d,d,L,P,p+D,p+D+b,b),z=Math.max(0,z+g),$=Math.max(0,$+p);else{z="start"===i?k-F-R:"end"===i?k-N+j+W:"nearest"===i?Ok(F,N,A,R,j+W,k,k+y,y):k-(F+A/2)+W/2,$="start"===o?D-B-L:"center"===o?D-(B+M/2)+Y/2:"end"===o?D-O+P+Y:Ok(B,O,M,L,P+Y,D,D+b,b);var U=S.scrollLeft,q=S.scrollTop;k+=q-(z=Math.max(0,Math.min(q+z,S.scrollHeight-A+W))),D+=U-($=Math.max(0,Math.min(U+$,S.scrollWidth-M+Y)))}C.push({el:S,top:z,left:$})}return C}function Bk(t){return t===Object(t)&&0!==Object.keys(t).length}function Ik(t,e){void 0===e&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach((function(t){var r=t.el,i=t.top,o=t.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:e}):(r.scrollTop=i,r.scrollLeft=o)}))}function Lk(t){return!1===t?{block:"end",inline:"nearest"}:Bk(t)?t:{block:"start",inline:"nearest"}}function Rk(t,e){var n=t.isConnected||t.ownerDocument.documentElement.contains(t);if(Bk(e)&&"function"===typeof e.behavior)return e.behavior(n?Nk(t,e):[]);if(n){var r=Lk(e);return Ik(Nk(t,r),r.behavior)}}var Pk,jk=Rk,zk=function(){return Pk||(Pk="performance"in window?performance.now.bind(performance):Date.now),Pk()};function $k(t){var e=zk(),n=Math.min((e-t.startTime)/t.duration,1),r=t.ease(n),i=t.startX+(t.x-t.startX)*r,o=t.startY+(t.y-t.startY)*r;t.method(i,o),i!==t.x||o!==t.y?requestAnimationFrame((function(){return $k(t)})):t.cb()}function Yk(t,e,n,r,i,o){var a,s,c,l;void 0===r&&(r=600),void 0===i&&(i=function(t){return 1+--t*t*t*t*t}),a=t,s=t.scrollLeft,c=t.scrollTop,l=function(e,n){t.scrollLeft=Math.ceil(e),t.scrollTop=Math.ceil(n)},$k({scrollable:a,method:l,startTime:zk(),startX:s,startY:c,x:e,y:n,duration:r,ease:i,cb:o})}var Wk=function(t){return t&&!t.behavior||"smooth"===t.behavior};function Uk(t,e){var n=e||{};return Wk(n)?jk(t,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(t){return Promise.all(t.reduce((function(t,e){var r=e.el,i=e.left,o=e.top,a=r.scrollLeft,s=r.scrollTop;return a===i&&s===o?t:[].concat(t,[new Promise((function(t){return Yk(r,i,o,n.duration,n.ease,(function(){return t({el:r,left:[a,i],top:[s,o]})}))}))])}),[]))}}):Promise.resolve(jk(t,e))}var qk=Uk,Vk=qk;const Hk=(t,{css:e})=>{const n=(e,n=1)=>t.get(_g,[e,n]);return e`
        .slash-dropdown-item {
            display: flex;
            gap: 32px;
            height: 48px;
            padding: 0 16px;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 48px;
            font-family: ${t.get(xg,"typography")};
            font-size: 14px;

            transition: all 0.2s ease-in-out;

            &,
            .icon {
                color: ${n("neutral",.87)};
                transition: all 0.2s ease-in-out;
            }

            &.hide {
                display: none;
            }

            &.active {
                background: ${n("secondary",.12)};
                &,
                .icon {
                    color: ${n("primary")};
                }
            }
        }
    `},Gk=(t,e)=>{const n=(e,n=1)=>t.get(_g,[e,n]);return e.css`
        width: 320px;
        max-height: 320px;
        overflow-y: auto;
        border-radius: ${t.get(Fg,"radius")};
        position: absolute;
        background: ${n("surface")};

        ${t.get(vg,void 0)}
        ${t.get(Mg,void 0)}
        ${t.get(Ag,void 0)}

        &.hide {
            display: none;
        }

        ${Hk(t,e)}
    `},Xk=(t,e)=>{const n=document.createElement("div");return n.setAttribute("role","listbox"),n.setAttribute("tabindex","-1"),t.themeManager.onFlush((()=>{const e=t.getStyle((e=>Gk(t.themeManager,e)));e&&n.classList.add(e)})),n.classList.add(t.getClassName({},e),"hide"),n},Jk=(t,e,n,r)=>{var i;const o=null!=(i=null==r?void 0:r.textClassName)?i:"text",a=document.createElement("div");a.setAttribute("role","option"),a.classList.add("slash-dropdown-item");const s=t.get(kg,n);if(!s)throw D(n);const c=document.createElement("span");return c.textContent=e,c.className=o,a.appendChild(s.dom),a.appendChild(c),a},Kk=(t,e)=>{const{selection:n}=t,{$from:r}=n,i=t.tr.deleteRange(r.start(),r.pos);return null==e||e(i),!1},Zk=t=>(e,n,r)=>(r&&(Kk(e,n),t()),!0),Qk=(t,e="/")=>{const{nodes:n}=t.get(cy),r=[{id:"h1",dom:Jk(t.get(yg),"Large Heading","h1"),command:()=>t.get(qy).call("TurnIntoHeading",1),keyword:["h1","large heading"],typeName:"heading"},{id:"h2",dom:Jk(t.get(yg),"Medium Heading","h2"),command:()=>t.get(qy).call("TurnIntoHeading",2),keyword:["h2","medium heading"],typeName:"heading"},{id:"h3",dom:Jk(t.get(yg),"Small Heading","h3"),command:()=>t.get(qy).call("TurnIntoHeading",3),keyword:["h3","small heading"],typeName:"heading"},{id:"bulletList",dom:Jk(t.get(yg),"Bullet List","bulletList"),command:()=>t.get(qy).call("WrapInBulletList"),keyword:["bullet list","ul"],typeName:"bullet_list"},{id:"orderedList",dom:Jk(t.get(yg),"Ordered List","orderedList"),command:()=>t.get(qy).call("WrapInOrderedList"),keyword:["ordered list","ol"],typeName:"ordered_list"},{id:"taskList",dom:Jk(t.get(yg),"Task List","taskList"),command:()=>t.get(qy).call("TurnIntoTaskList"),keyword:["task list","task"],typeName:"task_list_item"},{id:"image",dom:Jk(t.get(yg),"Image","image"),command:()=>t.get(qy).call("InsertImage"),keyword:["image"],typeName:"image"},{id:"blockquote",dom:Jk(t.get(yg),"Quote","quote"),command:()=>t.get(qy).call("WrapInBlockquote"),keyword:["quote","blockquote"],typeName:"blockquote"},{id:"table",dom:Jk(t.get(yg),"Table","table"),command:()=>t.get(qy).call("InsertTable"),keyword:["table"],typeName:"table"},{id:"code",dom:Jk(t.get(yg),"Code Fence","code"),command:()=>t.get(qy).call("TurnIntoCodeFence"),keyword:["code"],typeName:"fence"},{id:"divider",dom:Jk(t.get(yg),"Divide Line","divider"),command:()=>t.get(qy).call("InsertHr"),keyword:["divider","hr"],typeName:"hr"}],i=e.slice(1).toLocaleLowerCase();return r.filter((t=>!!n[t.typeName]&&t.keyword.some((t=>t.includes(i))))).map((({keyword:t,typeName:e,...n})=>n))},tD=t=>({content:e,isTopLevel:n})=>n?e?e.startsWith("/")?"/"===e?{placeholder:"Type to filter...",actions:Qk(t)}:{actions:Qk(t,e)}:null:{placeholder:"Type / to use the slash commands..."}:null,eD=(t,{css:e})=>{const n=(e,n=1)=>t.get(_g,[e,n]),r=t.get(xg,"typography");return e`
        position: relative;
        &::before {
            position: absolute;
            cursor: text;
            font-family: ${r};
            font-size: 14px;
            color: ${n("neutral",.6)};
            content: attr(data-text);
            height: 100%;
            display: flex;
            align-items: center;
        }
    `},nD=(t,{css:e})=>e`
    &::before {
        left: 8px;
    }
`,rD=(t,e)=>({handleKeyDown:(e,n)=>!(t.isEmpty()||!(n instanceof KeyboardEvent)||!["ArrowUp","ArrowDown","Enter"].includes(n.key)),decorations:n=>{const r=ms((({type:t})=>"paragraph"===t.name))(n.selection),i=n.plugins.find((t=>"MILKDOWN_UPLOAD$"===t.key)),o=null==i?void 0:i.getState(n);if(null!=o&&o.find(n.selection.from,n.selection.to).length>0||!r||r.node.childCount>1||n.selection.$from.parentOffset!==r.node.textContent.length||r.node.firstChild&&"text"!==r.node.firstChild.type.name)return t.clear(),null;const{placeholder:a,actions:s}=t.update({parentNode:n.selection.$from.node(n.selection.$from.depth-1),isTopLevel:1===n.selection.$from.depth,content:r.node.textContent,state:n});if(!a)return null;const c=(t,e)=>{const i=r.pos;return da.create(n.doc,[la.node(i,i+r.node.nodeSize,{class:e.filter((t=>t)).join(" "),"data-text":t})])},l=e.getStyle((t=>eD(e.themeManager,t))),u=e.getStyle((t=>nD(e.themeManager,t)));return s.length?c(a,[l,u,"empty-node","is-slash"]):c(a,[l,"empty-node"])}}),iD=t=>({id:t.id,$:t.dom,command:Zk(t.command)}),oD=()=>({placeholder:null,actions:[]}),aD=t=>{const e=oD();return{get:()=>e,clear:()=>{e.placeholder=null,e.actions=[]},update:n=>{var r,i;const o=t(n);return e.placeholder=null!=(r=null==o?void 0:o.placeholder)?r:null,e.actions=(null!=(i=null==o?void 0:o.actions)?i:[]).map(iD),e},isEmpty:()=>0===e.actions.length}},sD=(t,e,n)=>{const{actions:r}=t.get();if(!r.length)return e.classList.add("hide"),!1;for(e.childNodes.forEach((t=>{t.removeEventListener("mouseenter",n.mouseEnter),t.removeEventListener("mouseleave",n.mouseLeave)}));e.firstChild;)e.firstChild.remove();r.forEach((({$:t})=>{t.classList.remove("active"),t.addEventListener("mouseenter",n.mouseEnter),t.addEventListener("mouseleave",n.mouseLeave),e.appendChild(t)})),e.classList.remove("hide");const i=r[0];return i&&(i.$.classList.add("active"),requestAnimationFrame((()=>{Vk(i.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})}))),!0},cD=()=>{let t=!1;return{isLock:()=>t,lock:()=>{t=!0},unlock:()=>{t=!1}}},lD=t=>()=>{t.unlock()},uD=(t,e)=>n=>{if(e.isLock())return;const{actions:r}=t.get(),i=r.findIndex((t=>t.$.classList.contains("active"))),o=r[i];o&&i>=0&&o.$.classList.remove("active");const{target:a}=n;a instanceof HTMLElement&&a.classList.add("active")},hD=()=>t=>{const{target:e}=t;e instanceof HTMLElement&&e.classList.remove("active")},dD=(t,e,n)=>r=>{const{target:i}=r;if(!(i instanceof HTMLElement)||!e)return;const o=()=>{r.stopPropagation(),r.preventDefault()},{actions:a}=t.get(),s=Object.values(a).find((({$:t})=>t.contains(i)));if(!s){if(t.isEmpty())return;return t.clear(),n.classList.add("hide"),void o()}o(),s.command(e.state,e.dispatch,e)},fD=(t,e,n,r)=>i=>{if(!(i instanceof KeyboardEvent))return;r.isLock()||r.lock();const{key:o}=i;if(t.isEmpty()||!["ArrowDown","ArrowUp","Enter","Escape"].includes(o))return;const{actions:a}=t.get();let s=a.findIndex((({$:t})=>t.classList.contains("active")));s<0&&(s=0);const c=t=>{const e=a[s],n=a[t];!e||!n||(e.$.classList.remove("active"),n.$.classList.add("active"),Vk(n.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}))};if("ArrowDown"===o){const t=s===a.length-1?0:s+1;return void c(t)}if("ArrowUp"===o){const t=0===s?a.length-1:s-1;return void c(t)}if("Escape"===o){if(t.isEmpty())return;return t.clear(),void n.classList.add("hide")}const l=a[s];!l||(l.command(e.state,e.dispatch,e),l.$.classList.remove("active"))},pD=(t,e)=>{us(t,e,((t,n,r)=>{const i=e.parentElement;if(!i)throw k();let o=t.left-r.left,a=t.bottom-r.top+14+i.scrollTop;if(o<0&&(o=0),r.height+r.top-t.bottom<n.height){const e=t.top-r.top-n.height-14+i.scrollTop;e>0&&(a=e)}return[a,o]}))},gD=(t,e,n,r,i)=>{const o=e.dom.parentNode;if(!o)return{};const a=Xk(n,r),s=cD();o.appendChild(a);const c=lD(s),l=dD(t,e,a),u=fD(t,e,a,s),h=uD(t,s),d=hD();return o.addEventListener("mousemove",c),o.addEventListener("mousedown",l),o.addEventListener("keydown",u),{update:e=>{!sD(t,a,{mouseEnter:h,mouseLeave:d})||i(e,a)},destroy:()=>{o.removeEventListener("mousemove",c),o.removeEventListener("mousedown",l),o.removeEventListener("keydown",u),a.remove()}}},mD="MILKDOWN_SLASH",yD=(t,e,n,r)=>{const i=aD(e);return new Wn({key:new Vn(mD),props:rD(i,t),view:e=>gD(i,e,t,n,r)})},bD=Rv(((t,e)=>{var n,r;const i=null!=(n=null==e?void 0:e.config)?n:tD,o=null!=(r=null==e?void 0:e.calcPosition)?r:pD;return{prosePlugins:(e,n)=>{const r=i(n);return[yD(t,r,"slash-dropdown",o)]}}})),vD=av.create([bD()]),_D=(t,e)=>{if(!e)return!1;const{from:n,to:r}=t.selection;return t.doc.rangeHasMark(n,n===r?r+1:r,e)},xD=t=>{const{selection:e}=t;return e instanceof Cn&&!!t.doc.textBetween(e.from,e.to)},wD=t=>Boolean(ms((t=>!!t.type.spec.code))(t.selection)),kD=(t,e)=>!xD(t)||wD(t)||_D(t,e),DD=(t,e,n,r)=>({icon:t,onClick:e,isHidden:()=>t=>kD(t.state,r),isActive:()=>t=>_D(t.state,n),canAddToDOM:()=>t=>!!n&&!!t.state.schema.marks[n.name]}),CD=t=>{const e=t.get(cy).marks;return[DD("bold","ToggleBold",e.strong),DD("italic","ToggleItalic",e.em),DD("strikeThrough","ToggleStrikeThrough",e.strike_through),DD("code","ToggleInlineCode",e.code_inline),DD("link","ToggleLink",e.link)]},ED=(t,e=CD)=>{const n=({icon:e,onClick:n,isHidden:r,isActive:i,canAddToDOM:o})=>{var a;return{$:"function"==typeof e?e(t):null==(a=t.get(yg).get(kg,e))?void 0:a.dom,command:"string"==typeof n?()=>t.get(qy).call(n):n(t),disable:r(t),active:i(t),enable:o(t)}};return e(t).map(n)},SD=(t,e,n)=>{t.classList.remove("hide"),hs(e,t,((e,r,i,o)=>{const a=t.parentElement;if(!a)throw k();const s=r.left-e.left;let c=e.left-o.left-(i.width-s)/2,l=e.top-o.top-i.height-14+a.scrollTop;return c<0&&(c=0),(e.top-o.top<i.height||n&&o.bottom-e.bottom>i.height)&&(l=e.bottom-o.top+14+a.scrollTop),[l,c]}))},TD=(t,{css:e})=>{const n=(e,n=1)=>t.get(_g,[e,n]),r=t.get(Fg,"lineWidth");return e`
        display: inline-flex;
        cursor: pointer;
        justify-content: space-evenly;
        position: absolute;
        border-radius: ${t.get(Fg,"radius")};
        z-index: 2;

        ${t.get(vg,void 0)}
        ${t.get(Mg,void 0)}

        overflow: hidden;
        background: ${n("surface")};

        .icon {
            position: relative;
            color: ${n("solid",.87)};

            width: 48px;
            line-height: 48px;
            text-align: center;
            transition: all 0.4s ease-in-out;
            &:hover {
                background-color: ${n("secondary",.12)};
            }
            &.active {
                color: ${n("primary")};
            }
            &:not(:last-child)::after {
                content: '';
                position: absolute;
                top: 0;
                right: calc(-0.5 * ${r});
                width: ${r};
                bottom: 0;
                background: ${n("line")};
            }
        }
        &.hide,
        .hide {
            display: none;
        }
    `},AD=(t,e,n)=>{const r=document.createElement("div");return e.themeManager.onFlush((()=>{const t=e.getStyle((t=>TD(e.themeManager,t)))||"";t&&r.classList.add(t)})),r.classList.add(e.getClassName({},n)),{dom:r,render:e=>{var n;t.filter((t=>t.enable(e)&&null!=t.$)).forEach((({$:t})=>r.appendChild(t))),null==(n=e.dom.parentNode)||n.appendChild(r)}}},MD=(t,e)=>Object.values(t).filter((t=>t.enable(e)&&null!=t.$)).every((({$:t})=>t.classList.contains("hide"))),FD=(t,e)=>(t.filter((t=>t.enable(e)&&null!=t.$)).forEach((t=>{var n;(null==(n=t.disable)?void 0:n.call(t,e))?t.$.classList.add("hide"):(t.$.classList.remove("hide"),t.active(e)?t.$.classList.add("active"):t.$.classList.remove("active"))})),MD(t,e)),OD=(t,e,n,r)=>{const{dom:i,render:o}=AD(t,e,r),a=e=>{const n=t.find((({$:t})=>e.target instanceof Element&&t.contains(e.target)));!n||(e.stopPropagation(),e.preventDefault(),n.command())},s=()=>{i.classList.add("hide")};return i.addEventListener("mousedown",a),{destroy:()=>{i.removeEventListener("mousedown",a),i.remove()},hide:s,update:e=>{FD(t,e)?s():SD(i,e,n)},render:o}},ND=(t,e,n,r)=>{let i=OD(t,e,n,r),o=!1;const a=()=>{i.hide()},s=(t,e)=>{const{state:n}=t;t.editable&&!o?(null==e?void 0:e.doc.eq(n.doc))&&e.selection.eq(n.selection)||i.update(t):a()};return{recreate:o=>{i=OD(t,e,n,r),i.render(o),s(o)},update:s,destroy:()=>{i.destroy()},render:t=>{i.render(t),s(t)},setHide:t=>{o=t}}},BD=new Vn("MILKDOWN_TOOLTIP"),ID=Rv(((t,e)=>({id:"tooltip",prosePlugins:(n,r)=>{var i;const o=ND(ED(r,null==e?void 0:e.items),t,null!=(i=null==e?void 0:e.bottom)&&i,"tooltip");return[new Wn({key:BD,props:{handleClick:t=>(o.setHide(!1),o.update(t),!1),handleDOMEvents:{mousedown:()=>(o.setHide(!1),!1)}},view:t=>(o.recreate(t),{update:o.update,destroy:o.destroy})})]}}))),LD=av.create([ID()]),RD=t=>{if(!t)return!1;if(Array.isArray(t))return!(t.length>1)&&RD(t[0]);const e=t.content;return e?RD(e):"text"===t.type},PD=new Vn("MILKDOWN_CLIPBOARD"),jD=Rv((()=>({prosePlugins:(t,e)=>{const n=e.get(cy);return e.update(Fy,(t=>{var e;return{...t,editable:null!=(e=t.editable)?e:()=>!0}})),[new Wn({key:PD,props:{handlePaste:(t,r,i)=>{var o,a;const s=e.get(py),c=e.get(by),l=null==(a=(o=t.props).editable)?void 0:a.call(o,t.state),{clipboardData:u}=r;if(!l||!u||t.state.selection.$from.node().type.spec.code)return!1;let h=u.getData("text/plain");const d=u.getData("vscode-editor-data");if(d){const e=JSON.parse(d),r=null==e?void 0:e.mode;if(h&&r){const{tr:e}=t.state,i=ps("fence",n);return e.replaceSelectionWith(i.create({language:r})).setSelection(Cn.near(e.doc.resolve(Math.max(0,e.selection.from-2)))).insertText(h.replace(/\r\n?/g,"\n")),t.dispatch(e),!0}}const f=u.getData("text/html");if(0===f.length&&0===h.length)return!1;if(f.length>0||0===h.length){const t=document.createElement("template");t.innerHTML=f;const e=Vt.fromSchema(n).parse(t.content);t.remove(),h=c(e)}const p=s(h);return!(!p||"string"==typeof p)&&(t.dispatch(t.state.tr.replaceSelection(new nt(p.content,i.openStart,i.openEnd))),!0)},clipboardTextSerializer:t=>{const r=e.get(by);if(RD(t.content.toJSON()))return t.content.textBetween(0,t.content.size,"\n\n");const i=n.topNodeType.createAndFill(void 0,t.content);return i?r(i):""}}})]}}))),zD=jD();function $D(t={}){return new Wn({view(e){return new YD(e,t)}})}class YD{constructor(t,e){this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map((e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}destroy(){this.handlers.forEach((({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e)))}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){let n=e.nodeBefore,r=e.nodeAfter;if(n||r){let e=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?e.bottom:e.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:e.left,right:e.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){let e=this.editorView.coordsAtPos(this.cursorPos);t={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let n,r,i=this.editorView.dom.offsetParent;if(this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!i||i==document.body&&"static"==getComputedStyle(i).position)n=-pageXOffset,r=-pageYOffset;else{let t=i.getBoundingClientRect();n=t.left-i.scrollLeft,r=t.top-i.scrollTop}this.element.style.left=t.left-n+"px",this.element.style.top=t.top-r+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,e,t):r;if(e&&!i){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(t=tn(this.editorView.state.doc,t,this.editorView.dragging.slice),null==t))return this.setCursor(null);this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class WD extends xn{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return WD.valid(n)?new WD(n):xn.near(n)}content(){return nt.empty}eq(t){return t instanceof WD&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new WD(t.resolve(e.pos))}getBookmark(){return new UD(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!qD(t)||!VD(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,e,n=!1){t:for(;;){if(!n&&WD.valid(t))return t;let r=t.pos,i=null;for(let n=t.depth;;n--){let o=t.node(n);if(e>0?t.indexAfter(n)<o.childCount:t.index(n)>0){i=o.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;r+=e;let a=t.doc.resolve(r);if(WD.valid(a))return a}for(;;){let o=e>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Sn.isSelectable(i)){t=t.doc.resolve(r+i.nodeSize*e),n=!1;continue t}break}i=o,r+=e;let a=t.doc.resolve(r);if(WD.valid(a))return a}return null}}}WD.prototype.visible=!1,WD.findFrom=WD.findGapCursorFrom,xn.jsonID("gapcursor",WD);class UD{constructor(t){this.pos=t}map(t){return new UD(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return WD.valid(e)?new WD(e):xn.near(e)}}function qD(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(0!=n)for(let t=r.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function VD(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(let t=r.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function HD(){return new Wn({props:{decorations:ZD,createSelectionBetween(t,e,n){return e.pos==n.pos&&WD.valid(n)?new WD(n):null},handleClick:JD,handleKeyDown:GD,handleDOMEvents:{beforeinput:KD}}})}const GD=uc({ArrowLeft:XD("horiz",-1),ArrowRight:XD("horiz",1),ArrowUp:XD("vert",-1),ArrowDown:XD("vert",1)});function XD(t,e){const n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,i){let o=t.selection,a=e>0?o.$to:o.$from,s=o.empty;if(o instanceof Cn){if(!i.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=t.doc.resolve(e>0?a.after():a.before())}let c=WD.findGapCursorFrom(a,e,s);return!!c&&(r&&r(t.tr.setSelection(new WD(c))),!0)}}function JD(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!WD.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&Sn.isSelectable(t.state.doc.nodeAt(i.inside)))&&(t.dispatch(t.state.tr.setSelection(new WD(r))),!0)}function KD(t,e){if("insertCompositionText"!=e.inputType||!(t.state.selection instanceof WD))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=J.empty;for(let a=r.length-1;a>=0;a--)i=J.from(r[a].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new nt(i,0,0));return o.setSelection(Cn.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function ZD(t){if(!(t.selection instanceof WD))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",da.create(t.doc,[la.widget(t.selection.head,e,{key:"gapcursor"})])}const QD=Rv((({getStyle:t,themeManager:e})=>(e.onFlush((()=>{t((({injectGlobal:t})=>{t`
                /* copy from https://github.com/ProseMirror/prosemirror-gapcursor/blob/master/style/gapcursor.css */
                .ProseMirror-gapcursor {
                    display: none;
                    pointer-events: none;
                    position: absolute;
                    margin: 0 !important;
                }

                .ProseMirror-gapcursor:after {
                    content: '';
                    display: block;
                    position: absolute;
                    top: -2px;
                    width: 20px;
                    border-top: ${e.get(Fg,"lineWidth")} solid
                        ${e.get(_g,["secondary"])};
                    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
                }

                @keyframes ProseMirror-cursor-blink {
                    to {
                        visibility: hidden;
                    }
                }

                .ProseMirror-focused .ProseMirror-gapcursor {
                    display: block;
                }
            `}))})),{prosePlugins:(t,e)=>{var n,r;const i=e.get(yg),o=i.get(Fg,"lineWidth"),a=i.get(_g,["secondary"]),s=Number(null!=(r=null==(n=null==o?void 0:o.match(/\d+/))?void 0:n[0])?r:1);return[HD(),$D({color:a,width:s})]}})))(),tC=Uy("Undo"),eC=Uy("Redo"),nC=Rv((()=>({commands:()=>[Wy(tC,(()=>Sb)),Wy(eC,(()=>Tb))],prosePlugins:()=>[Eb(),lc({"Mod-z":Sb,"Mod-y":Tb,"Shift-Mod-z":Tb})]}))),rC=av.create([nC()]);var iC=n(5669);const oC=[{name:"angry",emoji:"",tags:["mad","annoyed"],description:"angry face",emoticons:[">:(",">:[",">:-(",">:-[",">=(",">=[",">=-(",">=-["]},{name:"blush",emoji:"",tags:["proud"],description:"smiling face with smiling eyes",emoticons:[':")',':"]',':"D',':-")',':-"]',':-"D','=")','="]','="D','=-")','=-"]','=-"D']},{name:"broken_heart",emoji:"",tags:[],description:"broken heart",emoticons:["<\\3","</3"]},{name:"confused",emoji:"",tags:[],description:"confused face",emoticons:[":/",":\\",":-/",":-\\","=/","=\\","=-/","=-\\"]},{name:"cry",emoji:"",tags:["sad","tear"],description:"crying face",emoticons:[":,(",":,[",":,|",":,-(",":,-[",":,-|",":'(",":'[",":'|",":'-(",":'-[",":'-|","=,(","=,[","=,|","=,-(","=,-[","=,-|","='(","='[","='|","='-(","='-[","='-|"]},{name:"frowning",emoji:"",tags:[],description:"frowning face with open mouth",emoticons:[":(",":[",":-(",":-[","=(","=[","=-(","=-["]},{name:"heart",emoji:"",tags:["love"],description:"red heart",emoticons:["<3"]},{name:"imp",emoji:"",tags:["angry","devil","evil","horns"],description:"angry face with horns",emoticons:["]:(","]:[","]:-(","]:-[","]=(","]=[","]=-(","]=-["]},{name:"innocent",emoji:"",tags:["angel"],description:"smiling face with halo",emoticons:["o:)","o:]","o:D","o:-)","o:-]","o:-D","o=)","o=]","o=D","o=-)","o=-]","o=-D","O:)","O:]","O:D","O:-)","O:-]","O:-D","O=)","O=]","O=D","O=-)","O=-]","O=-D","0:)","0:]","0:D","0:-)","0:-]","0:-D","0=)","0=]","0=D","0=-)","0=-]","0=-D"]},{name:"joy",emoji:"",tags:["tears"],description:"face with tears of joy",emoticons:[":,)",":,]",":,D",":,-)",":,-]",":,-D",":')",":']",":'D",":'-)",":'-]",":'-D","=,)","=,]","=,D","=,-)","=,-]","=,-D","=')","=']","='D","='-)","='-]","='-D"]},{name:"kissing",emoji:"",tags:[],description:"kissing face",emoticons:[":*",":-*","=*","=-*"]},{name:"laughing",emoji:"",tags:["happy","haha"],description:"grinning squinting face",emoticons:["x)","x]","xD","x-)","x-]","x-D","X)","X]","X-)","X-]","X-D"]},{name:"man",emoji:"",tags:["mustache","father","dad"],description:"man",emoticons:[":3",":-3","=3","=-3",";3",";-3","x3","x-3","X3","X-3"]},{name:"neutral_face",emoji:"",tags:["meh"],description:"neutral face",emoticons:[":|",":-|","=|","=-|"]},{name:"no_mouth",emoji:"",tags:["mute","silence"],description:"face without mouth",emoticons:[":-"]},{name:"open_mouth",emoji:"",tags:["surprise","impressed","wow"],description:"face with open mouth",emoticons:[":o",":O",":0",":-o",":-O",":-0","=o","=O","=0","=-o","=-O","=-0"]},{name:"rage",emoji:"",tags:["angry"],description:"pouting face",emoticons:[":@",":-@","=@","=-@"]},{name:"smile",emoji:"",tags:["happy","joy","laugh","pleased"],description:"grinning face with smiling eyes",emoticons:[":D",":-D","=D","=-D"]},{name:"smiley",emoji:"",tags:["happy","joy","haha"],description:"grinning face with big eyes",emoticons:[":)",":]",":-)",":-]","=)","=]","=-)","=-]"]},{name:"smiling_imp",emoji:"",tags:["devil","evil","horns"],description:"smiling face with horns",emoticons:["]:)","]:]","]:D","]:-)","]:-]","]:-D","]=)","]=]","]=D","]=-)","]=-]","]=-D"]},{name:"sob",emoji:"",tags:["sad","cry","bawling"],description:"loudly crying face",emoticons:[":,'(",":,'[",":,'-(",":,'-[",":',(",":',[",":',-(",":',-[","=,'(","=,'[","=,'-(","=,'-[","=',(","=',[","=',-(","=',-["]},{name:"stuck_out_tongue",emoji:"",tags:[],description:"face with tongue",emoticons:[":p",":P",":d",":-p",":-P",":-d","=p","=P","=d","=-p","=-P","=-d"]},{name:"stuck_out_tongue_closed_eyes",emoji:"",tags:["prank"],description:"squinting face with tongue",emoticons:["xP","x-p","x-P","x-d","Xp","Xd","X-p","X-P","X-d"]},{name:"stuck_out_tongue_winking_eye",emoji:"",tags:["prank","silly"],description:"winking face with tongue",emoticons:[";p",";P",";d",";-p",";-P",";-d"]},{name:"sunglasses",emoji:"",tags:["cool"],description:"smiling face with sunglasses",emoticons:["8)","8]","8D","8-)","8-]","8-D","B)","B]","B-)","B-]","B-D"]},{name:"sweat",emoji:"",tags:[],description:"downcast face with sweat",emoticons:[",:(",",:[",",:-(",",:-[",",=(",",=[",",=-(",",=-[","':(","':[","':-(","':-[","'=(","'=[","'=-(","'=-["]},{name:"sweat_smile",emoji:"",tags:["hot"],description:"grinning face with sweat",emoticons:[",:)",",:]",",:D",",:-)",",:-]",",:-D",",=)",",=]",",=D",",=-)",",=-]",",=-D","':)","':]","':D","':-)","':-]","':-D","'=)","'=]","'=D","'=-)","'=-]","'=-D"]},{name:"unamused",emoji:"",tags:["meh"],description:"unamused face",emoticons:[":$",":s",":z",":S",":Z",":-$",":-s",":-z",":-S",":-Z","=$","=s","=z","=S","=Z","=-$","=-s","=-z","=-S","=-Z"]},{name:"wink",emoji:"",tags:["flirt"],description:"winking face",emoticons:[";)",";]",";D",";-)",";-]",";-D"]}],aC=/:\+1:|:-1:|:[\w-]+:/g,sC=/[$@|*'",;.=:\-)([\]\\/<>038BOopPsSdDxXzZ]{2,5}/g,cC=/_/g,lC={padSpaceAfter:!1,emoticon:!1};function uC(t){const e=Object.assign({},lC,t),n=!!e.padSpaceAfter,r=!!e.emoticon;function i(t){const e=oC.find((e=>e.emoticons.includes(t))),r=oC.find((e=>e.emoticons.includes(t.slice(0,-1)))),i=r?t.slice(-1):"",o=n?" ":"";let a=e?e.emoji+o:r&&r.emoji+o+i;return a||t}function o(t){let e=iC.get(t);if(t.endsWith("_man:")&&e===t){const n="man-"+t.slice(1,-5).replace(cC,"-"),r=iC.get(n);r!==n&&(e=r)}else if(t.endsWith("_woman:")&&e===t){const n="woman-"+t.slice(1,-7).replace(cC,"-"),r=iC.get(n);r!==n&&(e=r)}return n&&e!==t?e+" ":e}function a(t){Gh(t,"text",(function(t){t.value=t.value.replace(aC,o),r&&(t.value=t.value.replace(sC,i))}))}return a}
/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */
var hC=function(){var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:b,toCodePoint:w},onerror:function(){this.parentNode&&this.parentNode.replaceChild(c(this.alt,!1),this)},parse:v,replace:_,test:x},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,i=String.fromCharCode(8205),o=/[&<>'"]/g,a=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,s=String.fromCharCode;return t;function c(t,e){return document.createTextNode(e?t.replace(r,""):t)}function l(t){return t.replace(o,g)}function u(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function h(t,e){var n,r,i=t.childNodes,o=i.length;while(o--)n=i[o],r=n.nodeType,3===r?e.push(n):1!==r||"ownerSVGElement"in n||a.test(n.nodeName.toLowerCase())||h(n,e);return e}function d(t){return w(t.indexOf(i)<0?t.replace(r,""):t)}function f(t,e){var r,i,o,a,s,l,u,f,p,g,m,y,b,v=h(t,[]),_=v.length;while(_--){o=!1,a=document.createDocumentFragment(),s=v[_],l=s.nodeValue,f=0;while(u=n.exec(l)){if(p=u.index,p!==f&&a.appendChild(c(l.slice(f,p),!0)),m=u[0],y=d(m),f=p+m.length,b=e.callback(y,e),y&&b){for(i in g=new Image,g.onerror=e.onerror,g.setAttribute("draggable","false"),r=e.attributes(m,y),r)r.hasOwnProperty(i)&&0!==i.indexOf("on")&&!g.hasAttribute(i)&&g.setAttribute(i,r[i]);g.className=e.className,g.alt=m,g.src=b,o=!0,a.appendChild(g)}g||a.appendChild(c(m,!1)),g=null}o&&(f<l.length&&a.appendChild(c(l.slice(f),!0)),s.parentNode.replaceChild(a,s))}return t}function p(t,e){return _(t,(function(t){var n,r,i=t,o=d(t),a=e.callback(o,e);if(o&&a){for(r in i="<img ".concat('class="',e.className,'" ','draggable="false" ','alt="',t,'"',' src="',a,'"'),n=e.attributes(t,o),n)n.hasOwnProperty(r)&&0!==r.indexOf("on")&&-1===i.indexOf(" "+r+"=")&&(i=i.concat(" ",r,'="',l(n[r]),'"'));i=i.concat("/>")}return i}))}function g(t){return e[t]}function m(){return null}function y(t){return"number"===typeof t?t+"x"+t:t}function b(t){var e="string"===typeof t?parseInt(t,16):t;return e<65536?s(e):(e-=65536,s(55296+(e>>10),56320+(1023&e)))}function v(e,n){return n&&"function"!==typeof n||(n={callback:n}),("string"===typeof e?p:f)(e,{callback:n.callback||u,attributes:"function"===typeof n.attributes?n.attributes:m,base:"string"===typeof n.base?n.base:t.base,ext:n.ext||t.ext,size:n.folder||y(n.size||t.size),className:n.className||t.className,onerror:n.onerror||t.onerror})}function _(t,e){return String(t).replace(n,e)}function x(t){n.lastIndex=0;var e=n.test(t);return n.lastIndex=0,e}function w(t,e){var n=[],r=0,i=0,o=0;while(o<t.length)r=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(r-56320)).toString(16)),i=0):55296<=r&&r<=56319?i=r:n.push(r.toString(16));return n.join(e||"-")}}(),dC=hC,fC=n(3121);const pC=/:\+1|:-1|:[\w-]+/,gC=/:\+1:|:-1:|:[\w-]+:/,mC=/(:([^:\s]+):)$/,yC=t=>({title:t}),bC=t=>dC.parse(t,{attributes:yC}),vC=(t,e,n,r,i,o)=>{if(t.composing)return!1;const{state:a}=t,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;const c=(s.parent.textBetween(Math.max(0,s.parentOffset-10),s.parentOffset,void 0,"")+r).toLowerCase();if(gC.test(c))return!1;const l=pC.exec(c);if(l&&l[0]&&c.endsWith(l[0])){const t=l[0];return i(e-(t.length-r.length),n),o(t),!0}return!1},_C=(t,e,n,r,i)=>{for(;e.firstChild;)e.firstChild.remove();t.forEach((({emoji:t,key:o},a)=>{const s=document.createElement("div");s.className="milkdown-emoji-filter_item";const c=document.createElement("span");c.innerHTML=bC(t),c.className="milkdown-emoji-filter_item-emoji";const l=document.createElement("span");l.textContent=":"+o+":",l.className="milkdown-emoji-filter_item-key",s.appendChild(c),s.appendChild(l),e.appendChild(s),0===a&&(s.classList.add("active"),i(s));const u=t=>{n&&n.classList.remove("active");const{target:e}=t;e instanceof HTMLElement&&(e.classList.add("active"),i(e))},h=t=>{const{target:e}=t;e instanceof HTMLElement&&e.classList.remove("active")},d=t=>{t.preventDefault(),r()};s.addEventListener("mouseenter",u),s.addEventListener("mouseleave",h),s.addEventListener("mousedown",d)}))},xC=(t,{css:e,cx:n})=>{const r=t.get(vg,void 0),i=t.get(Mg,void 0),o=t.get(Fg,"radius"),a=t.get(xg,"typography"),s=(e,n=1)=>t.get(_g,[e,n]),c=e`
        position: absolute;
        &.hide {
            display: none;
        }

        border-radius: ${o};
        background: ${s("surface")};

        .milkdown-emoji-filter_item {
            display: flex;
            gap: 8px;
            height: 36px;
            padding: 0 14px;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 2;
            font-family: ${a};
            font-size: 14px;
            &.active {
                background: ${s("secondary",.12)};
                color: ${s("primary")};
            }
        }

        .emoji {
            height: 14px;
            width: 14px;
            margin: 0 1px 0 1.5px;
            vertical-align: -1.5px;
        }
    `;return n(r,i,c)},wC=new Vn("MILKDOWN_EMOJI_FILTER"),kC=(t,e)=>{let n=!1,r=0,i="",o=null;const a=()=>{n=!1,r=0,i="",o=null};return new Wn({key:wC,props:{handleKeyDown(t,e){return["Delete","Backspace"].includes(e.key)?(i=i.slice(0,-1),i.length<=1&&a(),!1):!(!n||!["ArrowUp","ArrowDown","Enter"].includes(e.key))},handleTextInput(t,e,o,s){return n=vC(t,e,o,s,(t=>{r=t}),(t=>{i=t})),n||a(),!1}},view:s=>{const{parentNode:c}=s.dom;if(!c)throw k();const l=document.createElement("div");l.classList.add("milkdown-emoji-filter","hide"),t.themeManager.onFlush((()=>{const e=l.className.split(" ").filter((t=>["hide","milkdown-emoji-filter"].includes(t)));l.className=e.join(" ");const n=t.getStyle((e=>xC(t.themeManager,e)));n&&n.split(" ").forEach((t=>l.classList.add(t)))}));const u=()=>{var t;if(!o)return;const{tr:e}=s.state,n=s.state.schema.node("emoji",{html:null==(t=o.firstElementChild)?void 0:t.innerHTML});s.dispatch(e.delete(r,r+i.length).insert(r,n)),a(),l.classList.add("hide")};c.appendChild(l);const h=t=>{if(!n||!(t instanceof KeyboardEvent))return;const{key:e}=t;if("Enter"!==e){if(["ArrowDown","ArrowUp"].includes(e)){const t="ArrowDown"===e?(null==o?void 0:o.nextElementSibling)||l.firstElementChild:(null==o?void 0:o.previousElementSibling)||l.lastElementChild;if(o&&o.classList.remove("active"),!t)return;return t.classList.add("active"),void(o=t)}}else u()},d=t=>{!n||(t.stopPropagation(),a(),l.classList.add("hide"))};return c.addEventListener("keydown",h),c.addEventListener("mousedown",d),{update:t=>{const{selection:s}=t.state;if(s.from-s.to!==0||!n)return a(),l.classList.add("hide"),null;const c=iC.search(i).slice(0,e),{node:h}=t.domAtPos(r);return 0!==c.length&&h?(l.classList.remove("hide"),_C(c,l,o,u,(t=>{o=t})),us(t,l,((e,n,i)=>{const o=l.parentElement;if(!o)throw k();const a=t.coordsAtPos(r);let s=a.left-i.left,c=e.bottom-i.top+14+o.scrollTop;return s<0&&(s=0),window.innerHeight-a.bottom<n.height&&(c=e.top-i.top-n.height-14+o.scrollTop),[c,s]})),null):(l.classList.add("hide"),null)},destroy:()=>{c.removeEventListener("keydown",h),c.removeEventListener("mousedown",d),l.remove()}}}})},DC=fC(),CC=t=>!!t.children,EC=t=>!!t.value;function SC(t,e){return n(t,0,null)[0];function n(t,r,i){if(CC(t)){const e=[];for(let r=0,i=t.children.length;r<i;r++){const i=t.children[r];if(i){const o=n(i,r,t);if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t];n&&e.push(n)}}}t.children=e}return e(t,r,i)}}const TC=()=>{function t(t){SC(t,(t=>{if(!EC(t))return[t];const e=t.value,n=[];let r,i=e;for(;r=DC.exec(i);){const{index:e}=r,o=r[0];o&&(e>0&&n.push({...t,value:i.slice(0,e)}),n.push({...t,value:bC(o),type:"emoji"}),i=i.slice(e+o.length))}return i.length&&n.push({...t,value:i}),n}))}return t},AC=Lv(((t,e)=>{const n=()=>t.getStyle((({css:t})=>t`
                .emoji {
                    height: 1em;
                    width: 1em;
                    margin: 0 1px 0 1.5px;
                    vertical-align: -1.5px;
                }
            `));return{id:"emoji",schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{html:{default:""}},parseDOM:[{tag:'span[data-type="emoji"]',getAttrs:t=>{if(!(t instanceof HTMLElement))throw _(t);return{html:t.innerHTML}}}],toDOM:e=>{const r=document.createElement("span");return r.classList.add("emoji-wrapper"),r.dataset.type="emoji",t.themeManager.onFlush((()=>{const t=n();t&&r.classList.add(t)})),r.innerHTML=e.attrs.html,{dom:r}},parseMarkdown:{match:({type:t})=>"emoji"===t,runner:(t,e,n)=>{t.addNode(n,{html:e.value})}},toMarkdown:{match:t=>"emoji"===t.type.name,runner:(t,e)=>{const n=document.createElement("span");n.innerHTML=e.attrs.html;const r=n.querySelector("img"),i=null==r?void 0:r.title;n.remove(),t.addNode("text",void 0,i)}}}),inputRules:t=>[new Pv(mC,((e,n,r,i)=>{const o=n[0];if(!o)return null;const a=iC.get(o);if(!a||o.includes(a))return null;const s=bC(a);return e.tr.setMeta("emoji",!0).replaceRangeWith(r,i,t.create({html:s})).scrollIntoView()}))],remarkPlugins:()=>[uC,TC],prosePlugins:()=>{var n;return[kC(t,null!=(n=null==e?void 0:e.maxListSize)?n:6)]}}})),MC=av.create([AC()]);
/*! For license information please see mermaid.esm.min.mjs.LICENSE.txt */var FC={2536:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,6],n=[1,7],r=[1,8],i=[1,9],o=[1,16],a=[1,11],s=[1,12],l=[1,13],u=[1,14],h=[1,15],d=[1,27],f=[1,33],p=[1,34],g=[1,35],m=[1,36],y=[1,37],b=[1,72],v=[1,73],_=[1,74],x=[1,75],w=[1,76],k=[1,77],D=[1,78],C=[1,38],E=[1,39],S=[1,40],T=[1,41],A=[1,42],M=[1,43],F=[1,44],O=[1,45],N=[1,46],B=[1,47],I=[1,48],L=[1,49],R=[1,50],P=[1,51],j=[1,52],z=[1,53],$=[1,54],Y=[1,55],W=[1,56],U=[1,57],q=[1,59],V=[1,60],H=[1,61],G=[1,62],X=[1,63],J=[1,64],K=[1,65],Z=[1,66],Q=[1,67],tt=[1,68],et=[1,69],nt=[24,52],rt=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],it=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],ot=[1,94],at=[1,95],st=[1,96],ct=[1,97],lt=[15,24,52],ut=[7,8,9,10,18,22,25,26,27,28],ht=[15,24,43,52],dt=[15,24,43,52,86,87,89,90],ft=[15,43],pt=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],gt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:r.setDirection("TB");break;case 5:r.setDirection("BT");break;case 6:r.setDirection("RL");break;case 7:r.setDirection("LR");break;case 11:console.log("open_directive: ",o[s]),r.parseDirective("%%{","open_directive");break;case 12:break;case 13:o[s]=o[s].trim().replace(/'/g,'"'),console.log("arg_directive: ",o[s]),r.parseDirective(o[s],"arg_directive");break;case 14:console.log("close_directive: ",o[s]),r.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:r.setC4Type(o[s-3]);break;case 26:r.setTitle(o[s].substring(6)),this.$=o[s].substring(6);break;case 27:r.setAccDescription(o[s].substring(15)),this.$=o[s].substring(15);break;case 28:this.$=o[s].trim(),r.setTitle(this.$);break;case 29:case 30:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 35:case 36:console.log(o[s-1],JSON.stringify(o[s])),o[s].splice(2,0,"ENTERPRISE"),r.addPersonOrSystemBoundary(...o[s]),this.$=o[s];break;case 37:console.log(o[s-1],JSON.stringify(o[s])),r.addPersonOrSystemBoundary(...o[s]),this.$=o[s];break;case 38:console.log(o[s-1],JSON.stringify(o[s])),o[s].splice(2,0,"CONTAINER"),r.addContainerBoundary(...o[s]),this.$=o[s];break;case 39:console.log(o[s-1],JSON.stringify(o[s])),r.addDeploymentNode("node",...o[s]),this.$=o[s];break;case 40:console.log(o[s-1],JSON.stringify(o[s])),r.addDeploymentNode("nodeL",...o[s]),this.$=o[s];break;case 41:console.log(o[s-1],JSON.stringify(o[s])),r.addDeploymentNode("nodeR",...o[s]),this.$=o[s];break;case 42:r.popBoundaryParseStack();break;case 46:console.log(o[s-1],JSON.stringify(o[s])),r.addPersonOrSystem("person",...o[s]),this.$=o[s];break;case 47:console.log(o[s-1],JSON.stringify(o[s])),r.addPersonOrSystem("external_person",...o[s]),this.$=o[s];break;case 48:console.log(o[s-1],JSON.stringify(o[s])),r.addPersonOrSystem("system",...o[s]),this.$=o[s];break;case 49:console.log(o[s-1],JSON.stringify(o[s])),r.addPersonOrSystem("system_db",...o[s]),this.$=o[s];break;case 50:console.log(o[s-1],JSON.stringify(o[s])),r.addPersonOrSystem("system_queue",...o[s]),this.$=o[s];break;case 51:console.log(o[s-1],JSON.stringify(o[s])),r.addPersonOrSystem("external_system",...o[s]),this.$=o[s];break;case 52:console.log(o[s-1],JSON.stringify(o[s])),r.addPersonOrSystem("external_system_db",...o[s]),this.$=o[s];break;case 53:console.log(o[s-1],JSON.stringify(o[s])),r.addPersonOrSystem("external_system_queue",...o[s]),this.$=o[s];break;case 54:console.log(o[s-1],JSON.stringify(o[s])),r.addContainer("container",...o[s]),this.$=o[s];break;case 55:console.log(o[s-1],JSON.stringify(o[s])),r.addContainer("container_db",...o[s]),this.$=o[s];break;case 56:console.log(o[s-1],JSON.stringify(o[s])),r.addContainer("container_queue",...o[s]),this.$=o[s];break;case 57:console.log(o[s-1],JSON.stringify(o[s])),r.addContainer("external_container",...o[s]),this.$=o[s];break;case 58:console.log(o[s-1],JSON.stringify(o[s])),r.addContainer("external_container_db",...o[s]),this.$=o[s];break;case 59:console.log(o[s-1],JSON.stringify(o[s])),r.addContainer("external_container_queue",...o[s]),this.$=o[s];break;case 60:console.log(o[s-1],JSON.stringify(o[s])),r.addComponent("component",...o[s]),this.$=o[s];break;case 61:console.log(o[s-1],JSON.stringify(o[s])),r.addComponent("component_db",...o[s]),this.$=o[s];break;case 62:console.log(o[s-1],JSON.stringify(o[s])),r.addComponent("component_queue",...o[s]),this.$=o[s];break;case 63:console.log(o[s-1],JSON.stringify(o[s])),r.addComponent("external_component",...o[s]),this.$=o[s];break;case 64:console.log(o[s-1],JSON.stringify(o[s])),r.addComponent("external_component_db",...o[s]),this.$=o[s];break;case 65:console.log(o[s-1],JSON.stringify(o[s])),r.addComponent("external_component_queue",...o[s]),this.$=o[s];break;case 67:console.log(o[s-1],JSON.stringify(o[s])),r.addRel("rel",...o[s]),this.$=o[s];break;case 68:console.log(o[s-1],JSON.stringify(o[s])),r.addRel("birel",...o[s]),this.$=o[s];break;case 69:console.log(o[s-1],JSON.stringify(o[s])),r.addRel("rel_u",...o[s]),this.$=o[s];break;case 70:console.log(o[s-1],JSON.stringify(o[s])),r.addRel("rel_d",...o[s]),this.$=o[s];break;case 71:console.log(o[s-1],JSON.stringify(o[s])),r.addRel("rel_l",...o[s]),this.$=o[s];break;case 72:console.log(o[s-1],JSON.stringify(o[s])),r.addRel("rel_r",...o[s]),this.$=o[s];break;case 73:console.log(o[s-1],JSON.stringify(o[s])),r.addRel("rel_b",...o[s]),this.$=o[s];break;case 74:console.log(o[s-1],JSON.stringify(o[s])),o[s].splice(0,1),r.addRel("rel",...o[s]),this.$=o[s];break;case 75:console.log(o[s-1],JSON.stringify(o[s])),r.updateElStyle("update_el_style",...o[s]),this.$=o[s];break;case 76:console.log(o[s-1],JSON.stringify(o[s])),r.updateRelStyle("update_rel_style",...o[s]),this.$=o[s];break;case 77:console.log(o[s-1],JSON.stringify(o[s])),r.updateLayoutConfig("update_layout_config",...o[s]),this.$=o[s];break;case 78:console.log("PUSH ATTRIBUTE: ",o[s]),this.$=[o[s]];break;case 79:console.log("PUSH ATTRIBUTE: ",o[s-1]),o[s].unshift(o[s-1]),this.$=o[s];break;case 80:case 82:this.$=o[s].trim();break;case 81:console.log("kv: ",o[s-1],o[s]);let t={};t[o[s-1].trim()]=o[s].trim(),this.$=t;break;case 83:this.$=""}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:o,22:a,25:s,26:l,27:u,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:o,22:a,25:s,26:l,27:u,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:d},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:v,47:_,48:x,49:w,50:k,51:D,53:32,54:C,55:E,56:S,57:T,58:A,59:M,60:F,61:O,62:N,63:B,64:I,65:L,66:R,67:P,68:j,69:z,70:$,71:Y,72:W,73:U,74:q,75:V,76:H,77:G,78:X,79:J,80:K,81:Z,82:Q,83:tt,84:et},{23:79,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:v,47:_,48:x,49:w,50:k,51:D,53:32,54:C,55:E,56:S,57:T,58:A,59:M,60:F,61:O,62:N,63:B,64:I,65:L,66:R,67:P,68:j,69:z,70:$,71:Y,72:W,73:U,74:q,75:V,76:H,77:G,78:X,79:J,80:K,81:Z,82:Q,83:tt,84:et},{23:80,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:v,47:_,48:x,49:w,50:k,51:D,53:32,54:C,55:E,56:S,57:T,58:A,59:M,60:F,61:O,62:N,63:B,64:I,65:L,66:R,67:P,68:j,69:z,70:$,71:Y,72:W,73:U,74:q,75:V,76:H,77:G,78:X,79:J,80:K,81:Z,82:Q,83:tt,84:et},{23:81,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:v,47:_,48:x,49:w,50:k,51:D,53:32,54:C,55:E,56:S,57:T,58:A,59:M,60:F,61:O,62:N,63:B,64:I,65:L,66:R,67:P,68:j,69:z,70:$,71:Y,72:W,73:U,74:q,75:V,76:H,77:G,78:X,79:J,80:K,81:Z,82:Q,83:tt,84:et},{23:82,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:v,47:_,48:x,49:w,50:k,51:D,53:32,54:C,55:E,56:S,57:T,58:A,59:M,60:F,61:O,62:N,63:B,64:I,65:L,66:R,67:P,68:j,69:z,70:$,71:Y,72:W,73:U,74:q,75:V,76:H,77:G,78:X,79:J,80:K,81:Z,82:Q,83:tt,84:et},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(nt,[2,20],{53:32,39:58,40:70,42:71,30:87,44:b,46:v,47:_,48:x,49:w,50:k,51:D,54:C,55:E,56:S,57:T,58:A,59:M,60:F,61:O,62:N,63:B,64:I,65:L,66:R,67:P,68:j,69:z,70:$,71:Y,72:W,73:U,74:q,75:V,76:H,77:G,78:X,79:J,80:K,81:Z,82:Q,83:tt,84:et}),t(nt,[2,21]),t(rt,[2,23],{15:[1,88]}),t(nt,[2,43],{15:[1,89]}),t(it,[2,26]),t(it,[2,27]),{35:[1,90]},{37:[1,91]},t(it,[2,30]),{45:92,85:93,86:ot,87:at,89:st,90:ct},{45:98,85:93,86:ot,87:at,89:st,90:ct},{45:99,85:93,86:ot,87:at,89:st,90:ct},{45:100,85:93,86:ot,87:at,89:st,90:ct},{45:101,85:93,86:ot,87:at,89:st,90:ct},{45:102,85:93,86:ot,87:at,89:st,90:ct},{45:103,85:93,86:ot,87:at,89:st,90:ct},{45:104,85:93,86:ot,87:at,89:st,90:ct},{45:105,85:93,86:ot,87:at,89:st,90:ct},{45:106,85:93,86:ot,87:at,89:st,90:ct},{45:107,85:93,86:ot,87:at,89:st,90:ct},{45:108,85:93,86:ot,87:at,89:st,90:ct},{45:109,85:93,86:ot,87:at,89:st,90:ct},{45:110,85:93,86:ot,87:at,89:st,90:ct},{45:111,85:93,86:ot,87:at,89:st,90:ct},{45:112,85:93,86:ot,87:at,89:st,90:ct},{45:113,85:93,86:ot,87:at,89:st,90:ct},{45:114,85:93,86:ot,87:at,89:st,90:ct},{45:115,85:93,86:ot,87:at,89:st,90:ct},{45:116,85:93,86:ot,87:at,89:st,90:ct},t(lt,[2,66]),{45:117,85:93,86:ot,87:at,89:st,90:ct},{45:118,85:93,86:ot,87:at,89:st,90:ct},{45:119,85:93,86:ot,87:at,89:st,90:ct},{45:120,85:93,86:ot,87:at,89:st,90:ct},{45:121,85:93,86:ot,87:at,89:st,90:ct},{45:122,85:93,86:ot,87:at,89:st,90:ct},{45:123,85:93,86:ot,87:at,89:st,90:ct},{45:124,85:93,86:ot,87:at,89:st,90:ct},{45:125,85:93,86:ot,87:at,89:st,90:ct},{45:126,85:93,86:ot,87:at,89:st,90:ct},{45:127,85:93,86:ot,87:at,89:st,90:ct},{30:128,39:58,40:70,42:71,44:b,46:v,47:_,48:x,49:w,50:k,51:D,53:32,54:C,55:E,56:S,57:T,58:A,59:M,60:F,61:O,62:N,63:B,64:I,65:L,66:R,67:P,68:j,69:z,70:$,71:Y,72:W,73:U,74:q,75:V,76:H,77:G,78:X,79:J,80:K,81:Z,82:Q,83:tt,84:et},{15:[1,130],43:[1,129]},{45:131,85:93,86:ot,87:at,89:st,90:ct},{45:132,85:93,86:ot,87:at,89:st,90:ct},{45:133,85:93,86:ot,87:at,89:st,90:ct},{45:134,85:93,86:ot,87:at,89:st,90:ct},{45:135,85:93,86:ot,87:at,89:st,90:ct},{45:136,85:93,86:ot,87:at,89:st,90:ct},{45:137,85:93,86:ot,87:at,89:st,90:ct},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(ut,[2,9]),{14:142,21:d},{21:[2,13]},{1:[2,15]},t(nt,[2,22]),t(rt,[2,24],{31:31,29:143,32:f,33:p,34:g,36:m,38:y}),t(nt,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:f,33:p,34:g,36:m,38:y,44:b,46:v,47:_,48:x,49:w,50:k,51:D,54:C,55:E,56:S,57:T,58:A,59:M,60:F,61:O,62:N,63:B,64:I,65:L,66:R,67:P,68:j,69:z,70:$,71:Y,72:W,73:U,74:q,75:V,76:H,77:G,78:X,79:J,80:K,81:Z,82:Q,83:tt,84:et}),t(it,[2,28]),t(it,[2,29]),t(lt,[2,46]),t(ht,[2,78],{85:93,45:145,86:ot,87:at,89:st,90:ct}),t(dt,[2,80]),{88:[1,146]},t(dt,[2,82]),t(dt,[2,83]),t(lt,[2,47]),t(lt,[2,48]),t(lt,[2,49]),t(lt,[2,50]),t(lt,[2,51]),t(lt,[2,52]),t(lt,[2,53]),t(lt,[2,54]),t(lt,[2,55]),t(lt,[2,56]),t(lt,[2,57]),t(lt,[2,58]),t(lt,[2,59]),t(lt,[2,60]),t(lt,[2,61]),t(lt,[2,62]),t(lt,[2,63]),t(lt,[2,64]),t(lt,[2,65]),t(lt,[2,67]),t(lt,[2,68]),t(lt,[2,69]),t(lt,[2,70]),t(lt,[2,71]),t(lt,[2,72]),t(lt,[2,73]),t(lt,[2,74]),t(lt,[2,75]),t(lt,[2,76]),t(lt,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(ft,[2,35]),t(ft,[2,36]),t(ft,[2,37]),t(ft,[2,38]),t(ft,[2,39]),t(ft,[2,40]),t(ft,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t(rt,[2,25]),t(nt,[2,45]),t(ht,[2,79]),t(dt,[2,81]),t(lt,[2,31]),t(lt,[2,42]),t(pt,[2,32]),t(pt,[2,33],{15:[1,152]}),t(ut,[2,10]),t(pt,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},mt={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:case 21:break;case 19:c;break;case 20:return 15;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),console.log("begin person_ext"),55;case 28:return this.begin("person"),console.log("begin person"),54;case 29:return this.begin("system_ext_queue"),console.log("begin system_ext_queue"),61;case 30:return this.begin("system_ext_db"),console.log("begin system_ext_db"),60;case 31:return this.begin("system_ext"),console.log("begin system_ext"),59;case 32:return this.begin("system_queue"),console.log("begin system_queue"),58;case 33:return this.begin("system_db"),console.log("begin system_db"),57;case 34:return this.begin("system"),console.log("begin system"),56;case 35:return this.begin("boundary"),console.log("begin boundary"),47;case 36:return this.begin("enterprise_boundary"),console.log("begin enterprise_boundary"),44;case 37:return this.begin("system_boundary"),console.log("begin system_boundary"),46;case 38:return this.begin("container_ext_queue"),console.log("begin container_ext_queue"),67;case 39:return this.begin("container_ext_db"),console.log("begin container_ext_db"),66;case 40:return this.begin("container_ext"),console.log("begin container_ext"),65;case 41:return this.begin("container_queue"),console.log("begin container_queue"),64;case 42:return this.begin("container_db"),console.log("begin container_db"),63;case 43:return this.begin("container"),console.log("begin container"),62;case 44:return this.begin("container_boundary"),console.log("begin container_boundary"),48;case 45:return this.begin("component_ext_queue"),console.log("begin component_ext_queue"),73;case 46:return this.begin("component_ext_db"),console.log("begin component_ext_db"),72;case 47:return this.begin("component_ext"),console.log("begin component_ext"),71;case 48:return this.begin("component_queue"),console.log("begin component_queue"),70;case 49:return this.begin("component_db"),console.log("begin component_db"),69;case 50:return this.begin("component"),console.log("begin component"),68;case 51:case 52:return this.begin("node"),console.log("begin node"),49;case 53:return this.begin("node_l"),console.log("begin node_l"),50;case 54:return this.begin("node_r"),console.log("begin node_r"),51;case 55:return this.begin("rel"),console.log("begin rel"),74;case 56:return this.begin("birel"),console.log("begin birel"),75;case 57:case 58:return this.begin("rel_u"),console.log("begin rel_u"),76;case 59:case 60:return this.begin("rel_d"),console.log("begin rel_d"),77;case 61:case 62:return this.begin("rel_l"),console.log("begin rel_l"),78;case 63:case 64:return this.begin("rel_r"),console.log("begin rel_r"),79;case 65:return this.begin("rel_b"),console.log("begin rel_b"),80;case 66:return this.begin("rel_index"),console.log("begin rel_index"),81;case 67:return this.begin("update_el_style"),console.log("begin update_el_style"),82;case 68:return this.begin("update_rel_style"),console.log("begin update_rel_style"),83;case 69:return this.begin("update_layout_config"),console.log("begin update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return console.log("begin attribute with ATTRIBUTE_EMPTY"),this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:console.log("begin attribute"),this.begin("attribute");break;case 73:console.log("STOP attribute"),this.popState(),console.log("STOP diagram"),this.popState();break;case 74:return console.log(",,"),90;case 75:console.log(",");break;case 76:return console.log("ATTRIBUTE_EMPTY"),90;case 77:console.log("begin string"),this.begin("string");break;case 78:console.log("STOP string"),this.popState();break;case 79:return console.log("STR"),"STR";case 80:console.log("begin string_kv"),this.begin("string_kv");break;case 81:return console.log("STR_KEY"),this.begin("string_kv_key"),"STR_KEY";case 82:console.log("begin string_kv_value"),this.popState(),this.begin("string_kv_value");break;case 83:return console.log("STR_VALUE"),"STR_VALUE";case 84:console.log("STOP string_kv_value"),this.popState(),this.popState();break;case 85:return console.log("not STR"),"STR";case 86:return console.log("begin boundary block"),"LBRACE";case 87:return console.log("STOP boundary block"),"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};function yt(){this.yy={}}return gt.lexer=mt,yt.prototype=gt,gt.Parser=yt,new yt}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(555).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},1362:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,7],r=[1,8],i=[1,9],o=[1,10],a=[1,13],s=[1,12],c=[1,16,25],l=[1,20],u=[1,31],h=[1,32],d=[1,33],f=[1,35],p=[1,38],g=[1,36],m=[1,37],y=[1,39],b=[1,40],v=[1,41],_=[1,42],x=[1,45],w=[1,46],k=[1,47],D=[1,48],C=[16,25],E=[1,62],S=[1,63],T=[1,64],A=[1,65],M=[1,66],F=[1,67],O=[16,25,32,44,45,53,56,57,58,59,60,61,66,68],N=[16,25,30,32,44,45,49,53,56,57,58,59,60,61,66,68,83,84,85,86],B=[5,8,9,10,11,16,19,23,25],I=[53,83,84,85,86],L=[53,60,61,83,84,85,86],R=[53,56,57,58,59,83,84,85,86],P=[16,25,32],j=[1,99],z={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,acc_title:38,acc_title_value:39,acc_descr:40,acc_descr_value:41,acc_descr_multiline_value:42,CLASS:43,STYLE_SEPARATOR:44,STRUCT_START:45,members:46,STRUCT_STOP:47,ANNOTATION_START:48,ANNOTATION_END:49,MEMBER:50,SEPARATOR:51,relation:52,STR:53,relationType:54,lineType:55,AGGREGATION:56,EXTENSION:57,COMPOSITION:58,DEPENDENCY:59,LINE:60,DOTTED_LINE:61,CALLBACK:62,LINK:63,LINK_TARGET:64,CLICK:65,CALLBACK_NAME:66,CALLBACK_ARGS:67,HREF:68,CSSCLASS:69,commentToken:70,textToken:71,graphCodeTokens:72,textNoTagsToken:73,TAGSTART:74,TAGEND:75,"==":76,"--":77,PCT:78,DEFAULT:79,SPACE:80,MINUS:81,keywords:82,UNICODE_TEXT:83,NUM:84,ALPHA:85,BQUOTE_STR:86,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",38:"acc_title",39:"acc_title_value",40:"acc_descr",41:"acc_descr_value",42:"acc_descr_multiline_value",43:"CLASS",44:"STYLE_SEPARATOR",45:"STRUCT_START",47:"STRUCT_STOP",48:"ANNOTATION_START",49:"ANNOTATION_END",50:"MEMBER",51:"SEPARATOR",53:"STR",56:"AGGREGATION",57:"EXTENSION",58:"COMPOSITION",59:"DEPENDENCY",60:"LINE",61:"DOTTED_LINE",62:"CALLBACK",63:"LINK",64:"LINK_TARGET",65:"CLICK",66:"CALLBACK_NAME",67:"CALLBACK_ARGS",68:"HREF",69:"CSSCLASS",72:"graphCodeTokens",74:"TAGSTART",75:"TAGEND",76:"==",77:"--",78:"PCT",79:"DEFAULT",80:"SPACE",81:"MINUS",82:"keywords",83:"UNICODE_TEXT",84:"NUM",85:"ALPHA",86:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[46,1],[46,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[52,3],[52,2],[52,2],[52,1],[54,1],[54,1],[54,1],[54,1],[55,1],[55,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[70,1],[70,1],[71,1],[71,1],[71,1],[71,1],[71,1],[71,1],[71,1],[73,1],[73,1],[73,1],[73,1],[28,1],[28,1],[28,1],[29,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 5:r.setDirection("TB");break;case 6:r.setDirection("BT");break;case 7:r.setDirection("RL");break;case 8:r.setDirection("LR");break;case 12:r.parseDirective("%%{","open_directive");break;case 13:r.parseDirective(o[s],"type_directive");break;case 14:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 15:r.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=o[s];break;case 22:this.$=o[s-1]+o[s];break;case 23:case 24:this.$=o[s-1]+"~"+o[s];break;case 25:r.addRelation(o[s]);break;case 26:o[s-1].title=r.cleanupLabel(o[s]),r.addRelation(o[s-1]);break;case 34:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 35:case 36:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 37:r.addClass(o[s]);break;case 38:r.addClass(o[s-2]),r.setCssClass(o[s-2],o[s]);break;case 39:r.addClass(o[s-3]),r.addMembers(o[s-3],o[s-1]);break;case 40:r.addClass(o[s-5]),r.setCssClass(o[s-5],o[s-3]),r.addMembers(o[s-5],o[s-1]);break;case 41:r.addAnnotation(o[s],o[s-2]);break;case 42:this.$=[o[s]];break;case 43:o[s].push(o[s-1]),this.$=o[s];break;case 44:case 46:case 47:break;case 45:r.addMember(o[s-1],r.cleanupLabel(o[s]));break;case 48:this.$={id1:o[s-2],id2:o[s],relation:o[s-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:o[s-3],id2:o[s],relation:o[s-1],relationTitle1:o[s-2],relationTitle2:"none"};break;case 50:this.$={id1:o[s-3],id2:o[s],relation:o[s-2],relationTitle1:"none",relationTitle2:o[s-1]};break;case 51:this.$={id1:o[s-4],id2:o[s],relation:o[s-2],relationTitle1:o[s-3],relationTitle2:o[s-1]};break;case 52:this.$={type1:o[s-2],type2:o[s],lineType:o[s-1]};break;case 53:this.$={type1:"none",type2:o[s],lineType:o[s-1]};break;case 54:this.$={type1:o[s-1],type2:"none",lineType:o[s]};break;case 55:this.$={type1:"none",type2:"none",lineType:o[s]};break;case 56:this.$=r.relationType.AGGREGATION;break;case 57:this.$=r.relationType.EXTENSION;break;case 58:this.$=r.relationType.COMPOSITION;break;case 59:this.$=r.relationType.DEPENDENCY;break;case 60:this.$=r.lineType.LINE;break;case 61:this.$=r.lineType.DOTTED_LINE;break;case 62:case 68:this.$=o[s-2],r.setClickEvent(o[s-1],o[s]);break;case 63:case 69:this.$=o[s-3],r.setClickEvent(o[s-2],o[s-1]),r.setTooltip(o[s-2],o[s]);break;case 64:case 72:this.$=o[s-2],r.setLink(o[s-1],o[s]);break;case 65:case 73:this.$=o[s-3],r.setLink(o[s-2],o[s-1],o[s]);break;case 66:case 74:this.$=o[s-3],r.setLink(o[s-2],o[s-1]),r.setTooltip(o[s-2],o[s]);break;case 67:case 75:this.$=o[s-4],r.setLink(o[s-3],o[s-2],o[s]),r.setTooltip(o[s-3],o[s-1]);break;case 70:this.$=o[s-3],r.setClickEvent(o[s-2],o[s-1],o[s]);break;case 71:this.$=o[s-4],r.setClickEvent(o[s-3],o[s-2],o[s-1]),r.setTooltip(o[s-3],o[s]);break;case 76:r.setCssClass(o[s-1],o[s])}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:o,12:6,13:11,19:a,23:s},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:o,12:6,13:11,19:a,23:s},{1:[2,9]},t(c,[2,5]),t(c,[2,6]),t(c,[2,7]),t(c,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:l},t([17,22],[2,13]),{6:30,7:29,8:n,9:r,10:i,11:o,13:11,19:a,24:21,26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:u,40:h,42:d,43:f,48:p,50:g,51:m,62:y,63:b,65:v,69:_,83:x,84:w,85:k,86:D},{16:[1,49]},{18:50,21:[1,51]},{16:[2,15]},{25:[1,52]},{16:[1,53],25:[2,17]},t(C,[2,25],{32:[1,54]}),t(C,[2,27]),t(C,[2,28]),t(C,[2,29]),t(C,[2,30]),t(C,[2,31]),t(C,[2,32]),t(C,[2,33]),{39:[1,55]},{41:[1,56]},t(C,[2,36]),t(C,[2,44],{52:57,54:60,55:61,32:[1,59],53:[1,58],56:E,57:S,58:T,59:A,60:M,61:F}),{27:68,28:43,29:44,83:x,84:w,85:k,86:D},t(C,[2,46]),t(C,[2,47]),{28:69,83:x,84:w,85:k},{27:70,28:43,29:44,83:x,84:w,85:k,86:D},{27:71,28:43,29:44,83:x,84:w,85:k,86:D},{27:72,28:43,29:44,83:x,84:w,85:k,86:D},{53:[1,73]},t(O,[2,20],{28:43,29:44,27:74,30:[1,75],83:x,84:w,85:k,86:D}),t(O,[2,21],{30:[1,76]}),t(N,[2,90]),t(N,[2,91]),t(N,[2,92]),t([16,25,30,32,44,45,53,56,57,58,59,60,61,66,68],[2,93]),t(B,[2,10]),{15:77,22:l},{22:[2,14]},{1:[2,16]},{6:30,7:29,8:n,9:r,10:i,11:o,13:11,19:a,24:78,25:[2,18],26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:u,40:h,42:d,43:f,48:p,50:g,51:m,62:y,63:b,65:v,69:_,83:x,84:w,85:k,86:D},t(C,[2,26]),t(C,[2,34]),t(C,[2,35]),{27:79,28:43,29:44,53:[1,80],83:x,84:w,85:k,86:D},{52:81,54:60,55:61,56:E,57:S,58:T,59:A,60:M,61:F},t(C,[2,45]),{55:82,60:M,61:F},t(I,[2,55],{54:83,56:E,57:S,58:T,59:A}),t(L,[2,56]),t(L,[2,57]),t(L,[2,58]),t(L,[2,59]),t(R,[2,60]),t(R,[2,61]),t(C,[2,37],{44:[1,84],45:[1,85]}),{49:[1,86]},{53:[1,87]},{53:[1,88]},{66:[1,89],68:[1,90]},{28:91,83:x,84:w,85:k},t(O,[2,22]),t(O,[2,23]),t(O,[2,24]),{16:[1,92]},{25:[2,19]},t(P,[2,48]),{27:93,28:43,29:44,83:x,84:w,85:k,86:D},{27:94,28:43,29:44,53:[1,95],83:x,84:w,85:k,86:D},t(I,[2,54],{54:96,56:E,57:S,58:T,59:A}),t(I,[2,53]),{28:97,83:x,84:w,85:k},{46:98,50:j},{27:100,28:43,29:44,83:x,84:w,85:k,86:D},t(C,[2,62],{53:[1,101]}),t(C,[2,64],{53:[1,103],64:[1,102]}),t(C,[2,68],{53:[1,104],67:[1,105]}),t(C,[2,72],{53:[1,107],64:[1,106]}),t(C,[2,76]),t(B,[2,11]),t(P,[2,50]),t(P,[2,49]),{27:108,28:43,29:44,83:x,84:w,85:k,86:D},t(I,[2,52]),t(C,[2,38],{45:[1,109]}),{47:[1,110]},{46:111,47:[2,42],50:j},t(C,[2,41]),t(C,[2,63]),t(C,[2,65]),t(C,[2,66],{64:[1,112]}),t(C,[2,69]),t(C,[2,70],{53:[1,113]}),t(C,[2,73]),t(C,[2,74],{64:[1,114]}),t(P,[2,51]),{46:115,50:j},t(C,[2,39]),{47:[2,43]},t(C,[2,67]),t(C,[2,71]),t(C,[2,75]),{47:[1,116]},t(C,[2,40])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],51:[2,14],52:[2,16],78:[2,19],111:[2,43]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},$={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:case 10:case 19:case 26:break;case 11:return this.begin("acc_title"),38;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),40;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 36:case 39:case 42:case 45:case 48:case 51:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 20:case 21:return 23;case 22:return this.begin("struct"),45;case 23:return"EOF_IN_STRUCT";case 24:return"OPEN_IN_STRUCT";case 25:return this.popState(),47;case 27:return"MEMBER";case 28:return 43;case 29:return 69;case 30:return 62;case 31:return 63;case 32:return 65;case 33:return 48;case 34:return 49;case 35:this.begin("generic");break;case 37:return"GENERICTYPE";case 38:this.begin("string");break;case 40:return"STR";case 41:this.begin("bqstring");break;case 43:return"BQUOTE_STR";case 44:this.begin("href");break;case 46:return 68;case 47:this.begin("callback_name");break;case 49:this.popState(),this.begin("callback_args");break;case 50:return 66;case 52:return 67;case 53:case 54:case 55:case 56:return 64;case 57:case 58:return 57;case 59:case 60:return 59;case 61:return 58;case 62:return 56;case 63:return 60;case 64:return 61;case 65:return 32;case 66:return 44;case 67:return 81;case 68:return"DOT";case 69:return"PLUS";case 70:return 78;case 71:case 72:return"EQUALS";case 73:return 85;case 74:return"PUNCTUATION";case 75:return 84;case 76:return 83;case 77:return 80;case 78:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[51,52],inclusive:!1},callback_name:{rules:[48,49,50],inclusive:!1},href:{rules:[45,46],inclusive:!1},struct:{rules:[23,24,25,26,27],inclusive:!1},generic:{rules:[36,37],inclusive:!1},bqstring:{rules:[42,43],inclusive:!1},string:{rules:[39,40],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,28,29,30,31,32,33,34,35,38,41,44,47,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78],inclusive:!0}}};function Y(){this.yy={}}return z.lexer=$,Y.prototype=z,z.Parser=Y,new Y}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(8218).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},5890:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,5],r=[6,9,11,23,25,27,29,30,49],i=[1,17],o=[1,18],a=[1,19],s=[1,20],c=[1,21],l=[1,24],u=[1,29],h=[1,30],d=[1,31],f=[1,32],p=[6,9,11,15,20,23,25,27,29,30,42,43,44,45,49],g=[1,45],m=[30,46,47],y=[4,6,9,11,23,25,27,29,30,49],b=[42,43,44,45],v=[22,37],_=[1,64],x={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,".":31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:".",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,3],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:o[s-1].push(o[s]),this.$=o[s-1];break;case 5:case 6:case 20:case 28:case 29:case 30:case 40:this.$=o[s];break;case 12:r.addEntity(o[s-4]),r.addEntity(o[s-2]),r.addRelationship(o[s-4],o[s],o[s-2],o[s-3]);break;case 13:r.addEntity(o[s-3]),r.addAttributes(o[s-3],o[s-1]);break;case 14:r.addEntity(o[s-2]);break;case 15:r.addEntity(o[s]);break;case 16:case 17:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 21:this.$=o[s-2]+o[s-1]+o[s];break;case 22:this.$=[o[s]];break;case 23:o[s].push(o[s-1]),this.$=o[s];break;case 24:this.$={attributeType:o[s-1],attributeName:o[s]};break;case 25:this.$={attributeType:o[s-2],attributeName:o[s-1],attributeKeyType:o[s]};break;case 26:this.$={attributeType:o[s-2],attributeName:o[s-1],attributeComment:o[s]};break;case 27:this.$={attributeType:o[s-3],attributeName:o[s-2],attributeKeyType:o[s-1],attributeComment:o[s]};break;case 31:case 39:this.$=o[s].replace(/"/g,"");break;case 32:this.$={cardA:o[s],relType:o[s-1],cardB:o[s-2]};break;case 33:this.$=r.Cardinality.ZERO_OR_ONE;break;case 34:this.$=r.Cardinality.ZERO_OR_MORE;break;case 35:this.$=r.Cardinality.ONE_OR_MORE;break;case 36:this.$=r.Cardinality.ONLY_ONE;break;case 37:this.$=r.Identification.NON_IDENTIFYING;break;case 38:this.$=r.Identification.IDENTIFYING;break;case 41:r.parseDirective("%%{","open_directive");break;case 42:r.parseDirective(o[s],"type_directive");break;case 43:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 44:r.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:e,7:3,12:4,49:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,49:n},{13:8,50:[1,9]},{50:[2,41]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:i,25:o,27:a,29:s,30:c,49:n},{1:[2,2]},{14:22,15:[1,23],52:l},t([15,52],[2,42]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:15,10:25,12:4,17:16,23:i,25:o,27:a,29:s,30:c,49:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),t(r,[2,15],{18:26,40:28,20:[1,27],42:u,43:h,44:d,45:f}),{24:[1,33]},{26:[1,34]},{28:[1,35]},t(r,[2,19]),t(p,[2,20],{31:[1,36]}),{11:[1,37]},{16:38,51:[1,39]},{11:[2,44]},t(r,[2,5]),{17:40,30:c},{21:41,22:[1,42],32:43,33:44,37:g},{41:46,46:[1,47],47:[1,48]},t(m,[2,33]),t(m,[2,34]),t(m,[2,35]),t(m,[2,36]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),{17:49,30:c},t(y,[2,9]),{14:50,52:l},{52:[2,43]},{15:[1,51]},{22:[1,52]},t(r,[2,14]),{21:53,22:[2,22],32:43,33:44,37:g},{34:54,37:[1,55]},{37:[2,28]},{40:56,42:u,43:h,44:d,45:f},t(b,[2,37]),t(b,[2,38]),t(p,[2,21]),{11:[1,57]},{19:58,30:[1,60],48:[1,59]},t(r,[2,13]),{22:[2,23]},t(v,[2,24],{35:61,36:62,38:[1,63],39:_}),t([22,37,38,39],[2,29]),{30:[2,32]},t(y,[2,10]),t(r,[2,12]),t(r,[2,39]),t(r,[2,40]),t(v,[2,25],{36:65,39:_}),t(v,[2,26]),t([22,37,39],[2,30]),t(v,[2,31]),t(v,[2,27])],defaultActions:{5:[2,41],7:[2,2],24:[2,44],39:[2,43],45:[2,28],53:[2,23],56:[2,32]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},w={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:case 13:case 15:case 20:case 24:break;case 14:return 11;case 16:return 9;case 17:return 48;case 18:return 4;case 19:return this.begin("block"),20;case 21:return 38;case 22:return 37;case 23:return 39;case 25:return this.popState(),22;case 26:case 39:return e.yytext[0];case 27:case 31:return 42;case 28:case 32:return 43;case 29:case 33:return 44;case 30:return 45;case 34:case 36:case 37:return 46;case 35:return 47;case 38:return 30;case 40:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[20,21,22,23,24,25,26],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,27,28,29,30,31,32,33,34,35,36,37,38,39,40],inclusive:!0}}};function k(){this.yy={}}return x.lexer=w,k.prototype=x,x.Parser=k,new k}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(8009).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},3602:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,9],n=[1,7],r=[1,6],i=[1,8],o=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],a=[2,10],s=[1,20],c=[1,21],l=[1,22],u=[1,23],h=[1,30],d=[1,32],f=[1,33],p=[1,34],g=[1,62],m=[1,48],y=[1,52],b=[1,36],v=[1,37],_=[1,38],x=[1,39],w=[1,40],k=[1,56],D=[1,63],C=[1,51],E=[1,53],S=[1,55],T=[1,59],A=[1,60],M=[1,41],F=[1,42],O=[1,43],N=[1,44],B=[1,61],I=[1,50],L=[1,54],R=[1,57],P=[1,58],j=[1,49],z=[1,66],$=[1,71],Y=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],W=[1,75],U=[1,74],q=[1,76],V=[20,21,23,81,82],H=[1,99],G=[1,104],X=[1,107],J=[1,108],K=[1,101],Z=[1,106],Q=[1,109],tt=[1,102],et=[1,114],nt=[1,113],rt=[1,103],it=[1,105],ot=[1,110],at=[1,111],st=[1,112],ct=[1,115],lt=[20,21,22,23,81,82],ut=[20,21,22,23,53,81,82],ht=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],dt=[20,21,23],ft=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],pt=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],gt=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],mt=[1,149],yt=[1,157],bt=[1,158],vt=[1,159],_t=[1,160],xt=[1,144],wt=[1,145],kt=[1,141],Dt=[1,152],Ct=[1,153],Et=[1,154],St=[1,155],Tt=[1,156],At=[1,161],Mt=[1,162],Ft=[1,147],Ot=[1,150],Nt=[1,146],Bt=[1,143],It=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Lt=[1,165],Rt=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],Pt=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],jt=[12,21,22,24],zt=[22,106],$t=[1,250],Yt=[1,245],Wt=[1,246],Ut=[1,254],qt=[1,251],Vt=[1,248],Ht=[1,247],Gt=[1,249],Xt=[1,252],Jt=[1,253],Kt=[1,255],Zt=[1,273],Qt=[20,21,23,106],te=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],ee={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 5:r.parseDirective("%%{","open_directive");break;case 6:r.parseDirective(o[s],"type_directive");break;case 7:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 8:r.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:o[s]!==[]&&o[s-1].push(o[s]),this.$=o[s-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:case 78:case 150:this.$=o[s];break;case 19:r.setDirection("TB"),this.$="TB";break;case 20:r.setDirection(o[s-1]),this.$=o[s-1];break;case 35:this.$=o[s-1].nodes;break;case 41:this.$=r.addSubGraph(o[s-6],o[s-1],o[s-4]);break;case 42:this.$=r.addSubGraph(o[s-3],o[s-1],o[s-3]);break;case 43:this.$=r.addSubGraph(void 0,o[s-1],void 0);break;case 45:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 46:case 47:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 51:r.addLink(o[s-2].stmt,o[s],o[s-1]),this.$={stmt:o[s],nodes:o[s].concat(o[s-2].nodes)};break;case 52:r.addLink(o[s-3].stmt,o[s-1],o[s-2]),this.$={stmt:o[s-1],nodes:o[s-1].concat(o[s-3].nodes)};break;case 53:this.$={stmt:o[s-1],nodes:o[s-1]};break;case 54:this.$={stmt:o[s],nodes:o[s]};break;case 55:case 123:case 125:this.$=[o[s]];break;case 56:this.$=o[s-4].concat(o[s]);break;case 57:this.$=[o[s-2]],r.setClass(o[s-2],o[s]);break;case 58:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"square");break;case 59:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"doublecircle");break;case 60:this.$=o[s-5],r.addVertex(o[s-5],o[s-2],"circle");break;case 61:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"ellipse");break;case 62:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"stadium");break;case 63:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"subroutine");break;case 64:this.$=o[s-7],r.addVertex(o[s-7],o[s-1],"rect",void 0,void 0,void 0,Object.fromEntries([[o[s-5],o[s-3]]]));break;case 65:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"cylinder");break;case 66:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"round");break;case 67:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"diamond");break;case 68:this.$=o[s-5],r.addVertex(o[s-5],o[s-2],"hexagon");break;case 69:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"odd");break;case 70:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"trapezoid");break;case 71:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"inv_trapezoid");break;case 72:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"lean_right");break;case 73:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"lean_left");break;case 74:this.$=o[s],r.addVertex(o[s]);break;case 75:o[s-1].text=o[s],this.$=o[s-1];break;case 76:case 77:o[s-2].text=o[s-1],this.$=o[s-2];break;case 79:var c=r.destructLink(o[s],o[s-2]);this.$={type:c.type,stroke:c.stroke,length:c.length,text:o[s-1]};break;case 80:c=r.destructLink(o[s]),this.$={type:c.type,stroke:c.stroke,length:c.length};break;case 81:this.$=o[s-1];break;case 83:case 97:case 153:case 151:this.$=o[s-1]+""+o[s];break;case 98:case 99:this.$=o[s-4],r.addClass(o[s-2],o[s]);break;case 100:this.$=o[s-4],r.setClass(o[s-2],o[s]);break;case 101:case 109:this.$=o[s-1],r.setClickEvent(o[s-1],o[s]);break;case 102:case 110:this.$=o[s-3],r.setClickEvent(o[s-3],o[s-2]),r.setTooltip(o[s-3],o[s]);break;case 103:this.$=o[s-2],r.setClickEvent(o[s-2],o[s-1],o[s]);break;case 104:this.$=o[s-4],r.setClickEvent(o[s-4],o[s-3],o[s-2]),r.setTooltip(o[s-4],o[s]);break;case 105:case 111:this.$=o[s-1],r.setLink(o[s-1],o[s]);break;case 106:case 112:this.$=o[s-3],r.setLink(o[s-3],o[s-2]),r.setTooltip(o[s-3],o[s]);break;case 107:case 113:this.$=o[s-3],r.setLink(o[s-3],o[s-2],o[s]);break;case 108:case 114:this.$=o[s-5],r.setLink(o[s-5],o[s-4],o[s]),r.setTooltip(o[s-5],o[s-2]);break;case 115:this.$=o[s-4],r.addVertex(o[s-2],void 0,void 0,o[s]);break;case 116:case 118:this.$=o[s-4],r.updateLink(o[s-2],o[s]);break;case 117:this.$=o[s-4],r.updateLink([o[s-2]],o[s]);break;case 119:this.$=o[s-8],r.updateLinkInterpolate([o[s-6]],o[s-2]),r.updateLink([o[s-6]],o[s]);break;case 120:this.$=o[s-8],r.updateLinkInterpolate(o[s-6],o[s-2]),r.updateLink(o[s-6],o[s]);break;case 121:this.$=o[s-6],r.updateLinkInterpolate([o[s-4]],o[s]);break;case 122:this.$=o[s-6],r.updateLinkInterpolate(o[s-4],o[s]);break;case 124:case 126:o[s-2].push(o[s]),this.$=o[s-2];break;case 128:this.$=o[s-1]+o[s];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},t(o,a,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:r,24:i},{16:15,21:n,22:r,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:s,21:c,22:l,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,43:31,44:d,46:f,48:p,50:35,51:45,52:g,54:46,66:m,67:y,86:b,87:v,88:_,89:x,90:w,91:k,95:D,105:C,106:E,109:S,111:T,112:A,116:47,118:M,119:F,120:O,121:N,122:B,123:I,124:L,125:R,126:P,127:j},{8:64,10:[1,65],15:z},t([10,15],[2,6]),t(o,[2,17]),t(o,[2,18]),t(o,[2,19]),{20:[1,68],21:[1,69],22:$,27:67,30:70},t(Y,[2,11]),t(Y,[2,12]),t(Y,[2,13]),t(Y,[2,14]),t(Y,[2,15]),t(Y,[2,16]),{9:72,20:W,21:U,23:q,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:W,21:U,23:q},{9:81,20:W,21:U,23:q},{9:82,20:W,21:U,23:q},{9:83,20:W,21:U,23:q},{9:84,20:W,21:U,23:q},{9:86,20:W,21:U,22:[1,85],23:q},t(Y,[2,44]),{45:[1,87]},{47:[1,88]},t(Y,[2,47]),t(V,[2,54],{30:89,22:$}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:H,52:G,66:X,67:J,84:[1,97],91:K,97:96,98:[1,94],100:[1,95],105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(Y,[2,158]),t(Y,[2,159]),t(Y,[2,160]),t(Y,[2,161]),t(lt,[2,55],{53:[1,116]}),t(ut,[2,74],{116:129,40:[1,117],52:g,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:m,67:y,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:k,95:D,105:C,106:E,109:S,111:T,112:A,122:B,123:I,124:L,125:R,126:P,127:j}),t(ht,[2,150]),t(ht,[2,175]),t(ht,[2,176]),t(ht,[2,177]),t(ht,[2,178]),t(ht,[2,179]),t(ht,[2,180]),t(ht,[2,181]),t(ht,[2,182]),t(ht,[2,183]),t(ht,[2,184]),t(ht,[2,185]),t(ht,[2,186]),t(ht,[2,187]),t(ht,[2,188]),t(ht,[2,189]),t(ht,[2,190]),{9:130,20:W,21:U,23:q},{11:131,14:[1,132]},t(dt,[2,8]),t(o,[2,20]),t(o,[2,26]),t(o,[2,27]),{21:[1,133]},t(ft,[2,34],{30:134,22:$}),t(Y,[2,35]),{50:135,51:45,52:g,54:46,66:m,67:y,91:k,95:D,105:C,106:E,109:S,111:T,112:A,116:47,122:B,123:I,124:L,125:R,126:P,127:j},t(pt,[2,48]),t(pt,[2,49]),t(pt,[2,50]),t(gt,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:mt,24:yt,26:bt,38:vt,39:139,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(Y,[2,36]),t(Y,[2,37]),t(Y,[2,38]),t(Y,[2,39]),t(Y,[2,40]),{22:mt,24:yt,26:bt,38:vt,39:163,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(It,a,{17:164}),t(Y,[2,45]),t(Y,[2,46]),t(V,[2,53],{52:Lt}),{26:H,52:G,66:X,67:J,91:K,97:166,102:[1,167],105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:ct},{95:[1,168],103:169,105:[1,170]},{26:H,52:G,66:X,67:J,91:K,95:[1,171],97:172,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:ct},{26:H,52:G,66:X,67:J,91:K,97:173,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(dt,[2,101],{22:[1,174],99:[1,175]}),t(dt,[2,105],{22:[1,176]}),t(dt,[2,109],{115:100,117:178,22:[1,177],26:H,52:G,66:X,67:J,91:K,105:Z,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:ct}),t(dt,[2,111],{22:[1,179]}),t(Rt,[2,152]),t(Rt,[2,154]),t(Rt,[2,155]),t(Rt,[2,156]),t(Rt,[2,157]),t(Pt,[2,162]),t(Pt,[2,163]),t(Pt,[2,164]),t(Pt,[2,165]),t(Pt,[2,166]),t(Pt,[2,167]),t(Pt,[2,168]),t(Pt,[2,169]),t(Pt,[2,170]),t(Pt,[2,171]),t(Pt,[2,172]),t(Pt,[2,173]),t(Pt,[2,174]),{52:g,54:180,66:m,67:y,91:k,95:D,105:C,106:E,109:S,111:T,112:A,116:47,122:B,123:I,124:L,125:R,126:P,127:j},{22:mt,24:yt,26:bt,38:vt,39:181,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:182,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:184,42:_t,52:G,57:[1,183],66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:185,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:186,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:187,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{66:[1,188]},{22:mt,24:yt,26:bt,38:vt,39:189,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:190,42:_t,52:G,66:X,67:J,71:[1,191],73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:192,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:193,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:194,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(ht,[2,151]),t(jt,[2,3]),{8:195,15:z},{15:[2,7]},t(o,[2,28]),t(ft,[2,33]),t(V,[2,51],{30:196,22:$}),t(gt,[2,75],{22:[1,197]}),{22:[1,198]},{22:mt,24:yt,26:bt,38:vt,39:199,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,66:X,67:J,73:xt,81:wt,82:[1,200],83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(Pt,[2,82]),t(Pt,[2,84]),t(Pt,[2,140]),t(Pt,[2,141]),t(Pt,[2,142]),t(Pt,[2,143]),t(Pt,[2,144]),t(Pt,[2,145]),t(Pt,[2,146]),t(Pt,[2,147]),t(Pt,[2,148]),t(Pt,[2,149]),t(Pt,[2,85]),t(Pt,[2,86]),t(Pt,[2,87]),t(Pt,[2,88]),t(Pt,[2,89]),t(Pt,[2,90]),t(Pt,[2,91]),t(Pt,[2,92]),t(Pt,[2,93]),t(Pt,[2,94]),t(Pt,[2,95]),{9:203,20:W,21:U,22:mt,23:q,24:yt,26:bt,38:vt,40:[1,202],42:_t,52:G,66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{18:18,19:19,20:s,21:c,22:l,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,204],43:31,44:d,46:f,48:p,50:35,51:45,52:g,54:46,66:m,67:y,86:b,87:v,88:_,89:x,90:w,91:k,95:D,105:C,106:E,109:S,111:T,112:A,116:47,118:M,119:F,120:O,121:N,122:B,123:I,124:L,125:R,126:P,127:j},{22:$,30:205},{22:[1,206],26:H,52:G,66:X,67:J,91:K,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:178,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t(zt,[2,123]),{22:[1,211]},{22:[1,212],26:H,52:G,66:X,67:J,91:K,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:178,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:[1,213],26:H,52:G,66:X,67:J,91:K,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:178,122:rt,123:it,124:ot,125:at,126:st,127:ct},{84:[1,214]},t(dt,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(Rt,[2,153]),{84:[1,219],101:[1,220]},t(lt,[2,57],{116:129,52:g,66:m,67:y,91:k,95:D,105:C,106:E,109:S,111:T,112:A,122:B,123:I,124:L,125:R,126:P,127:j}),{22:mt,24:yt,26:bt,38:vt,41:[1,221],42:_t,52:G,66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,56:[1,222],66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:223,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,58:[1,224],66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,60:[1,225],66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,62:[1,226],66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,64:[1,227],66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{67:[1,228]},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,66:X,67:J,70:[1,229],73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,66:X,67:J,72:[1,230],73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,39:231,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,41:[1,232],42:_t,52:G,66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,66:X,67:J,73:xt,75:[1,233],77:[1,234],81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,66:X,67:J,73:xt,75:[1,236],77:[1,235],81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{9:237,20:W,21:U,23:q},t(V,[2,52],{52:Lt}),t(gt,[2,77]),t(gt,[2,76]),{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,66:X,67:J,68:[1,238],73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(gt,[2,79]),t(Pt,[2,83]),{22:mt,24:yt,26:bt,38:vt,39:239,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(It,a,{17:240}),t(Y,[2,43]),{51:241,52:g,54:46,66:m,67:y,91:k,95:D,105:C,106:E,109:S,111:T,112:A,116:47,122:B,123:I,124:L,125:R,126:P,127:j},{22:$t,66:Yt,67:Wt,86:Ut,96:242,102:qt,105:Vt,107:243,108:244,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt},{22:$t,66:Yt,67:Wt,86:Ut,96:256,102:qt,105:Vt,107:243,108:244,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt},{22:$t,66:Yt,67:Wt,86:Ut,96:257,102:qt,104:[1,258],105:Vt,107:243,108:244,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt},{22:$t,66:Yt,67:Wt,86:Ut,96:259,102:qt,104:[1,260],105:Vt,107:243,108:244,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt},{105:[1,261]},{22:$t,66:Yt,67:Wt,86:Ut,96:262,102:qt,105:Vt,107:243,108:244,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt},{22:$t,66:Yt,67:Wt,86:Ut,96:263,102:qt,105:Vt,107:243,108:244,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt},{26:H,52:G,66:X,67:J,91:K,97:264,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(dt,[2,102]),{84:[1,265]},t(dt,[2,106],{22:[1,266]}),t(dt,[2,107]),t(dt,[2,110]),t(dt,[2,112],{22:[1,267]}),t(dt,[2,113]),t(ut,[2,58]),t(ut,[2,59]),{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,58:[1,268],66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(ut,[2,66]),t(ut,[2,61]),t(ut,[2,62]),t(ut,[2,63]),{66:[1,269]},t(ut,[2,65]),t(ut,[2,67]),{22:mt,24:yt,26:bt,38:vt,42:_t,52:G,66:X,67:J,72:[1,270],73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(ut,[2,69]),t(ut,[2,70]),t(ut,[2,72]),t(ut,[2,71]),t(ut,[2,73]),t(jt,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:mt,24:yt,26:bt,38:vt,41:[1,271],42:_t,52:G,66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{18:18,19:19,20:s,21:c,22:l,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,272],43:31,44:d,46:f,48:p,50:35,51:45,52:g,54:46,66:m,67:y,86:b,87:v,88:_,89:x,90:w,91:k,95:D,105:C,106:E,109:S,111:T,112:A,116:47,118:M,119:F,120:O,121:N,122:B,123:I,124:L,125:R,126:P,127:j},t(lt,[2,56]),t(dt,[2,115],{106:Zt}),t(Qt,[2,125],{108:274,22:$t,66:Yt,67:Wt,86:Ut,102:qt,105:Vt,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt}),t(te,[2,127]),t(te,[2,129]),t(te,[2,130]),t(te,[2,131]),t(te,[2,132]),t(te,[2,133]),t(te,[2,134]),t(te,[2,135]),t(te,[2,136]),t(te,[2,137]),t(te,[2,138]),t(te,[2,139]),t(dt,[2,116],{106:Zt}),t(dt,[2,117],{106:Zt}),{22:[1,275]},t(dt,[2,118],{106:Zt}),{22:[1,276]},t(zt,[2,124]),t(dt,[2,98],{106:Zt}),t(dt,[2,99],{106:Zt}),t(dt,[2,100],{115:100,117:178,26:H,52:G,66:X,67:J,91:K,105:Z,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:ct}),t(dt,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:W,21:U,23:q},t(Y,[2,42]),{22:$t,66:Yt,67:Wt,86:Ut,102:qt,105:Vt,107:283,108:244,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt},t(te,[2,128]),{26:H,52:G,66:X,67:J,91:K,97:284,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:ct},{26:H,52:G,66:X,67:J,91:K,97:285,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(dt,[2,108]),t(dt,[2,114]),t(ut,[2,60]),{22:mt,24:yt,26:bt,38:vt,39:286,42:_t,52:G,66:X,67:J,73:xt,81:wt,83:140,84:kt,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},t(ut,[2,68]),t(It,a,{17:287}),t(Qt,[2,126],{108:274,22:$t,66:Yt,67:Wt,86:Ut,102:qt,105:Vt,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt}),t(dt,[2,121],{115:100,117:178,22:[1,288],26:H,52:G,66:X,67:J,91:K,105:Z,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:ct}),t(dt,[2,122],{115:100,117:178,22:[1,289],26:H,52:G,66:X,67:J,91:K,105:Z,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:ct}),{22:mt,24:yt,26:bt,38:vt,41:[1,290],42:_t,52:G,66:X,67:J,73:xt,81:wt,83:201,85:151,86:Dt,87:Ct,88:Et,89:St,90:Tt,91:At,92:Mt,94:142,95:Ft,105:Z,106:Q,109:Ot,111:et,112:nt,113:Nt,114:Bt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:ct},{18:18,19:19,20:s,21:c,22:l,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,291],43:31,44:d,46:f,48:p,50:35,51:45,52:g,54:46,66:m,67:y,86:b,87:v,88:_,89:x,90:w,91:k,95:D,105:C,106:E,109:S,111:T,112:A,116:47,118:M,119:F,120:O,121:N,122:B,123:I,124:L,125:R,126:P,127:j},{22:$t,66:Yt,67:Wt,86:Ut,96:292,102:qt,105:Vt,107:243,108:244,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt},{22:$t,66:Yt,67:Wt,86:Ut,96:293,102:qt,105:Vt,107:243,108:244,109:Ht,110:Gt,111:Xt,112:Jt,113:Kt},t(ut,[2,64]),t(Y,[2,41]),t(dt,[2,119],{106:Zt}),t(dt,[2,120],{106:Zt})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},ne={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:case 15:case 24:case 27:case 30:case 33:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 25:return 100;case 26:this.begin("callbackname");break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 31:return 99;case 32:this.begin("click");break;case 34:return 90;case 35:case 36:return t.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:case 40:case 41:case 42:return 101;case 43:return this.popState(),25;case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:case 67:case 68:return 82;case 69:case 70:case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};function re(){this.yy={}}return ee.lexer=ne,re.prototype=ee,ee.Parser=re,new re}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(5354).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},9959:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,5],r=[7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],i=[1,15],o=[1,16],a=[1,17],s=[1,18],c=[1,19],l=[1,20],u=[1,21],h=[1,22],d=[1,23],f=[1,24],p=[1,25],g=[1,26],m=[1,28],y=[1,30],b=[1,33],v=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],_={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,clickStatement:26,taskTxt:27,taskData:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,click:34,callbackname:35,callbackargs:36,href:37,clickStatementDebug:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"taskTxt",28:"taskData",32:":",34:"click",35:"callbackname",36:"callbackargs",37:"href",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[26,2],[26,3],[26,3],[26,4],[26,3],[26,4],[26,2],[38,2],[38,3],[38,3],[38,4],[38,3],[38,4],[38,2],[29,1],[30,1],[33,1],[31,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 2:return o[s-1];case 3:case 7:case 8:this.$=[];break;case 4:o[s-1].push(o[s]),this.$=o[s-1];break;case 5:case 6:this.$=o[s];break;case 9:r.setDateFormat(o[s].substr(11)),this.$=o[s].substr(11);break;case 10:r.enableInclusiveEndDates(),this.$=o[s].substr(18);break;case 11:r.TopAxis(),this.$=o[s].substr(8);break;case 12:r.setAxisFormat(o[s].substr(11)),this.$=o[s].substr(11);break;case 13:r.setExcludes(o[s].substr(9)),this.$=o[s].substr(9);break;case 14:r.setIncludes(o[s].substr(9)),this.$=o[s].substr(9);break;case 15:r.setTodayMarker(o[s].substr(12)),this.$=o[s].substr(12);break;case 16:r.setDiagramTitle(o[s].substr(6)),this.$=o[s].substr(6);break;case 17:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 20:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 22:r.addTask(o[s-1],o[s]),this.$="task";break;case 26:this.$=o[s-1],r.setClickEvent(o[s-1],o[s],null);break;case 27:this.$=o[s-2],r.setClickEvent(o[s-2],o[s-1],o[s]);break;case 28:this.$=o[s-2],r.setClickEvent(o[s-2],o[s-1],null),r.setLink(o[s-2],o[s]);break;case 29:this.$=o[s-3],r.setClickEvent(o[s-3],o[s-2],o[s-1]),r.setLink(o[s-3],o[s]);break;case 30:this.$=o[s-2],r.setClickEvent(o[s-2],o[s],null),r.setLink(o[s-2],o[s-1]);break;case 31:this.$=o[s-3],r.setClickEvent(o[s-3],o[s-1],o[s]),r.setLink(o[s-3],o[s-2]);break;case 32:this.$=o[s-1],r.setLink(o[s-1],o[s]);break;case 33:case 39:this.$=o[s-1]+" "+o[s];break;case 34:case 35:case 37:this.$=o[s-2]+" "+o[s-1]+" "+o[s];break;case 36:case 38:this.$=o[s-3]+" "+o[s-2]+" "+o[s-1]+" "+o[s];break;case 40:r.parseDirective("%%{","open_directive");break;case 41:r.parseDirective(o[s],"type_directive");break;case 42:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 43:r.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:e,29:4,39:n},{1:[3]},{3:6,4:2,5:e,29:4,39:n},t(r,[2,3],{6:7}),{30:8,40:[1,9]},{40:[2,40]},{1:[2,1]},{4:29,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:i,13:o,14:a,15:s,16:c,17:l,18:u,19:h,20:d,22:f,24:p,25:g,26:27,27:m,29:4,34:y,39:n},{31:31,32:[1,32],42:b},t([32,42],[2,41]),t(r,[2,8],{1:[2,2]}),t(r,[2,4]),{4:29,10:34,12:i,13:o,14:a,15:s,16:c,17:l,18:u,19:h,20:d,22:f,24:p,25:g,26:27,27:m,29:4,34:y,39:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),t(r,[2,12]),t(r,[2,13]),t(r,[2,14]),t(r,[2,15]),t(r,[2,16]),{21:[1,35]},{23:[1,36]},t(r,[2,19]),t(r,[2,20]),t(r,[2,21]),{28:[1,37]},t(r,[2,23]),{35:[1,38],37:[1,39]},{11:[1,40]},{33:41,41:[1,42]},{11:[2,43]},t(r,[2,5]),t(r,[2,17]),t(r,[2,18]),t(r,[2,22]),t(r,[2,26],{36:[1,43],37:[1,44]}),t(r,[2,32],{35:[1,45]}),t(v,[2,24]),{31:46,42:b},{42:[2,42]},t(r,[2,27],{37:[1,47]}),t(r,[2,28]),t(r,[2,30],{36:[1,48]}),{11:[1,49]},t(r,[2,29]),t(r,[2,31]),t(v,[2,25])],defaultActions:{5:[2,40],6:[2,1],33:[2,43],42:[2,42]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},x={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 20:case 23:case 26:case 29:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:case 13:case 14:case 16:case 17:case 18:break;case 15:return 11;case 19:this.begin("href");break;case 21:return 37;case 22:this.begin("callbackname");break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 35;case 27:return 36;case 28:this.begin("click");break;case 30:return 34;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 17;case 37:return 16;case 38:return 18;case 39:return"date";case 40:return 19;case 41:return"accDescription";case 42:return 25;case 43:return 27;case 44:return 28;case 45:return 32;case 46:return 7;case 47:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}};function w(){this.yy={}}return _.lexer=x,w.prototype=_,_.Parser=w,new w}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(6878).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},2553:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,4],n=[1,7],r=[1,5],i=[1,9],o=[1,6],a=[2,6],s=[1,16],c=[6,8,14,20,22,24,25,27,29,32,35,37,49,53],l=[8,14,20,22,24,25,27,29,32,35,37],u=[8,13,14,20,22,24,25,27,29,32,35,37],h=[1,26],d=[6,8,14,49,53],f=[8,14,53],p=[1,64],g=[1,65],m=[1,66],y=[8,14,33,36,41,53],b={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ID:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,MERGE:35,COMMIT_TAG:36,COMMIT:37,commit_arg:38,COMMIT_TYPE:39,commitType:40,COMMIT_MSG:41,NORMAL:42,REVERSE:43,HIGHLIGHT:44,openDirective:45,typeDirective:46,closeDirective:47,argDirective:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,";":53,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",28:"ID",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"MERGE",36:"COMMIT_TAG",37:"COMMIT",39:"COMMIT_TYPE",41:"COMMIT_MSG",42:"NORMAL",43:"REVERSE",44:"HIGHLIGHT",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive",53:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[18,2],[18,4],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[38,0],[38,1],[40,1],[40,1],[40,1],[5,3],[5,5],[45,1],[46,1],[48,1],[47,1],[4,1],[4,1],[4,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 3:return o[s];case 4:return o[s-1];case 5:return r.setDirection(o[s-3]),o[s-1];case 7:r.setOptions(o[s-1]),this.$=o[s];break;case 8:o[s-1]+=o[s],this.$=o[s-1];break;case 10:this.$=[];break;case 11:o[s-1].push(o[s]),this.$=o[s-1];break;case 12:this.$=o[s-1];break;case 17:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 20:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 22:r.checkout(o[s]);break;case 23:r.branch(o[s]);break;case 24:r.branch(o[s-2],o[s]);break;case 25:r.cherryPick(o[s]);break;case 26:r.merge(o[s]);break;case 27:r.merge(o[s-2],o[s]);break;case 28:r.commit(o[s]);break;case 29:r.commit("","",r.commitType.NORMAL,o[s]);break;case 30:r.commit("","",o[s],"");break;case 31:r.commit("","",o[s],o[s-2]);break;case 32:r.commit("","",o[s-2],o[s]);break;case 33:r.commit("",o[s],r.commitType.NORMAL,"");break;case 34:r.commit("",o[s-2],r.commitType.NORMAL,o[s]);break;case 35:r.commit("",o[s],r.commitType.NORMAL,o[s-2]);break;case 36:r.commit("",o[s-2],o[s],"");break;case 37:r.commit("",o[s],o[s-2],"");break;case 38:r.commit("",o[s-4],o[s-2],o[s]);break;case 39:r.commit("",o[s-4],o[s],o[s-2]);break;case 40:r.commit("",o[s-2],o[s-4],o[s]);break;case 41:r.commit("",o[s],o[s-4],o[s-2]);break;case 42:r.commit("",o[s],o[s-2],o[s-4]);break;case 43:r.commit("",o[s-2],o[s],o[s-4]);break;case 44:r.commit(o[s],"",r.commitType.NORMAL,"");break;case 45:r.commit(o[s],"",r.commitType.NORMAL,o[s-2]);break;case 46:r.commit(o[s-2],"",r.commitType.NORMAL,o[s]);break;case 47:r.commit(o[s-2],"",o[s],"");break;case 48:r.commit(o[s],"",o[s-2],"");break;case 49:r.commit(o[s],o[s-2],r.commitType.NORMAL,"");break;case 50:r.commit(o[s-2],o[s],r.commitType.NORMAL,"");break;case 51:r.commit(o[s-4],"",o[s-2],o[s]);break;case 52:r.commit(o[s-4],"",o[s],o[s-2]);break;case 53:r.commit(o[s-2],"",o[s-4],o[s]);break;case 54:r.commit(o[s],"",o[s-4],o[s-2]);break;case 55:r.commit(o[s],"",o[s-2],o[s-4]);break;case 56:r.commit(o[s-2],"",o[s],o[s-4]);break;case 57:r.commit(o[s-4],o[s],o[s-2],"");break;case 58:r.commit(o[s-4],o[s-2],o[s],"");break;case 59:r.commit(o[s-2],o[s],o[s-4],"");break;case 60:r.commit(o[s],o[s-2],o[s-4],"");break;case 61:r.commit(o[s],o[s-4],o[s-2],"");break;case 62:r.commit(o[s-2],o[s-4],o[s],"");break;case 63:r.commit(o[s-4],o[s],r.commitType.NORMAL,o[s-2]);break;case 64:r.commit(o[s-4],o[s-2],r.commitType.NORMAL,o[s]);break;case 65:r.commit(o[s-2],o[s],r.commitType.NORMAL,o[s-4]);break;case 66:r.commit(o[s],o[s-2],r.commitType.NORMAL,o[s-4]);break;case 67:r.commit(o[s],o[s-4],r.commitType.NORMAL,o[s-2]);break;case 68:r.commit(o[s-2],o[s-4],r.commitType.NORMAL,o[s]);break;case 69:r.commit(o[s-6],o[s-4],o[s-2],o[s]);break;case 70:r.commit(o[s-6],o[s-4],o[s],o[s-2]);break;case 71:r.commit(o[s-6],o[s-2],o[s-4],o[s]);break;case 72:r.commit(o[s-6],o[s],o[s-4],o[s-2]);break;case 73:r.commit(o[s-6],o[s-2],o[s],o[s-4]);break;case 74:r.commit(o[s-6],o[s],o[s-2],o[s-4]);break;case 75:r.commit(o[s-4],o[s-6],o[s-2],o[s]);break;case 76:r.commit(o[s-4],o[s-6],o[s],o[s-2]);break;case 77:r.commit(o[s-2],o[s-6],o[s-4],o[s]);break;case 78:r.commit(o[s],o[s-6],o[s-4],o[s-2]);break;case 79:r.commit(o[s-2],o[s-6],o[s],o[s-4]);break;case 80:r.commit(o[s],o[s-6],o[s-2],o[s-4]);break;case 81:r.commit(o[s],o[s-4],o[s-2],o[s-6]);break;case 82:r.commit(o[s-2],o[s-4],o[s],o[s-6]);break;case 83:r.commit(o[s],o[s-2],o[s-4],o[s-6]);break;case 84:r.commit(o[s-2],o[s],o[s-4],o[s-6]);break;case 85:r.commit(o[s-4],o[s-2],o[s],o[s-6]);break;case 86:r.commit(o[s-4],o[s],o[s-2],o[s-6]);break;case 87:r.commit(o[s-2],o[s-4],o[s-6],o[s]);break;case 88:r.commit(o[s],o[s-4],o[s-6],o[s-2]);break;case 89:r.commit(o[s-2],o[s],o[s-6],o[s-4]);break;case 90:r.commit(o[s],o[s-2],o[s-6],o[s-4]);break;case 91:r.commit(o[s-4],o[s-2],o[s-6],o[s]);break;case 92:r.commit(o[s-4],o[s],o[s-6],o[s-2]);break;case 93:this.$="";break;case 94:this.$=o[s];break;case 95:this.$=r.commitType.NORMAL;break;case 96:this.$=r.commitType.REVERSE;break;case 97:this.$=r.commitType.HIGHLIGHT;break;case 100:r.parseDirective("%%{","open_directive");break;case 101:r.parseDirective(o[s],"type_directive");break;case 102:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 103:r.parseDirective("}%%","close_directive","gitGraph")}},table:[{3:1,4:2,5:3,6:e,8:n,14:r,45:8,49:i,53:o},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:r,45:8,49:i,53:o},{3:11,4:2,5:3,6:e,8:n,14:r,45:8,49:i,53:o},{7:12,8:a,9:[1,13],10:[1,14],11:15,14:s},t(c,[2,104]),t(c,[2,105]),t(c,[2,106]),{46:17,50:[1,18]},{50:[2,100]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:a,11:15,14:s},{9:[1,21]},t(l,[2,10],{12:22,13:[1,23]}),t(u,[2,9]),{9:[1,25],47:24,52:h},t([9,52],[2,101]),{1:[2,3]},{8:[1,27]},{7:28,8:a,11:15,14:s},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],35:[1,42],37:[1,41]},t(u,[2,8]),t(d,[2,98]),{48:45,51:[1,46]},t(d,[2,103]),{1:[2,4]},{8:[1,47]},t(l,[2,11]),{4:48,8:n,14:r,53:o},t(l,[2,13]),t(f,[2,14]),t(f,[2,15]),t(f,[2,16]),{21:[1,49]},{23:[1,50]},t(f,[2,19]),t(f,[2,20]),t(f,[2,21]),{28:[1,51]},t(f,[2,93],{38:52,33:[1,55],34:[1,57],36:[1,53],39:[1,54],41:[1,56]}),{28:[1,58]},{33:[1,59]},{28:[1,60]},{47:61,52:h},{52:[2,102]},{1:[2,5]},t(l,[2,12]),t(f,[2,17]),t(f,[2,18]),t(f,[2,22]),t(f,[2,28]),{34:[1,62]},{40:63,42:p,43:g,44:m},{34:[1,67]},{34:[1,68]},t(f,[2,94]),t(f,[2,26],{36:[1,69]}),{34:[1,70]},t(f,[2,23],{30:[1,71]}),t(d,[2,99]),t(f,[2,29],{33:[1,73],39:[1,72],41:[1,74]}),t(f,[2,30],{33:[1,76],36:[1,75],41:[1,77]}),t(y,[2,95]),t(y,[2,96]),t(y,[2,97]),t(f,[2,33],{36:[1,78],39:[1,79],41:[1,80]}),t(f,[2,44],{33:[1,83],36:[1,81],39:[1,82]}),{34:[1,84]},t(f,[2,25]),{31:[1,85]},{40:86,42:p,43:g,44:m},{34:[1,87]},{34:[1,88]},{34:[1,89]},{34:[1,90]},{34:[1,91]},{34:[1,92]},{40:93,42:p,43:g,44:m},{34:[1,94]},{34:[1,95]},{40:96,42:p,43:g,44:m},{34:[1,97]},t(f,[2,27]),t(f,[2,24]),t(f,[2,31],{33:[1,98],41:[1,99]}),t(f,[2,35],{39:[1,100],41:[1,101]}),t(f,[2,45],{33:[1,103],39:[1,102]}),t(f,[2,32],{33:[1,104],41:[1,105]}),t(f,[2,37],{36:[1,106],41:[1,107]}),t(f,[2,48],{33:[1,109],36:[1,108]}),t(f,[2,34],{39:[1,110],41:[1,111]}),t(f,[2,36],{36:[1,112],41:[1,113]}),t(f,[2,49],{36:[1,115],39:[1,114]}),t(f,[2,46],{33:[1,117],39:[1,116]}),t(f,[2,47],{33:[1,119],36:[1,118]}),t(f,[2,50],{36:[1,121],39:[1,120]}),{34:[1,122]},{34:[1,123]},{40:124,42:p,43:g,44:m},{34:[1,125]},{40:126,42:p,43:g,44:m},{34:[1,127]},{34:[1,128]},{34:[1,129]},{34:[1,130]},{34:[1,131]},{34:[1,132]},{34:[1,133]},{40:134,42:p,43:g,44:m},{34:[1,135]},{34:[1,136]},{34:[1,137]},{40:138,42:p,43:g,44:m},{34:[1,139]},{40:140,42:p,43:g,44:m},{34:[1,141]},{34:[1,142]},{34:[1,143]},{40:144,42:p,43:g,44:m},{34:[1,145]},t(f,[2,42],{41:[1,146]}),t(f,[2,55],{33:[1,147]}),t(f,[2,43],{41:[1,148]}),t(f,[2,66],{39:[1,149]}),t(f,[2,56],{33:[1,150]}),t(f,[2,65],{39:[1,151]}),t(f,[2,41],{41:[1,152]}),t(f,[2,54],{33:[1,153]}),t(f,[2,40],{41:[1,154]}),t(f,[2,60],{36:[1,155]}),t(f,[2,53],{33:[1,156]}),t(f,[2,59],{36:[1,157]}),t(f,[2,39],{41:[1,158]}),t(f,[2,67],{39:[1,159]}),t(f,[2,38],{41:[1,160]}),t(f,[2,61],{36:[1,161]}),t(f,[2,62],{36:[1,162]}),t(f,[2,68],{39:[1,163]}),t(f,[2,52],{33:[1,164]}),t(f,[2,63],{39:[1,165]}),t(f,[2,51],{33:[1,166]}),t(f,[2,57],{36:[1,167]}),t(f,[2,58],{36:[1,168]}),t(f,[2,64],{39:[1,169]}),{34:[1,170]},{34:[1,171]},{34:[1,172]},{40:173,42:p,43:g,44:m},{34:[1,174]},{40:175,42:p,43:g,44:m},{34:[1,176]},{34:[1,177]},{34:[1,178]},{34:[1,179]},{34:[1,180]},{34:[1,181]},{34:[1,182]},{40:183,42:p,43:g,44:m},{34:[1,184]},{34:[1,185]},{34:[1,186]},{40:187,42:p,43:g,44:m},{34:[1,188]},{40:189,42:p,43:g,44:m},{34:[1,190]},{34:[1,191]},{34:[1,192]},{40:193,42:p,43:g,44:m},t(f,[2,83]),t(f,[2,84]),t(f,[2,81]),t(f,[2,82]),t(f,[2,86]),t(f,[2,85]),t(f,[2,90]),t(f,[2,89]),t(f,[2,88]),t(f,[2,87]),t(f,[2,92]),t(f,[2,91]),t(f,[2,80]),t(f,[2,79]),t(f,[2,78]),t(f,[2,77]),t(f,[2,75]),t(f,[2,76]),t(f,[2,74]),t(f,[2,73]),t(f,[2,72]),t(f,[2,71]),t(f,[2,69]),t(f,[2,70])],defaultActions:{9:[2,100],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,102],47:[2,5]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},v={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),49;case 1:return this.begin("type_directive"),50;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),52;case 4:return 51;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 35:case 38:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:case 14:case 15:break;case 16:return 6;case 17:return 37;case 18:return 33;case 19:return 39;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 36;case 25:return 29;case 26:return 30;case 27:return 35;case 28:return 32;case 29:return 27;case 30:case 31:return 10;case 32:return 9;case 33:return"CARET";case 34:this.begin("options");break;case 36:return 13;case 37:this.begin("string");break;case 39:return 34;case 40:return 31;case 41:return 28;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit\b)/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch\b)/i,/^(?:order:)/i,/^(?:merge\b)/i,/^(?:cherry-pick\b)/i,/^(?:checkout\b)/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+)/i,/^(?:[a-zA-Z][-_\./a-zA-Z0-9]*[-_a-zA-Z0-9])/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[35,36],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,37,40,41,42],inclusive:!0}}};function _(){this.yy={}}return b.lexer=v,_.prototype=b,b.Parser=_,new _}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(8183).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},6765:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(t,e,n,r,i,o,a){switch(o.length,i){case 1:return r;case 4:break;case 6:r.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},r={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};function i(){this.yy={}}return n.lexer=r,i.prototype=n,n.Parser=i,new i}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(1428).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},7062:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,4],n=[1,5],r=[1,6],i=[1,7],o=[1,9],a=[1,11,13,15,17,19,20,26,27,28,29],s=[2,5],c=[1,6,11,13,15,17,19,20,26,27,28,29],l=[26,27,28],u=[2,8],h=[1,18],d=[1,19],f=[1,20],p=[1,21],g=[1,22],m=[1,23],y=[1,28],b=[6,26,27,28,29],v={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:r.setShowData(!0);break;case 7:this.$=o[s-1];break;case 9:r.addSection(o[s-1],r.cleanupValue(o[s]));break;case 10:this.$=o[s].trim(),r.setDiagramTitle(this.$);break;case 11:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 12:case 13:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 14:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 21:r.parseDirective("%%{","open_directive");break;case 22:r.parseDirective(o[s],"type_directive");break;case 23:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 24:r.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:o},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:o},{3:11,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:o},t(a,s,{7:12,8:[1,13]}),t(c,[2,18]),t(c,[2,19]),t(c,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(l,u,{21:8,9:16,10:17,5:24,1:[2,3],11:h,13:d,15:f,17:p,19:g,20:m,29:o}),t(a,s,{7:25}),{23:26,24:[1,27],32:y},t([24,32],[2,22]),t(a,[2,6]),{4:29,26:n,27:r,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(l,[2,13]),t(l,[2,14]),t(l,[2,15]),t(l,u,{21:8,9:16,10:17,5:24,1:[2,4],11:h,13:d,15:f,17:p,19:g,20:m,29:o}),t(b,[2,16]),{25:34,31:[1,35]},t(b,[2,24]),t(a,[2,7]),t(l,[2,9]),t(l,[2,10]),t(l,[2,11]),t(l,[2,12]),{23:36,32:y},{32:[2,23]},t(b,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},_={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:case 6:case 8:case 9:break;case 7:return 26;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:case 20:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};function x(){this.yy={}}return v.lexer=_,x.prototype=v,v.Parser=x,new x}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(4551).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},3176:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,5],r=[1,6],i=[1,7],o=[1,8],a=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],s=[1,22],c=[2,13],l=[1,26],u=[1,27],h=[1,28],d=[1,29],f=[1,30],p=[1,31],g=[1,24],m=[1,32],y=[1,33],b=[1,36],v=[71,72],_=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],x=[1,56],w=[1,57],k=[1,58],D=[1,59],C=[1,60],E=[1,61],S=[1,62],T=[62,63],A=[1,74],M=[1,70],F=[1,71],O=[1,72],N=[1,73],B=[1,75],I=[1,79],L=[1,80],R=[1,77],P=[1,78],j=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],z={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 6:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 7:case 8:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 9:r.parseDirective("%%{","open_directive");break;case 10:r.parseDirective(o[s],"type_directive");break;case 11:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 12:r.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:r.addRequirement(o[s-3],o[s-4]);break;case 20:r.setNewReqId(o[s-2]);break;case 21:r.setNewReqText(o[s-2]);break;case 22:r.setNewReqRisk(o[s-2]);break;case 23:r.setNewReqVerifyMethod(o[s-2]);break;case 26:this.$=r.RequirementType.REQUIREMENT;break;case 27:this.$=r.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=r.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=r.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=r.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=r.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=r.RiskLevel.LOW_RISK;break;case 33:this.$=r.RiskLevel.MED_RISK;break;case 34:this.$=r.RiskLevel.HIGH_RISK;break;case 35:this.$=r.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=r.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=r.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=r.VerifyType.VERIFY_TEST;break;case 39:r.addElement(o[s-3]);break;case 40:r.setNewElementType(o[s-2]);break;case 41:r.setNewElementDocRef(o[s-2]);break;case 44:r.addRelationship(o[s-2],o[s],o[s-4]);break;case 45:r.addRelationship(o[s-2],o[s-4],o[s]);break;case 46:this.$=r.Relationships.CONTAINS;break;case 47:this.$=r.Relationships.COPIES;break;case 48:this.$=r.Relationships.DERIVES;break;case 49:this.$=r.Relationships.SATISFIES;break;case 50:this.$=r.Relationships.VERIFIES;break;case 51:this.$=r.Relationships.REFINES;break;case 52:this.$=r.Relationships.TRACES}},table:[{3:1,4:2,6:e,9:4,14:n,16:r,18:i,19:o},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:r,18:i,19:o},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(a,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:r,18:i,19:o},{1:[2,2]},{4:21,5:s,7:17,8:c,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{11:34,12:[1,35],22:b},t([12,22],[2,10]),t(a,[2,6]),t(a,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:s,7:38,8:c,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{4:21,5:s,7:39,8:c,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{4:21,5:s,7:40,8:c,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{4:21,5:s,7:41,8:c,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{4:21,5:s,7:42,8:c,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(v,[2,26]),t(v,[2,27]),t(v,[2,28]),t(v,[2,29]),t(v,[2,30]),t(v,[2,31]),t(_,[2,55]),t(_,[2,56]),t(a,[2,4]),{13:51,21:[1,52]},t(a,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:x,65:w,66:k,67:D,68:C,69:E,70:S},{61:63,64:x,65:w,66:k,67:D,68:C,69:E,70:S},{11:64,22:b},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(T,[2,46]),t(T,[2,47]),t(T,[2,48]),t(T,[2,49]),t(T,[2,50]),t(T,[2,51]),t(T,[2,52]),{63:[1,68]},t(a,[2,5]),{5:A,29:69,30:M,33:F,35:O,37:N,39:B},{5:I,39:L,55:76,56:R,58:P},{32:81,71:m,72:y},{32:82,71:m,72:y},t(j,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:A,29:87,30:M,33:F,35:O,37:N,39:B},t(j,[2,25]),t(j,[2,39]),{31:[1,88]},{31:[1,89]},{5:I,39:L,55:90,56:R,58:P},t(j,[2,43]),t(j,[2,44]),t(j,[2,45]),{32:91,71:m,72:y},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(j,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(j,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:A,29:116,30:M,33:F,35:O,37:N,39:B},{5:A,29:117,30:M,33:F,35:O,37:N,39:B},{5:A,29:118,30:M,33:F,35:O,37:N,39:B},{5:A,29:119,30:M,33:F,35:O,37:N,39:B},{5:I,39:L,55:120,56:R,58:P},{5:I,39:L,55:121,56:R,58:P},t(j,[2,20]),t(j,[2,21]),t(j,[2,22]),t(j,[2,23]),t(j,[2,40]),t(j,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},$={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 53:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:case 15:case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 54:return"qString";case 55:return e.yytext=e.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};function Y(){this.yy={}}return z.lexer=$,Y.prototype=z,z.Parser=Y,new Y}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(8800).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},6876:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,5],i=[1,7],o=[2,5],a=[1,15],s=[1,17],c=[1,18],l=[1,19],u=[1,21],h=[1,22],d=[1,23],f=[1,29],p=[1,30],g=[1,31],m=[1,32],y=[1,33],b=[1,34],v=[1,35],_=[1,36],x=[1,37],w=[1,38],k=[1,39],D=[1,40],C=[1,43],E=[1,44],S=[1,45],T=[1,46],A=[1,47],M=[1,48],F=[1,51],O=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],N=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],B=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],I=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],L=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],R=[67,68,69],P=[1,121],j=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],z={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:return r.apply(o[s]),o[s];case 5:case 9:this.$=[];break;case 6:o[s-1].push(o[s]),this.$=o[s-1];break;case 7:case 8:case 56:this.$=o[s];break;case 12:o[s-3].type="addParticipant",o[s-3].description=r.parseMessage(o[s-1]),this.$=o[s-3];break;case 13:o[s-1].type="addParticipant",this.$=o[s-1];break;case 14:o[s-3].type="addActor",o[s-3].description=r.parseMessage(o[s-1]),this.$=o[s-3];break;case 15:o[s-1].type="addActor",this.$=o[s-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(o[s-2]),sequenceIndexStep:Number(o[s-1]),sequenceVisible:!0,signalType:r.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(o[s-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:r.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:r.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:r.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:r.LINETYPE.ACTIVE_START,actor:o[s-1]};break;case 22:this.$={type:"activeEnd",signalType:r.LINETYPE.ACTIVE_END,actor:o[s-1]};break;case 28:r.setDiagramTitle(o[s].substring(6)),this.$=o[s].substring(6);break;case 29:r.setDiagramTitle(o[s].substring(7)),this.$=o[s].substring(7);break;case 30:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 31:case 32:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 33:o[s-1].unshift({type:"loopStart",loopText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.LOOP_START}),o[s-1].push({type:"loopEnd",loopText:o[s-2],signalType:r.LINETYPE.LOOP_END}),this.$=o[s-1];break;case 34:o[s-1].unshift({type:"rectStart",color:r.parseMessage(o[s-2]),signalType:r.LINETYPE.RECT_START}),o[s-1].push({type:"rectEnd",color:r.parseMessage(o[s-2]),signalType:r.LINETYPE.RECT_END}),this.$=o[s-1];break;case 35:o[s-1].unshift({type:"optStart",optText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.OPT_START}),o[s-1].push({type:"optEnd",optText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.OPT_END}),this.$=o[s-1];break;case 36:o[s-1].unshift({type:"altStart",altText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.ALT_START}),o[s-1].push({type:"altEnd",signalType:r.LINETYPE.ALT_END}),this.$=o[s-1];break;case 37:o[s-1].unshift({type:"parStart",parText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.PAR_START}),o[s-1].push({type:"parEnd",signalType:r.LINETYPE.PAR_END}),this.$=o[s-1];break;case 38:o[s-1].unshift({type:"criticalStart",criticalText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.CRITICAL_START}),o[s-1].push({type:"criticalEnd",signalType:r.LINETYPE.CRITICAL_END}),this.$=o[s-1];break;case 39:o[s-1].unshift({type:"breakStart",breakText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.BREAK_START}),o[s-1].push({type:"breakEnd",optText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.BREAK_END}),this.$=o[s-1];break;case 42:this.$=o[s-3].concat([{type:"option",optionText:r.parseMessage(o[s-1]),signalType:r.LINETYPE.CRITICAL_OPTION},o[s]]);break;case 44:this.$=o[s-3].concat([{type:"and",parText:r.parseMessage(o[s-1]),signalType:r.LINETYPE.PAR_AND},o[s]]);break;case 46:this.$=o[s-3].concat([{type:"else",altText:r.parseMessage(o[s-1]),signalType:r.LINETYPE.ALT_ELSE},o[s]]);break;case 47:this.$=[o[s-1],{type:"addNote",placement:o[s-2],actor:o[s-1].actor,text:o[s]}];break;case 48:o[s-2]=[].concat(o[s-1],o[s-1]).slice(0,2),o[s-2][0]=o[s-2][0].actor,o[s-2][1]=o[s-2][1].actor,this.$=[o[s-1],{type:"addNote",placement:r.PLACEMENT.OVER,actor:o[s-2].slice(0,2),text:o[s]}];break;case 49:this.$=[o[s-1],{type:"addLinks",actor:o[s-1].actor,text:o[s]}];break;case 50:this.$=[o[s-1],{type:"addALink",actor:o[s-1].actor,text:o[s]}];break;case 51:this.$=[o[s-1],{type:"addProperties",actor:o[s-1].actor,text:o[s]}];break;case 52:this.$=[o[s-1],{type:"addDetails",actor:o[s-1].actor,text:o[s]}];break;case 55:this.$=[o[s-2],o[s]];break;case 57:this.$=r.PLACEMENT.LEFTOF;break;case 58:this.$=r.PLACEMENT.RIGHTOF;break;case 59:this.$=[o[s-4],o[s-1],{type:"addMessage",from:o[s-4].actor,to:o[s-1].actor,signalType:o[s-3],msg:o[s]},{type:"activeStart",signalType:r.LINETYPE.ACTIVE_START,actor:o[s-1]}];break;case 60:this.$=[o[s-4],o[s-1],{type:"addMessage",from:o[s-4].actor,to:o[s-1].actor,signalType:o[s-3],msg:o[s]},{type:"activeEnd",signalType:r.LINETYPE.ACTIVE_END,actor:o[s-4]}];break;case 61:this.$=[o[s-3],o[s-1],{type:"addMessage",from:o[s-3].actor,to:o[s-1].actor,signalType:o[s-2],msg:o[s]}];break;case 62:this.$={type:"addParticipant",actor:o[s]};break;case 63:this.$=r.LINETYPE.SOLID_OPEN;break;case 64:this.$=r.LINETYPE.DOTTED_OPEN;break;case 65:this.$=r.LINETYPE.SOLID;break;case 66:this.$=r.LINETYPE.DOTTED;break;case 67:this.$=r.LINETYPE.SOLID_CROSS;break;case 68:this.$=r.LINETYPE.DOTTED_CROSS;break;case 69:this.$=r.LINETYPE.SOLID_POINT;break;case 70:this.$=r.LINETYPE.DOTTED_POINT;break;case 71:this.$=r.parseMessage(o[s].trim().substring(1));break;case 72:r.parseDirective("%%{","open_directive");break;case 73:r.parseDirective(o[s],"type_directive");break;case 74:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 75:r.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:e,5:n,6:4,7:r,11:6,79:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,11:6,79:i},{3:9,4:e,5:n,6:4,7:r,11:6,79:i},{3:10,4:e,5:n,6:4,7:r,11:6,79:i},t([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],o,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:a,5:s,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:b,41:v,42:_,43:x,45:w,47:k,49:D,53:C,58:E,59:S,60:T,61:A,69:M,79:i},{13:49,14:[1,50],82:F},t([14,82],[2,73]),t(O,[2,6]),{6:41,10:52,11:6,16:c,17:42,20:l,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:b,41:v,42:_,43:x,45:w,47:k,49:D,53:C,58:E,59:S,60:T,61:A,69:M,79:i},t(O,[2,8]),t(O,[2,9]),{17:53,69:M},{17:54,69:M},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:M},{17:60,69:M},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},t(O,[2,28]),t(O,[2,29]),{35:[1,66]},{37:[1,67]},t(O,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},t(O,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:M},{17:89,69:M},{17:90,69:M},{17:91,69:M},t([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},t(O,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},t(O,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},t(O,[2,20]),{5:[1,102]},{5:[1,103]},t(O,[2,23]),t(O,[2,24]),t(O,[2,25]),t(O,[2,26]),t(O,[2,27]),t(O,[2,30]),t(O,[2,31]),t(N,o,{8:104}),t(N,o,{8:105}),t(N,o,{8:106}),t(B,o,{44:107,8:108}),t(I,o,{46:109,8:110}),t(L,o,{48:111,8:112}),t(N,o,{8:113}),{17:116,67:[1,114],68:[1,115],69:M},t(R,[2,63]),t(R,[2,64]),t(R,[2,65]),t(R,[2,66]),t(R,[2,67]),t(R,[2,68]),t(R,[2,69]),t(R,[2,70]),{17:117,69:M},{17:119,57:118,69:M},{69:[2,57]},{69:[2,58]},{55:120,78:P},{55:122,78:P},{55:123,78:P},{55:124,78:P},t(j,[2,10]),{13:125,82:F},{82:[2,74]},{19:[1,126]},t(O,[2,13]),{19:[1,127]},t(O,[2,15]),{5:[1,128]},t(O,[2,18]),t(O,[2,19]),t(O,[2,21]),t(O,[2,22]),{4:a,5:s,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:b,40:[1,129],41:v,42:_,43:x,45:w,47:k,49:D,53:C,58:E,59:S,60:T,61:A,69:M,79:i},{4:a,5:s,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:b,40:[1,130],41:v,42:_,43:x,45:w,47:k,49:D,53:C,58:E,59:S,60:T,61:A,69:M,79:i},{4:a,5:s,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:b,40:[1,131],41:v,42:_,43:x,45:w,47:k,49:D,53:C,58:E,59:S,60:T,61:A,69:M,79:i},{40:[1,132]},{4:a,5:s,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:b,40:[2,45],41:v,42:_,43:x,45:w,47:k,49:D,52:[1,133],53:C,58:E,59:S,60:T,61:A,69:M,79:i},{40:[1,134]},{4:a,5:s,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:b,40:[2,43],41:v,42:_,43:x,45:w,47:k,49:D,51:[1,135],53:C,58:E,59:S,60:T,61:A,69:M,79:i},{40:[1,136]},{4:a,5:s,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:b,40:[2,41],41:v,42:_,43:x,45:w,47:k,49:D,50:[1,137],53:C,58:E,59:S,60:T,61:A,69:M,79:i},{4:a,5:s,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:b,40:[1,138],41:v,42:_,43:x,45:w,47:k,49:D,53:C,58:E,59:S,60:T,61:A,69:M,79:i},{17:139,69:M},{17:140,69:M},{55:141,78:P},{55:142,78:P},{55:143,78:P},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},t(O,[2,17]),t(O,[2,33]),t(O,[2,34]),t(O,[2,35]),t(O,[2,36]),{19:[1,148]},t(O,[2,37]),{19:[1,149]},t(O,[2,38]),{19:[1,150]},t(O,[2,39]),{55:151,78:P},{55:152,78:P},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:M},t(j,[2,11]),t(O,[2,12]),t(O,[2,14]),t(B,o,{8:108,44:154}),t(I,o,{8:110,46:155}),t(L,o,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},$={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:case 52:case 65:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return e.yytext=e.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 53:return e.yytext=e.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};function Y(){this.yy={}}return z.lexer=$,Y.prototype=z,z.Parser=Y,new Y}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(1993).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},3584:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,5],i=[1,7],o=[2,5],a=[1,15],s=[1,17],c=[1,19],l=[1,20],u=[1,21],h=[1,22],d=[1,33],f=[1,23],p=[1,24],g=[1,25],m=[1,26],y=[1,27],b=[1,30],v=[1,31],_=[1,32],x=[1,35],w=[1,36],k=[1,37],D=[1,38],C=[1,34],E=[1,41],S=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],T=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],A=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],M=[4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],F={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"--\x3e":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,openDirective:36,typeDirective:37,closeDirective:38,":":39,argDirective:40,direction_tb:41,direction_bt:42,direction_rl:43,direction_lr:44,eol:45,";":46,EDGE_STATE:47,left_of:48,right_of:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"--\x3e",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",39:":",41:"direction_tb",42:"direction_bt",43:"direction_rl",44:"direction_lr",46:";",47:"EDGE_STATE",48:"left_of",49:"right_of",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[45,1],[45,1],[11,1],[11,1],[28,1],[28,1],[36,1],[37,1],[40,1],[38,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:return r.setRootDoc(o[s]),o[s];case 5:this.$=[];break;case 6:"nl"!=o[s]&&(o[s-1].push(o[s]),this.$=o[s-1]);break;case 7:case 8:case 39:case 40:this.$=o[s];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:o[s],type:"default",description:""};break;case 11:this.$={stmt:"state",id:o[s-1],type:"default",description:r.trimColon(o[s])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:o[s-2],type:"default",description:""},state2:{stmt:"state",id:o[s],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:o[s-3],type:"default",description:""},state2:{stmt:"state",id:o[s-1],type:"default",description:""},description:o[s].substr(1).trim()};break;case 17:this.$={stmt:"state",id:o[s-3],type:"default",description:"",doc:o[s-1]};break;case 18:var c=o[s],l=o[s-2].trim();if(o[s].match(":")){var u=o[s].split(":");c=u[0],l=[l,u[1]]}this.$={stmt:"state",id:c,type:"default",description:l};break;case 19:this.$={stmt:"state",id:o[s-3],type:"default",description:o[s-5],doc:o[s-1]};break;case 20:this.$={stmt:"state",id:o[s],type:"fork"};break;case 21:this.$={stmt:"state",id:o[s],type:"join"};break;case 22:this.$={stmt:"state",id:o[s],type:"choice"};break;case 23:this.$={stmt:"state",id:r.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:o[s-1].trim(),note:{position:o[s-2].trim(),text:o[s].trim()}};break;case 28:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 29:case 30:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 33:r.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 34:r.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 35:r.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 36:r.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 43:r.parseDirective("%%{","open_directive");break;case 44:r.parseDirective(o[s],"type_directive");break;case 45:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 46:r.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:e,5:n,6:4,7:r,36:6,50:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,36:6,50:i},{3:9,4:e,5:n,6:4,7:r,36:6,50:i},{3:10,4:e,5:n,6:4,7:r,36:6,50:i},t([1,4,5,14,15,17,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],o,{8:11}),{37:12,51:[1,13]},{51:[2,43]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:a,5:s,6:28,9:14,10:16,11:18,14:c,15:l,17:u,20:h,22:d,23:f,24:p,25:g,26:m,27:y,30:29,31:b,33:v,35:_,36:6,41:x,42:w,43:k,44:D,47:C,50:i},{38:39,39:[1,40],53:E},t([39,53],[2,44]),t(S,[2,6]),{6:28,10:42,11:18,14:c,15:l,17:u,20:h,22:d,23:f,24:p,25:g,26:m,27:y,30:29,31:b,33:v,35:_,36:6,41:x,42:w,43:k,44:D,47:C,50:i},t(S,[2,8]),t(S,[2,9]),t(S,[2,10],{12:[1,43],13:[1,44]}),t(S,[2,14]),{16:[1,45]},t(S,[2,16],{18:[1,46]}),{21:[1,47]},t(S,[2,20]),t(S,[2,21]),t(S,[2,22]),t(S,[2,23]),{28:48,29:[1,49],48:[1,50],49:[1,51]},t(S,[2,26]),t(S,[2,27]),{32:[1,52]},{34:[1,53]},t(S,[2,30]),t(T,[2,39]),t(T,[2,40]),t(S,[2,33]),t(S,[2,34]),t(S,[2,35]),t(S,[2,36]),t(A,[2,31]),{40:54,52:[1,55]},t(A,[2,46]),t(S,[2,7]),t(S,[2,11]),{11:56,22:d,47:C},t(S,[2,15]),t(M,o,{8:57}),{22:[1,58]},{22:[1,59]},{21:[1,60]},{22:[2,41]},{22:[2,42]},t(S,[2,28]),t(S,[2,29]),{38:61,53:E},{53:[2,45]},t(S,[2,12],{12:[1,62]}),{4:a,5:s,6:28,9:14,10:16,11:18,14:c,15:l,17:u,19:[1,63],20:h,22:d,23:f,24:p,25:g,26:m,27:y,30:29,31:b,33:v,35:_,36:6,41:x,42:w,43:k,44:D,47:C,50:i},t(S,[2,18],{18:[1,64]}),{29:[1,65]},{22:[1,66]},t(A,[2,32]),t(S,[2,13]),t(S,[2,17]),t(M,o,{8:67}),t(S,[2,24]),t(S,[2,25]),{4:a,5:s,6:28,9:14,10:16,11:18,14:c,15:l,17:u,19:[1,68],20:h,22:d,23:f,24:p,25:g,26:m,27:y,30:29,31:b,33:v,35:_,36:6,41:x,42:w,43:k,44:D,47:C,50:i},t(S,[2,19])],defaultActions:{7:[2,43],8:[2,1],9:[2,2],10:[2,3],50:[2,41],51:[2,42],55:[2,45]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},O={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:case 33:return 41;case 1:case 34:return 42;case 2:case 35:return 43;case 3:case 36:return 44;case 4:return this.begin("open_directive"),50;case 5:return this.begin("type_directive"),51;case 6:return this.popState(),this.begin("arg_directive"),39;case 7:return this.popState(),this.popState(),53;case 8:return 52;case 9:case 10:case 12:case 13:case 14:case 15:case 46:case 52:break;case 11:case 66:return 5;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:case 24:case 40:case 43:this.popState();break;case 19:return this.begin("acc_title"),31;case 20:return this.popState(),"acc_title_value";case 21:return this.begin("acc_descr"),33;case 22:return this.popState(),"acc_descr_value";case 23:this.begin("acc_descr_multiline");break;case 25:return"acc_descr_multiline_value";case 26:this.pushState("STATE");break;case 27:case 30:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),23;case 28:case 31:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),24;case 29:case 32:return this.popState(),e.yytext=e.yytext.slice(0,-10).trim(),25;case 37:this.begin("STATE_STRING");break;case 38:return this.popState(),this.pushState("STATE_ID"),"AS";case 39:case 54:return this.popState(),"ID";case 41:return"STATE_DESCR";case 42:return 17;case 44:return this.popState(),this.pushState("struct"),18;case 45:return this.popState(),19;case 47:return this.begin("NOTE"),27;case 48:return this.popState(),this.pushState("NOTE_ID"),48;case 49:return this.popState(),this.pushState("NOTE_ID"),49;case 50:this.popState(),this.pushState("FLOATING_NOTE");break;case 51:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 53:return"NOTE_TEXT";case 55:return this.popState(),this.pushState("NOTE_TEXT"),22;case 56:return this.popState(),e.yytext=e.yytext.substr(2).trim(),29;case 57:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),29;case 58:case 59:return 7;case 60:return 14;case 61:return 47;case 62:return 22;case 63:return e.yytext=e.yytext.trim(),12;case 64:return 13;case 65:return 26;case 67:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,26,33,34,35,36,45,46,47,61,62,63,64,65],inclusive:!1},FLOATING_NOTE_ID:{rules:[54],inclusive:!1},FLOATING_NOTE:{rules:[51,52,53],inclusive:!1},NOTE_TEXT:{rules:[56,57],inclusive:!1},NOTE_ID:{rules:[55],inclusive:!1},NOTE:{rules:[48,49,50],inclusive:!1},acc_descr_multiline:{rules:[24,25],inclusive:!1},acc_descr:{rules:[22],inclusive:!1},acc_title:{rules:[20],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[39],inclusive:!1},STATE_STRING:{rules:[40,41],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,27,28,29,30,31,32,37,38,42,43,44],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,21,23,26,44,47,58,59,60,61,62,63,64,66,67],inclusive:!0}}};function N(){this.yy={}}return F.lexer=O,N.prototype=F,F.Parser=N,new N}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(3069).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},9763:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,5],r=[6,9,11,17,18,20,22,23,24,26],i=[1,15],o=[1,16],a=[1,17],s=[1,18],c=[1,19],l=[1,20],u=[1,24],h=[4,6,9,11,17,18,20,22,23,24,26],d={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 3:case 7:case 8:this.$=[];break;case 4:o[s-1].push(o[s]),this.$=o[s-1];break;case 5:case 6:this.$=o[s];break;case 11:r.setDiagramTitle(o[s].substr(6)),this.$=o[s].substr(6);break;case 12:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 13:case 14:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 15:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 16:r.addTask(o[s-1],o[s]),this.$="task";break;case 18:r.parseDirective("%%{","open_directive");break;case 19:r.parseDirective(o[s],"type_directive");break;case 20:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 21:r.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:i,18:o,20:a,22:s,23:c,24:l,26:n},{1:[2,2]},{14:22,15:[1,23],29:u},t([15,29],[2,19]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:21,10:25,12:4,17:i,18:o,20:a,22:s,23:c,24:l,26:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),{19:[1,26]},{21:[1,27]},t(r,[2,14]),t(r,[2,15]),{25:[1,28]},t(r,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(r,[2,5]),t(r,[2,12]),t(r,[2,13]),t(r,[2,16]),t(h,[2,9]),{14:32,29:u},{29:[2,20]},{11:[1,33]},t(h,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var b=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,x,w,k,D,C,E,S,T,A={};;){if(w=n[n.length-1],this.defaultActions[w]?k=this.defaultActions[w]:(null==_&&(_=v()),k=a[w]&&a[w][_]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[w])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(k[0]){case 1:n.push(_),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),_=null,x?(_=x,x=null):(l=p.yyleng,s=p.yytext,c=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=i[i.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(D=this.performAction.apply(A,[s,l,c,g.yy,k[1],i,o].concat(f))))return D;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),S=a[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},f={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};function p(){this.yy={}}return d.lexer=f,p.prototype=d,d.Parser=p,new p}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var r=n(9143).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},7967:(t,e)=>{e.N=void 0;var n=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,i=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^([^:]+):/gm,a=[".","/"];e.N=function(t){var e,s=(e=t||"",e.replace(r,(function(t,e){return String.fromCharCode(e)}))).replace(i,"").trim();if(!s)return"about:blank";if(function(t){return a.indexOf(t[0])>-1}(s))return s;var c=s.match(o);if(!c)return s;var l=c[0];return n.test(l)?"about:blank":s}},3841:t=>{t.exports=function(t,e){return t.intersect(e)}},6359:(t,e,n)=>{n.d(e,{Z:()=>hu});var r=n(1941),i=n.n(r),o={debug:1,info:2,warn:3,error:4,fatal:5},a={debug:function(){},info:function(){},warn:function(){},error:function(){},fatal:function(){}},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fatal";isNaN(t)&&(t=t.toLowerCase(),void 0!==o[t]&&(t=o[t])),a.trace=function(){},a.debug=function(){},a.info=function(){},a.warn=function(){},a.error=function(){},a.fatal=function(){},t<=o.fatal&&(a.fatal=console.error?console.error.bind(console,c("FATAL"),"color: orange"):console.log.bind(console,"[35m",c("FATAL"))),t<=o.error&&(a.error=console.error?console.error.bind(console,c("ERROR"),"color: orange"):console.log.bind(console,"[31m",c("ERROR"))),t<=o.warn&&(a.warn=console.warn?console.warn.bind(console,c("WARN"),"color: orange"):console.log.bind(console,"[33m",c("WARN"))),t<=o.info&&(a.info=console.info?console.info.bind(console,c("INFO"),"color: lightblue"):console.log.bind(console,"[34m",c("INFO"))),t<=o.debug&&(a.debug=console.debug?console.debug.bind(console,c("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",c("DEBUG")))},c=function(t){var e=i()().format("ss.SSS");return"%c".concat(e," : ").concat(t," : ")},l=n(7543),u="comm",h="rule",d="decl",f=Math.abs,p=String.fromCharCode;function g(t){return t.trim()}function m(t,e,n){return t.replace(e,n)}function y(t,e){return t.indexOf(e)}function b(t,e){return 0|t.charCodeAt(e)}function v(t,e,n){return t.slice(e,n)}function _(t){return t.length}function x(t){return t.length}function w(t,e){return e.push(t),t}function k(t,e){for(var n="",r=x(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function D(t,e,n,r){switch(t.type){case"@import":case d:return t.return=t.return||t.value;case u:return"";case"@keyframes":return t.return=t.value+"{"+k(t.children,r)+"}";case h:t.value=t.props.join(",")}return _(n=k(t.children,r))?t.return=t.value+"{"+n+"}":""}Object.assign;var C=1,E=1,S=0,T=0,A=0,M="";function F(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:C,column:E,length:a,return:""}}function O(){return A=T>0?b(M,--T):0,E--,10===A&&(E=1,C--),A}function N(){return A=T<S?b(M,T++):0,E++,10===A&&(E=1,C++),A}function B(){return b(M,T)}function I(){return T}function L(t,e){return v(M,t,e)}function R(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P(t){return g(L(T-1,$(91===t?t+2:40===t?t+1:t)))}function j(t){for(;(A=B())&&A<33;)N();return R(t)>2||R(A)>3?"":" "}function z(t,e){for(;--e&&N()&&!(A<48||A>102||A>57&&A<65||A>70&&A<97););return L(t,I()+(e<6&&32==B()&&32==N()))}function $(t){for(;N();)switch(A){case t:return T;case 34:case 39:34!==t&&39!==t&&$(A);break;case 40:41===t&&$(t);break;case 92:N()}return T}function Y(t,e){for(;N()&&t+A!==57&&(t+A!==84||47!==B()););return"/*"+L(e,T-1)+"*"+p(47===t?t:N())}function W(t){for(;!R(B());)N();return L(t,T)}function U(t){return function(t){return M="",t}(q("",null,null,null,[""],t=function(t){return C=E=1,S=_(M=t),T=0,[]}(t),0,[0],t))}function q(t,e,n,r,i,o,a,s,c){for(var l=0,u=0,h=a,d=0,f=0,g=0,b=1,v=1,x=1,k=0,D="",C=i,E=o,S=r,T=D;v;)switch(g=k,k=N()){case 40:if(108!=g&&58==T.charCodeAt(h-1)){-1!=y(T+=m(P(k),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:T+=P(k);break;case 9:case 10:case 13:case 32:T+=j(g);break;case 92:T+=z(I()-1,7);continue;case 47:switch(B()){case 42:case 47:w(H(Y(N(),I()),e,n),c);break;default:T+="/"}break;case 123*b:s[l++]=_(T)*x;case 125*b:case 59:case 0:switch(k){case 0:case 125:v=0;case 59+u:f>0&&_(T)-h&&w(f>32?G(T+";",r,n,h-1):G(m(T," ","")+";",r,n,h-2),c);break;case 59:T+=";";default:if(w(S=V(T,e,n,l,u,i,s,D,C=[],E=[],h),o),123===k)if(0===u)q(T,e,S,S,C,o,h,s,E);else switch(d){case 100:case 109:case 115:q(t,S,S,r&&w(V(t,S,S,0,0,i,s,D,i,C=[],h),E),i,E,h,s,r?C:E);break;default:q(T,S,S,S,[""],E,0,s,E)}}l=u=f=0,b=x=1,D=T="",h=a;break;case 58:h=1+_(T),f=g;default:if(b<1)if(123==k)--b;else if(125==k&&0==b++&&125==O())continue;switch(T+=p(k),k*b){case 38:x=u>0?1:(T+="\f",-1);break;case 44:s[l++]=(_(T)-1)*x,x=1;break;case 64:45===B()&&(T+=P(N())),d=B(),u=h=_(D=T+=W(I())),k++;break;case 45:45===g&&2==_(T)&&(b=0)}}return o}function V(t,e,n,r,i,o,a,s,c,l,u){for(var d=i-1,p=0===i?o:[""],y=x(p),b=0,_=0,w=0;b<r;++b)for(var k=0,D=v(t,d+1,d=f(_=a[b])),C=t;k<y;++k)(C=g(_>0?p[k]+" "+D:m(D,/&\f/g,p[k])))&&(c[w++]=C);return F(t,e,n,0===i?h:s,c,l,u)}function H(t,e,n){return F(t,e,n,u,p(A),v(t,2,-2),0)}function G(t,e,n,r){return F(t,e,n,d,v(t,0,r),v(t,r+1,-1),r)}const X="9.1.6";function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}const K=function t(e,n,r){var i=Object.assign({depth:2,clobber:!1},r),o=i.depth,a=i.clobber;return Array.isArray(n)&&!Array.isArray(e)?(n.forEach((function(n){return t(e,n,r)})),e):Array.isArray(n)&&Array.isArray(e)?(n.forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),e):void 0===e||o<=0?null!=e&&"object"===J(e)&&"object"===J(n)?Object.assign(e,n):n:(void 0!==n&&"object"===J(e)&&"object"===J(n)&&Object.keys(n).forEach((function(r){"object"!==J(n[r])||void 0!==e[r]&&"object"!==J(e[r])?(a||"object"!==J(e[r])&&"object"!==J(n[r]))&&(e[r]=n[r]):(void 0===e[r]&&(e[r]=Array.isArray(n[r])?[]:{}),e[r]=t(e[r],n[r],{depth:o-1,clobber:a}))})),e)},Z={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return 2.55*n;t/=360,e/=100;const i=(n/=100)<.5?n*(1+e):n+e-n*e,o=2*n-i;switch(r){case"r":return 255*Z.hue2rgb(o,i,t+1/3);case"g":return 255*Z.hue2rgb(o,i,t);case"b":return 255*Z.hue2rgb(o,i,t-1/3)}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),o=Math.min(t,e,n),a=(i+o)/2;if("l"===r)return 100*a;if(i===o)return 0;const s=i-o;if("s"===r)return 100*(a>.5?s/(2-i-o):s/(i+o));switch(i){case t:return 60*((e-n)/s+(e<n?6:0));case e:return 60*((n-t)/s+2);case n:return 60*((t-e)/s+4);default:return-1}}},Q={channel:Z,lang:{clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(1e10*t)/1e10},unit:{dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}}},tt={};for(let du=0;du<=255;du++)tt[du]=Q.unit.dec2hex(du);const et=new class{constructor(t,e){this.color=e,this.changed=!1,this.data=t,this.type=new class{constructor(){this.type=0}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=0}is(t){return this.type===t}}}set(t,e){return this.color=e,this.changed=!1,this.data=t,this.type.type=0,this}_ensureHSL(){const t=this.data,{h:e,s:n,l:r}=t;void 0===e&&(t.h=Q.channel.rgb2hsl(t,"h")),void 0===n&&(t.s=Q.channel.rgb2hsl(t,"s")),void 0===r&&(t.l=Q.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:e,g:n,b:r}=t;void 0===e&&(t.r=Q.channel.hsl2rgb(t,"r")),void 0===n&&(t.g=Q.channel.hsl2rgb(t,"g")),void 0===r&&(t.b=Q.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,e=t.r;return this.type.is(2)||void 0===e?(this._ensureHSL(),Q.channel.hsl2rgb(t,"r")):e}get g(){const t=this.data,e=t.g;return this.type.is(2)||void 0===e?(this._ensureHSL(),Q.channel.hsl2rgb(t,"g")):e}get b(){const t=this.data,e=t.b;return this.type.is(2)||void 0===e?(this._ensureHSL(),Q.channel.hsl2rgb(t,"b")):e}get h(){const t=this.data,e=t.h;return this.type.is(1)||void 0===e?(this._ensureRGB(),Q.channel.rgb2hsl(t,"h")):e}get s(){const t=this.data,e=t.s;return this.type.is(1)||void 0===e?(this._ensureRGB(),Q.channel.rgb2hsl(t,"s")):e}get l(){const t=this.data,e=t.l;return this.type.is(1)||void 0===e?(this._ensureRGB(),Q.channel.rgb2hsl(t,"l")):e}get a(){return this.data.a}set r(t){this.type.set(1),this.changed=!0,this.data.r=t}set g(t){this.type.set(1),this.changed=!0,this.data.g=t}set b(t){this.type.set(1),this.changed=!0,this.data.b=t}set h(t){this.type.set(2),this.changed=!0,this.data.h=t}set s(t){this.type.set(2),this.changed=!0,this.data.s=t}set l(t){this.type.set(2),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}({r:0,g:0,b:0,a:0},"transparent"),nt={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(35!==t.charCodeAt(0))return;const e=t.match(nt.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,o=i%4==0,a=i>4,s=a?1:17,c=a?8:4,l=o?0:-1,u=a?255:15;return et.set({r:(r>>c*(l+3)&u)*s,g:(r>>c*(l+2)&u)*s,b:(r>>c*(l+1)&u)*s,a:o?(r&u)*s/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${tt[Math.round(e)]}${tt[Math.round(n)]}${tt[Math.round(r)]}${tt[Math.round(255*i)]}`:`#${tt[Math.round(e)]}${tt[Math.round(n)]}${tt[Math.round(r)]}`}},rt=nt,it={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(it.hueRe);if(e){const[,t,n]=e;switch(n){case"grad":return Q.channel.clamp.h(.9*parseFloat(t));case"rad":return Q.channel.clamp.h(180*parseFloat(t)/Math.PI);case"turn":return Q.channel.clamp.h(360*parseFloat(t))}}return Q.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(104!==e&&72!==e)return;const n=t.match(it.re);if(!n)return;const[,r,i,o,a,s]=n;return et.set({h:it._hue2deg(r),s:Q.channel.clamp.s(parseFloat(i)),l:Q.channel.clamp.l(parseFloat(o)),a:a?Q.channel.clamp.a(s?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${Q.lang.round(e)}, ${Q.lang.round(n)}%, ${Q.lang.round(r)}%, ${i})`:`hsl(${Q.lang.round(e)}, ${Q.lang.round(n)}%, ${Q.lang.round(r)}%)`}},ot=it,at={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=at.colors[t];if(e)return rt.parse(e)},stringify:t=>{const e=rt.stringify(t);for(const n in at.colors)if(at.colors[n]===e)return n}},st=at,ct={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(114!==e&&82!==e)return;const n=t.match(ct.re);if(!n)return;const[,r,i,o,a,s,c,l,u]=n;return et.set({r:Q.channel.clamp.r(i?2.55*parseFloat(r):parseFloat(r)),g:Q.channel.clamp.g(a?2.55*parseFloat(o):parseFloat(o)),b:Q.channel.clamp.b(c?2.55*parseFloat(s):parseFloat(s)),a:l?Q.channel.clamp.a(u?parseFloat(l)/100:parseFloat(l)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${Q.lang.round(e)}, ${Q.lang.round(n)}, ${Q.lang.round(r)}, ${Q.lang.round(i)})`:`rgb(${Q.lang.round(e)}, ${Q.lang.round(n)}, ${Q.lang.round(r)})`}},lt=ct,ut={format:{keyword:st,hex:rt,rgb:lt,rgba:lt,hsl:ot,hsla:ot},parse:t=>{if("string"!=typeof t)return t;const e=rt.parse(t)||lt.parse(t)||ot.parse(t)||st.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(2)||void 0===t.data.r?ot.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?lt.stringify(t):rt.stringify(t)},ht=(t,e)=>{const n=ut.parse(t);for(const r in e)n[r]=Q.channel.clamp[r](e[r]);return ut.stringify(n)},dt=(t,e)=>{const n=ut.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return ht(t,r)},ft=(t,e,n=0,r=1)=>{if("number"!=typeof t)return ht(t,{a:e});const i=et.set({r:Q.channel.clamp.r(t),g:Q.channel.clamp.g(e),b:Q.channel.clamp.b(n),a:Q.channel.clamp.a(r)});return ut.stringify(i)},pt=(t,e=100)=>{const n=ut.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,((t,e,n=50)=>{const{r:r,g:i,b:o,a:a}=ut.parse(t),{r:s,g:c,b:l,a:u}=ut.parse(e),h=n/100,d=2*h-1,f=a-u,p=((d*f==-1?d:(d+f)/(1+d*f))+1)/2,g=1-p;return ft(r*p+s*g,i*p+c*g,o*p+l*g,a*h+u*(1-h))})(n,t,e)},gt=(t,e,n)=>{const r=ut.parse(t),i=r[e],o=Q.channel.clamp[e](i+n);return i!==o&&(r[e]=o),ut.stringify(r)},mt=(t,e)=>gt(t,"l",-e),yt=(t,e)=>gt(t,"l",e);var bt=function(t,e){return dt(t,e?{s:-40,l:10}:{s:-40,l:-10})};function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var xt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||dt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||dt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||bt(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||bt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||bt(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||bt(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||pt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||pt(this.tertiaryColor),this.lineColor=this.lineColor||pt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?mt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||mt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||pt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||yt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||dt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||dt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||dt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||dt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||dt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||dt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||dt(this.primaryColor,{l:-10}),this.pie5=this.pie5||dt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||dt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||dt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||dt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||dt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||dt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||dt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||dt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?mt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||dt(this.primaryColor,{h:-30}),this.git4=this.git4||dt(this.primaryColor,{h:-60}),this.git5=this.git5||dt(this.primaryColor,{h:-90}),this.git6=this.git6||dt(this.primaryColor,{h:60}),this.git7=this.git7||dt(this.primaryColor,{h:120}),this.darkMode?(this.git0=yt(this.git0,25),this.git1=yt(this.git1,25),this.git2=yt(this.git2,25),this.git3=yt(this.git3,25),this.git4=yt(this.git4,25),this.git5=yt(this.git5,25),this.git6=yt(this.git6,25),this.git7=yt(this.git7,25)):(this.git0=mt(this.git0,25),this.git1=mt(this.git1,25),this.git2=mt(this.git2,25),this.git3=mt(this.git3,25),this.git4=mt(this.git4,25),this.git5=mt(this.git5,25),this.git6=mt(this.git6,25),this.git7=mt(this.git7,25)),this.gitInv0=this.gitInv0||pt(this.git0),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(t){var e=this;if("object"===vt(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&_t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Dt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=yt(this.primaryColor,16),this.tertiaryColor=dt(this.primaryColor,{h:-160}),this.primaryBorderColor=pt(this.background),this.secondaryBorderColor=bt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=bt(this.tertiaryColor,this.darkMode),this.primaryTextColor=pt(this.primaryColor),this.secondaryTextColor=pt(this.secondaryColor),this.tertiaryTextColor=pt(this.tertiaryColor),this.lineColor=pt(this.background),this.textColor=pt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=yt(pt("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=ft(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=mt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=ft(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ft(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.secondBkg=yt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=yt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=yt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=dt(this.primaryColor,{h:64}),this.fillType3=dt(this.secondaryColor,{h:64}),this.fillType4=dt(this.primaryColor,{h:-64}),this.fillType5=dt(this.secondaryColor,{h:-64}),this.fillType6=dt(this.primaryColor,{h:128}),this.fillType7=dt(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#0b0000",this.pie2=this.pie2||"#4d1037",this.pie3=this.pie3||"#3f5258",this.pie4=this.pie4||"#4f2f1b",this.pie5=this.pie5||"#6e0a0a",this.pie6=this.pie6||"#3b0048",this.pie7=this.pie7||"#995a01",this.pie8=this.pie8||"#154706",this.pie9=this.pie9||"#161722",this.pie10=this.pie10||"#00296f",this.pie11=this.pie11||"#01629c",this.pie12=this.pie12||"#010029",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?mt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=yt(this.secondaryColor,20),this.git1=yt(this.pie2||this.secondaryColor,20),this.git2=yt(this.pie3||this.tertiaryColor,20),this.git3=yt(this.pie4||dt(this.primaryColor,{h:-30}),20),this.git4=yt(this.pie5||dt(this.primaryColor,{h:-60}),20),this.git5=yt(this.pie6||dt(this.primaryColor,{h:-90}),10),this.git6=yt(this.pie7||dt(this.primaryColor,{h:60}),10),this.git7=yt(this.pie8||dt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||pt(this.git0),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(t){var e=this;if("object"===wt(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&kt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var St=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=dt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=dt(this.primaryColor,{h:-160}),this.primaryBorderColor=bt(this.primaryColor,this.darkMode),this.secondaryBorderColor=bt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=bt(this.tertiaryColor,this.darkMode),this.primaryTextColor=pt(this.primaryColor),this.secondaryTextColor=pt(this.secondaryColor),this.tertiaryTextColor=pt(this.tertiaryColor),this.lineColor=pt(this.background),this.textColor=pt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=ft(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=yt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=dt(this.primaryColor,{h:64}),this.fillType3=dt(this.secondaryColor,{h:64}),this.fillType4=dt(this.primaryColor,{h:-64}),this.fillType5=dt(this.secondaryColor,{h:-64}),this.fillType6=dt(this.primaryColor,{h:128}),this.fillType7=dt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||dt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||dt(this.primaryColor,{l:-10}),this.pie5=this.pie5||dt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||dt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||dt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||dt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||dt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||dt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||dt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||dt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||dt(this.primaryColor,{h:-30}),this.git4=this.git4||dt(this.primaryColor,{h:-60}),this.git5=this.git5||dt(this.primaryColor,{h:-90}),this.git6=this.git6||dt(this.primaryColor,{h:60}),this.git7=this.git7||dt(this.primaryColor,{h:120}),this.darkMode?(this.git0=yt(this.git0,25),this.git1=yt(this.git1,25),this.git2=yt(this.git2,25),this.git3=yt(this.git3,25),this.git4=yt(this.git4,25),this.git5=yt(this.git5,25),this.git6=yt(this.git6,25),this.git7=yt(this.git7,25)):(this.git0=mt(this.git0,25),this.git1=mt(this.git1,25),this.git2=mt(this.git2,25),this.git3=mt(this.git3,25),this.git4=mt(this.git4,25),this.git5=mt(this.git5,25),this.git6=mt(this.git6,25),this.git7=mt(this.git7,25)),this.gitInv0=this.gitInv0||mt(pt(this.git0),25),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||pt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||pt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(t){var e=this;if("object"===Ct(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&Et(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Mt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=yt("#cde498",10),this.primaryBorderColor=bt(this.primaryColor,this.darkMode),this.secondaryBorderColor=bt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=bt(this.tertiaryColor,this.darkMode),this.primaryTextColor=pt(this.primaryColor),this.secondaryTextColor=pt(this.secondaryColor),this.tertiaryTextColor=pt(this.primaryColor),this.lineColor=pt(this.background),this.textColor=pt(this.background),this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=mt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=dt(this.primaryColor,{h:64}),this.fillType3=dt(this.secondaryColor,{h:64}),this.fillType4=dt(this.primaryColor,{h:-64}),this.fillType5=dt(this.secondaryColor,{h:-64}),this.fillType6=dt(this.primaryColor,{h:128}),this.fillType7=dt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||dt(this.primaryColor,{l:-30}),this.pie5=this.pie5||dt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||dt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||dt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||dt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||dt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||dt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||dt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||dt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||dt(this.primaryColor,{h:-30}),this.git4=this.git4||dt(this.primaryColor,{h:-60}),this.git5=this.git5||dt(this.primaryColor,{h:-90}),this.git6=this.git6||dt(this.primaryColor,{h:60}),this.git7=this.git7||dt(this.primaryColor,{h:120}),this.darkMode?(this.git0=yt(this.git0,25),this.git1=yt(this.git1,25),this.git2=yt(this.git2,25),this.git3=yt(this.git3,25),this.git4=yt(this.git4,25),this.git5=yt(this.git5,25),this.git6=yt(this.git6,25),this.git7=yt(this.git7,25)):(this.git0=mt(this.git0,25),this.git1=mt(this.git1,25),this.git2=mt(this.git2,25),this.git3=mt(this.git3,25),this.git4=mt(this.git4,25),this.git5=mt(this.git5,25),this.git6=mt(this.git6,25),this.git7=mt(this.git7,25)),this.gitInv0=this.gitInv0||pt(this.git0),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(t){var e=this;if("object"===Tt(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&At(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=yt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=dt(this.primaryColor,{h:-160}),this.primaryBorderColor=bt(this.primaryColor,this.darkMode),this.secondaryBorderColor=bt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=bt(this.tertiaryColor,this.darkMode),this.primaryTextColor=pt(this.primaryColor),this.secondaryTextColor=pt(this.secondaryColor),this.tertiaryTextColor=pt(this.tertiaryColor),this.lineColor=pt(this.background),this.textColor=pt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.secondBkg=yt(this.contrast,55),this.border2=this.contrast,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=yt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=yt(this.contrast,30),this.sectionBkgColor2=yt(this.contrast,30),this.taskBorderColor=mt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=yt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=mt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=dt(this.primaryColor,{h:64}),this.fillType3=dt(this.secondaryColor,{h:64}),this.fillType4=dt(this.primaryColor,{h:-64}),this.fillType5=dt(this.secondaryColor,{h:-64}),this.fillType6=dt(this.primaryColor,{h:128}),this.fillType7=dt(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#F4F4F4",this.pie2=this.pie2||"#555",this.pie3=this.pie3||"#BBB",this.pie4=this.pie4||"#777",this.pie5=this.pie5||"#999",this.pie6=this.pie6||"#DDD",this.pie7=this.pie7||"#FFF",this.pie8=this.pie8||"#DDD",this.pie9=this.pie9||"#BBB",this.pie10=this.pie10||"#999",this.pie11=this.pie11||"#777",this.pie12=this.pie12||"#555",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=mt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||dt(this.primaryColor,{h:-30}),this.git4=this.pie5||dt(this.primaryColor,{h:-60}),this.git5=this.pie6||dt(this.primaryColor,{h:-90}),this.git6=this.pie7||dt(this.primaryColor,{h:60}),this.git7=this.pie8||dt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||pt(this.git0),this.gitInv1=this.gitInv1||pt(this.git1),this.gitInv2=this.gitInv2||pt(this.git2),this.gitInv3=this.gitInv3||pt(this.git3),this.gitInv4=this.gitInv4||pt(this.git4),this.gitInv5=this.gitInv5||pt(this.git5),this.gitInv6=this.gitInv6||pt(this.git6),this.gitInv7=this.gitInv7||pt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px"}},{key:"calculate",value:function(t){var e=this;if("object"===Ft(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&Ot(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Bt={base:{getThemeVariables:function(t){var e=new xt;return e.calculate(t),e}},dark:{getThemeVariables:function(t){var e=new Dt;return e.calculate(t),e}},default:{getThemeVariables:function(t){var e=new St;return e.calculate(t),e}},forest:{getThemeVariables:function(t){var e=new Mt;return e.calculate(t),e}},neutral:{getThemeVariables:function(t){var e=new Nt;return e.calculate(t),e}}};function It(t){return function(t){if(Array.isArray(t))return Lt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}var Pt={theme:"default",themeVariables:Bt.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-d3"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"}};Pt.class.arrowMarkerAbsolute=Pt.arrowMarkerAbsolute,Pt.gitGraph.arrowMarkerAbsolute=Pt.arrowMarkerAbsolute;var jt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).reduce((function(r,i){return Array.isArray(e[i])?r:"object"===Rt(e[i])&&null!==e[i]?[].concat(It(r),[n+i],It(t(e[i],""))):[].concat(It(r),[n+i])}),[])}(Pt,"");const zt=Pt;function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}var Yt,Wt=Object.freeze(zt),Ut=K({},Wt),qt=[],Vt=K({},Wt),Ht=function(t,e){for(var n=K({},t),r={},i=0;i<e.length;i++){var o=e[i];Jt(o),r=K(r,o)}if(n=K(n,r),r.theme&&Bt[r.theme]){var a=K({},Yt),s=K(a.themeVariables||{},r.themeVariables);n.themeVariables=Bt[n.theme].getThemeVariables(s)}return Vt=n,n},Gt=function(){return K({},Ut)},Xt=function(){return K({},Vt)},Jt=function t(e){Object.keys(Ut.secure).forEach((function(t){void 0!==e[Ut.secure[t]]&&(a.debug("Denied attempt to modify a secure key ".concat(Ut.secure[t]),e[Ut.secure[t]]),delete e[Ut.secure[t]])})),Object.keys(e).forEach((function(t){0===t.indexOf("__")&&delete e[t]})),Object.keys(e).forEach((function(n){"string"==typeof e[n]&&(e[n].indexOf("<")>-1||e[n].indexOf(">")>-1||e[n].indexOf("url(data:")>-1)&&delete e[n],"object"===$t(e[n])&&t(e[n])}))},Kt=function(t){t.fontFamily&&(t.themeVariables&&t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily})),qt.push(t),Ht(Ut,qt)},Zt=function(){Ht(Ut,qt=[])},Qt=n(7856),te=n.n(Qt),ee=function(t){var e=t.replace(/\\u[\dA-F]{4}/gi,(function(t){return String.fromCharCode(parseInt(t.replace(/\\u/g,""),16))}));return(e=(e=e.replace(/\\x([0-9a-f]{2})/gi,(function(t,e){return String.fromCharCode(parseInt(e,16))}))).replace(/\\[\d\d\d]{3}/gi,(function(t){return String.fromCharCode(parseInt(t.replace(/\\/g,""),8))}))).replace(/\\[\d\d\d]{2}/gi,(function(t){return String.fromCharCode(parseInt(t.replace(/\\/g,""),8))}))},ne=function(t){for(var e="",n=0;n>=0;){if(!((n=t.indexOf("<script"))>=0)){e+=t,n=-1;break}e+=t.substr(0,n),(n=(t=t.substr(n+1)).indexOf("<\/script>"))>=0&&(n+=9,t=t.substr(n))}var r=ee(e);return(r=(r=(r=(r=r.replaceAll(/script>/gi,"#")).replaceAll(/javascript:/gi,"#")).replaceAll(/javascript&colon/gi,"#")).replaceAll(/onerror=/gi,"onerror:")).replaceAll(/<iframe/gi,"")},re=function(t,e){var n=t,r=!0;if(!e.flowchart||!1!==e.flowchart.htmlLabels&&"false"!==e.flowchart.htmlLabels||(r=!1),r){var i=e.securityLevel;"antiscript"===i||"strict"===i?n=ne(n):"loose"!==i&&(n=(n=(n=se(n)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),n=ae(n))}return n},ie=function(t,e){return t?e.dompurifyConfig?te().sanitize(re(t,e),e.dompurifyConfig):te().sanitize(re(t,e)):t},oe=/<br\s*\/?>/gi,ae=function(t){return t.replace(/#br#/g,"<br/>")},se=function(t){return t.replace(oe,"#br#")},ce=function(t){return"false"!==t&&!1!==t};const le={getRows:function(t){if(!t)return 1;var e=se(t);return(e=e.replace(/\\n/g,"#br#")).split("#br#")},sanitizeText:ie,sanitizeTextOrArray:function(t,e){return"string"==typeof t?ie(t,e):t.flat().map((function(t){return ie(t,e)}))},hasBreaks:function(t){return oe.test(t)},splitBreaks:function(t){return t.split(oe)},lineBreakRegex:oe,removeScript:ne,getUrl:function(t){var e="";return t&&(e=(e=(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),e},evaluate:ce,removeEscapes:ee};var ue="",he="",de="",fe=function(t){return ie(t,Xt())},pe=function(){ue="",de="",he=""},ge=function(t){ue=fe(t).replace(/^\s+/g,"")},me=function(){return ue||he},ye=function(t){de=fe(t).replace(/\n\s+/g,"\n")},be=function(){return de},ve=function(t){he=fe(t)},_e=function(){return he};function xe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return we(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}var De,Ce=[],Ee=[""],Se="global",Te="",Ae=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Me=[],Fe="",Oe=!1,Ne=4,Be=2,Ie=function(t){return null==t?Ce:Ce.filter((function(e){return e.parentBoundary===t}))},Le=function(){return Oe};const Re={addPersonOrSystem:function(t,e,n,r,i,o,a){if(null!==e&&null!==n){var s={},c=Ce.find((function(t){return t.alias===e}));if(c&&e===c.alias?s=c:(s.alias=e,Ce.push(s)),s.label=null==n?{text:""}:{text:n},null==r)s.descr={text:""};else if("object"===ke(r)){var l=xe(Object.entries(r)[0],2),u=l[0],h=l[1];s[u]={text:h}}else s.descr={text:r};if("object"===ke(i)){var d=xe(Object.entries(i)[0],2),f=d[0],p=d[1];s[f]=p}else s.sprite=i;if("object"===ke(o)){var g=xe(Object.entries(o)[0],2),m=g[0],y=g[1];s[m]=y}else s.tags=o;if("object"===ke(a)){var b=xe(Object.entries(a)[0],2),v=b[0],_=b[1];s[v]=_}else s.link=a;s.typeC4Shape={text:t},s.parentBoundary=Se,s.wrap=Le()}},addPersonOrSystemBoundary:function(t,e,n,r,i){if(null!==t&&null!==e){var o={},a=Ae.find((function(e){return e.alias===t}));if(a&&t===a.alias?o=a:(o.alias=t,Ae.push(o)),o.label=null==e?{text:""}:{text:e},null==n)o.type={text:"system"};else if("object"===ke(n)){var s=xe(Object.entries(n)[0],2),c=s[0],l=s[1];o[c]={text:l}}else o.type={text:n};if("object"===ke(r)){var u=xe(Object.entries(r)[0],2),h=u[0],d=u[1];o[h]=d}else o.tags=r;if("object"===ke(i)){var f=xe(Object.entries(i)[0],2),p=f[0],g=f[1];o[p]=g}else o.link=i;o.parentBoundary=Se,o.wrap=Le(),Te=Se,Se=t,Ee.push(Te)}},addContainer:function(t,e,n,r,i,o,a,s){if(null!==e&&null!==n){var c={},l=Ce.find((function(t){return t.alias===e}));if(l&&e===l.alias?c=l:(c.alias=e,Ce.push(c)),c.label=null==n?{text:""}:{text:n},null==r)c.techn={text:""};else if("object"===ke(r)){var u=xe(Object.entries(r)[0],2),h=u[0],d=u[1];c[h]={text:d}}else c.techn={text:r};if(null==i)c.descr={text:""};else if("object"===ke(i)){var f=xe(Object.entries(i)[0],2),p=f[0],g=f[1];c[p]={text:g}}else c.descr={text:i};if("object"===ke(o)){var m=xe(Object.entries(o)[0],2),y=m[0],b=m[1];c[y]=b}else c.sprite=o;if("object"===ke(a)){var v=xe(Object.entries(a)[0],2),_=v[0],x=v[1];c[_]=x}else c.tags=a;if("object"===ke(s)){var w=xe(Object.entries(s)[0],2),k=w[0],D=w[1];c[k]=D}else c.link=s;c.wrap=Le(),c.typeC4Shape={text:t},c.parentBoundary=Se}},addContainerBoundary:function(t,e,n,r,i){if(null!==t&&null!==e){var o={},a=Ae.find((function(e){return e.alias===t}));if(a&&t===a.alias?o=a:(o.alias=t,Ae.push(o)),o.label=null==e?{text:""}:{text:e},null==n)o.type={text:"container"};else if("object"===ke(n)){var s=xe(Object.entries(n)[0],2),c=s[0],l=s[1];o[c]={text:l}}else o.type={text:n};if("object"===ke(r)){var u=xe(Object.entries(r)[0],2),h=u[0],d=u[1];o[h]=d}else o.tags=r;if("object"===ke(i)){var f=xe(Object.entries(i)[0],2),p=f[0],g=f[1];o[p]=g}else o.link=i;o.parentBoundary=Se,o.wrap=Le(),Te=Se,Se=t,Ee.push(Te)}},addComponent:function(t,e,n,r,i,o,a,s){if(null!==e&&null!==n){var c={},l=Ce.find((function(t){return t.alias===e}));if(l&&e===l.alias?c=l:(c.alias=e,Ce.push(c)),c.label=null==n?{text:""}:{text:n},null==r)c.techn={text:""};else if("object"===ke(r)){var u=xe(Object.entries(r)[0],2),h=u[0],d=u[1];c[h]={text:d}}else c.techn={text:r};if(null==i)c.descr={text:""};else if("object"===ke(i)){var f=xe(Object.entries(i)[0],2),p=f[0],g=f[1];c[p]={text:g}}else c.descr={text:i};if("object"===ke(o)){var m=xe(Object.entries(o)[0],2),y=m[0],b=m[1];c[y]=b}else c.sprite=o;if("object"===ke(a)){var v=xe(Object.entries(a)[0],2),_=v[0],x=v[1];c[_]=x}else c.tags=a;if("object"===ke(s)){var w=xe(Object.entries(s)[0],2),k=w[0],D=w[1];c[k]=D}else c.link=s;c.wrap=Le(),c.typeC4Shape={text:t},c.parentBoundary=Se}},addDeploymentNode:function(t,e,n,r,i,o,a,s){if(null!==e&&null!==n){var c={},l=Ae.find((function(t){return t.alias===e}));if(l&&e===l.alias?c=l:(c.alias=e,Ae.push(c)),c.label=null==n?{text:""}:{text:n},null==r)c.type={text:"node"};else if("object"===ke(r)){var u=xe(Object.entries(r)[0],2),h=u[0],d=u[1];c[h]={text:d}}else c.type={text:r};if(null==i)c.descr={text:""};else if("object"===ke(i)){var f=xe(Object.entries(i)[0],2),p=f[0],g=f[1];c[p]={text:g}}else c.descr={text:i};if("object"===ke(a)){var m=xe(Object.entries(a)[0],2),y=m[0],b=m[1];c[y]=b}else c.tags=a;if("object"===ke(s)){var v=xe(Object.entries(s)[0],2),_=v[0],x=v[1];c[_]=x}else c.link=s;c.nodeType=t,c.parentBoundary=Se,c.wrap=Le(),Te=Se,Se=e,Ee.push(Te)}},popBoundaryParseStack:function(){Se=Te,Ee.pop(),Te=Ee.pop(),Ee.push(Te)},addRel:function(t,e,n,r,i,o,a,s,c){if(null!=t&&null!=e&&null!=n&&null!=r){var l={},u=Me.find((function(t){return t.from===e&&t.to===n}));if(u?l=u:Me.push(l),l.type=t,l.from=e,l.to=n,l.label={text:r},null==i)l.techn={text:""};else if("object"===ke(i)){var h=xe(Object.entries(i)[0],2),d=h[0],f=h[1];l[d]={text:f}}else l.techn={text:i};if(null==o)l.descr={text:""};else if("object"===ke(o)){var p=xe(Object.entries(o)[0],2),g=p[0],m=p[1];l[g]={text:m}}else l.descr={text:o};if("object"===ke(a)){var y=xe(Object.entries(a)[0],2),b=y[0],v=y[1];l[b]=v}else l.sprite=a;if("object"===ke(s)){var _=xe(Object.entries(s)[0],2),x=_[0],w=_[1];l[x]=w}else l.tags=s;if("object"===ke(c)){var k=xe(Object.entries(c)[0],2),D=k[0],C=k[1];l[D]=C}else l.link=c;l.wrap=Le()}},updateElStyle:function(t,e,n,r,i,o,a,s,c,l,u){var h=Ce.find((function(t){return t.alias===e}));if(void 0!==h||void 0!==(h=Ae.find((function(t){return t.alias===e})))){if(null!=n)if("object"===ke(n)){var d=xe(Object.entries(n)[0],2),f=d[0],p=d[1];h[f]=p}else h.bgColor=n;if(null!=r)if("object"===ke(r)){var g=xe(Object.entries(r)[0],2),m=g[0],y=g[1];h[m]=y}else h.fontColor=r;if(null!=i)if("object"===ke(i)){var b=xe(Object.entries(i)[0],2),v=b[0],_=b[1];h[v]=_}else h.borderColor=i;if(null!=o)if("object"===ke(o)){var x=xe(Object.entries(o)[0],2),w=x[0],k=x[1];h[w]=k}else h.shadowing=o;if(null!=a)if("object"===ke(a)){var D=xe(Object.entries(a)[0],2),C=D[0],E=D[1];h[C]=E}else h.shape=a;if(null!=s)if("object"===ke(s)){var S=xe(Object.entries(s)[0],2),T=S[0],A=S[1];h[T]=A}else h.sprite=s;if(null!=c)if("object"===ke(c)){var M=xe(Object.entries(c)[0],2),F=M[0],O=M[1];h[F]=O}else h.techn=c;if(null!=l)if("object"===ke(l)){var N=xe(Object.entries(l)[0],2),B=N[0],I=N[1];h[B]=I}else h.legendText=l;if(null!=u)if("object"===ke(u)){var L=xe(Object.entries(u)[0],2),R=L[0],P=L[1];h[R]=P}else h.legendSprite=u}},updateRelStyle:function(t,e,n,r,i,o,a){var s=Me.find((function(t){return t.from===e&&t.to===n}));if(void 0!==s){if(null!=r)if("object"===ke(r)){var c=xe(Object.entries(r)[0],2),l=c[0],u=c[1];s[l]=u}else s.textColor=r;if(null!=i)if("object"===ke(i)){var h=xe(Object.entries(i)[0],2),d=h[0],f=h[1];s[d]=f}else s.lineColor=i;if(null!=o)if("object"===ke(o)){var p=xe(Object.entries(o)[0],2),g=p[0],m=p[1];s[g]=parseInt(m)}else s.offsetX=parseInt(o);if(null!=a)if("object"===ke(a)){var y=xe(Object.entries(a)[0],2),b=y[0],v=y[1];s[b]=parseInt(v)}else s.offsetY=parseInt(a)}},updateLayoutConfig:function(t,e,n){var r=Ne,i=Be;if("object"===ke(e)){var o=xe(Object.entries(e)[0],2),a=(o[0],o[1]);r=parseInt(a)}else r=parseInt(e);if("object"===ke(n)){var s=xe(Object.entries(n)[0],2),c=(s[0],s[1]);i=parseInt(c)}else i=parseInt(n);r>=1&&(Ne=r),i>=1&&(Be=i)},autoWrap:Le,setWrap:function(t){Oe=t},getC4ShapeArray:Ie,getC4Shape:function(t){return Ce.find((function(e){return e.alias===t}))},getC4ShapeKeys:function(t){return Object.keys(Ie(t))},getBoundarys:function(t){return null==t?Ae:Ae.filter((function(e){return e.parentBoundary===t}))},getCurrentBoundaryParse:function(){return Se},getParentBoundaryParse:function(){return Te},getRels:function(){return Me},getTitle:function(){return Fe},getC4Type:function(){return De},getC4ShapeInRow:function(){return Ne},getC4BoundaryInRow:function(){return Be},setAccTitle:ge,getAccTitle:me,getAccDescription:be,setAccDescription:ye,parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},getConfig:function(){return Xt().c4},clear:function(){Ce=[],Ae=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Te="",Se="global",Ee=[""],Me=[],Ee=[""],Fe="",Oe=!1,Ne=4,Be=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(t){var e=ie(t,Xt());Fe=e},setC4Type:function(t){var e=ie(t,Xt());De=e}};var Pe=n(7967);function je(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ze=function(t,e){var n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),"undefined"!==e.attrs&&null!==e.attrs)for(var r in e.attrs)n.attr(r,e.attrs[r]);return"undefined"!==e.class&&n.attr("class",e.class),n},$e=function(){function t(t,e,n,i,o,a,s){r(e.append("text").attr("x",n+o/2).attr("y",i+a/2+5).style("text-anchor","middle").text(t),s)}function e(t,e,n,i,o,a,s,c){for(var l=c.fontSize,u=c.fontFamily,h=c.fontWeight,d=t.split(le.lineBreakRegex),f=0;f<d.length;f++){var p=f*l-l*(d.length-1)/2,g=e.append("text").attr("x",n+o/2).attr("y",i).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",l).style("font-weight",h).style("font-family",u);g.append("tspan").attr("dy",p).text(d[f]).attr("alignment-baseline","mathematical"),r(g,s)}}function n(t,n,i,o,a,s,c,l){var u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,a,0,c,l),r(h,c)}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}();const Ye=function(t,e,n){var r=e.bgColor?e.bgColor:n[e.typeC4Shape.text+"_bg_color"],i=e.borderColor?e.borderColor:n[e.typeC4Shape.text+"_border_color"],o=e.fontColor?e.fontColor:"#FFFFFF",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}var s=t.append("g");s.attr("class","person-man");var c={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":c.x=e.x,c.y=e.y,c.fill=r,c.width=e.width,c.height=e.height,c.style="stroke:"+i+";stroke-width:0.5;",c.rx=2.5,c.ry=2.5,ze(s,c);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":s.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":s.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2))}var l,u,h=(l=n,u=e.typeC4Shape.text,{fontFamily:l[u+"FontFamily"],fontSize:l[u+"FontSize"],fontWeight:l[u+"FontWeight"]});switch(s.append("text").attr("fill",o).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":!function(t,e,n,r,i,o){var a=t.append("image");a.attr("width",e),a.attr("height",n),a.attr("x",r),a.attr("y",i);var s=o.startsWith("data:image/png;base64")?o:(0,Pe.N)(o);a.attr("xlink:href",s)}(s,48,48,e.x+e.width/2-24,e.y+e.image.Y,a)}var d=n[e.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=o,$e(n)(e.label.text,s,e.x,e.y+e.label.Y,e.width,e.height,{fill:o},d),(d=n[e.typeC4Shape.text+"Font"]()).fontColor=o,e.thchn&&""!==e.thchn.text?$e(n)(e.thchn.text,s,e.x,e.y+e.thchn.Y,e.width,e.height,{fill:o,"font-style":"italic"},d):e.type&&""!==e.type.text&&$e(n)(e.type.text,s,e.x,e.y+e.type.Y,e.width,e.height,{fill:o,"font-style":"italic"},d),e.descr&&""!==e.descr.text&&((d=n.personFont()).fontColor=o,$e(n)(e.descr.text,s,e.x,e.y+e.descr.Y,e.width,e.height,{fill:o},d)),e.height},We=function(t,e,n){var r,i=t.append("g"),o=0,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return je(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(a.s();!(r=a.n()).done;){var s=r.value,c=s.textColor?s.textColor:"#444444",l=s.lineColor?s.lineColor:"#444444",u=s.offsetX?parseInt(s.offsetX):0,h=s.offsetY?parseInt(s.offsetY):0;if(0===o){var d=i.append("line");d.attr("x1",s.startPoint.x),d.attr("y1",s.startPoint.y),d.attr("x2",s.endPoint.x),d.attr("y2",s.endPoint.y),d.attr("stroke-width","1"),d.attr("stroke",l),d.style("fill","none"),"rel_b"!==s.type&&d.attr("marker-end","url(#arrowhead)"),"birel"!==s.type&&"rel_b"!==s.type||d.attr("marker-start","url(#arrowend)"),o=-1}else{var f=i.append("path");f.attr("fill","none").attr("stroke-width","1").attr("stroke",l).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",s.startPoint.x).replaceAll("starty",s.startPoint.y).replaceAll("controlx",s.startPoint.x+(s.endPoint.x-s.startPoint.x)/2-(s.endPoint.x-s.startPoint.x)/4).replaceAll("controly",s.startPoint.y+(s.endPoint.y-s.startPoint.y)/2).replaceAll("stopx",s.endPoint.x).replaceAll("stopy",s.endPoint.y)),"rel_b"!==s.type&&f.attr("marker-end","url(#arrowhead)"),"birel"!==s.type&&"rel_b"!==s.type||f.attr("marker-start","url(#arrowend)")}var p=n.messageFont();$e(n)(s.label.text,i,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+u,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+h,s.label.width,s.label.height,{fill:c},p),s.techn&&""!==s.techn.text&&(p=n.messageFont(),$e(n)("["+s.techn.text+"]",i,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+u,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+n.messageFontSize+5+h,Math.max(s.label.width,s.techn.width),s.techn.height,{fill:c,"font-style":"italic"},p))}}catch(t){a.e(t)}finally{a.f()}};Pe.N;var Ue=n(2536),qe=n.n(Ue),Ve=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,He=/\s*%%.*\n/gm,Ge={};const Xe=function(t,e){if((t=t.replace(Ve,"").replace(He,"\n")).match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/))return"c4";if(t.match(/^\s*sequenceDiagram/))return"sequence";if(t.match(/^\s*gantt/))return"gantt";if(t.match(/^\s*classDiagram-v2/))return"classDiagram";if(t.match(/^\s*classDiagram/))return e&&e.class&&"dagre-wrapper"===e.class.defaultRenderer?"classDiagram":"class";if(t.match(/^\s*stateDiagram-v2/))return"stateDiagram";if(t.match(/^\s*stateDiagram/))return e&&e.class&&"dagre-wrapper"===e.state.defaultRenderer?"stateDiagram":"state";if(t.match(/^\s*flowchart/))return"flowchart-v2";if(t.match(/^\s*info/))return"info";if(t.match(/^\s*pie/))return"pie";if(t.match(/^\s*erDiagram/))return"er";if(t.match(/^\s*journey/))return"journey";if(t.match(/^\s*requirement/)||t.match(/^\s*requirementDiagram/))return"requirement";if(e&&e.flowchart&&"dagre-wrapper"===e.flowchart.defaultRenderer)return"flowchart-v2";for(var n=Object.keys(Ge),r=0;r<n.length;r++){var i=n[r],o=Ge[i];if(o&&o.detector(t))return i}return"flowchart"};var Je=void 0;function Ke(t){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(t)}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qe(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=en(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function tn(t){return function(t){if(Array.isArray(t))return nn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||en(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(t,e){if(t){if("string"==typeof t)return nn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(t,e):void 0}}function nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rn,on={curveBasis:l.curveBasis,curveBasisClosed:l.curveBasisClosed,curveBasisOpen:l.curveBasisOpen,curveLinear:l.curveLinear,curveLinearClosed:l.curveLinearClosed,curveMonotoneX:l.curveMonotoneX,curveMonotoneY:l.curveMonotoneY,curveNatural:l.curveNatural,curveStep:l.curveStep,curveStepAfter:l.curveStepAfter,curveStepBefore:l.curveStepBefore},an=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,sn=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,cn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n=new RegExp("[%]{2}(?![{]".concat(sn.source,")(?=[}][%]{2}).*\n"),"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),a.debug("Detecting diagram directive".concat(null!==e?" type:"+e:""," based on the text:").concat(t));for(var r,i=[];null!==(r=an.exec(t));)if(r.index===an.lastIndex&&an.lastIndex++,r&&!e||e&&r[1]&&r[1].match(e)||e&&r[2]&&r[2].match(e)){var o=r[1]?r[1]:r[2],s=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:o,args:s})}return 0===i.length&&i.push({type:t,args:null}),1===i.length?i[0]:i}catch(n){return a.error("ERROR: ".concat(n.message," - Unable to parse directive\n      ").concat(null!==e?" type:"+e:""," based on the text:").concat(t)),{type:null,args:null}}},ln=function(t,e){var n={};return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=e?e.apply(Je,i):i[0];if(a in n)return n[a];var s=t.apply(void 0,i);return n[a]=s,s}},un=function(t,e){if(!t)return e;var n="curve".concat(t.charAt(0).toUpperCase()+t.slice(1));return on[n]||e},hn=function(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0},dn=function(t){for(var e="",n="",r=0;r<t.length;r++)void 0!==t[r]&&(t[r].startsWith("color:")||t[r].startsWith("text-align:")?n=n+t[r]+";":e=e+t[r]+";");return{style:e,labelStyle:n}},fn=0,pn=function(){return fn++,"id-"+Math.random().toString(36).substr(2,12)+"-"+fn},gn=function(t){return function(t){for(var e="",n="0123456789abcdef",r=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}(t.length)},mn=function(t,e){var n=e.text.replace(le.lineBreakRegex," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",e.fontSize),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),void 0!==e.class&&r.attr("class",e.class);var i=r.append("tspan");return i.attr("x",e.x+2*e.textMargin),i.attr("fill",e.fill),i.text(n),r},yn=ln((function(t,e,n){if(!t)return t;if(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),le.lineBreakRegex.test(t))return t;var r=t.split(" "),i=[],o="";return r.forEach((function(t,a){var s=_n("".concat(t," "),n),c=_n(o,n);if(s>e){var l=bn(t,e,"-",n),u=l.hyphenatedStrings,h=l.remainingWord;i.push.apply(i,[o].concat(tn(u))),o=h}else c+s>=e?(i.push(o),o=t):o=[o,t].filter(Boolean).join(" ");a+1===r.length&&i.push(o)})),i.filter((function(t){return""!==t})).join(n.joinWith)}),(function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n.fontSize,"-").concat(n.fontWeight,"-").concat(n.fontFamily,"-").concat(n.joinWith)})),bn=ln((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0;r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);var i=t.split(""),o=[],a="";return i.forEach((function(t,s){var c="".concat(a).concat(t);if(_n(c,r)>=e){var l=s+1,u=i.length===l,h="".concat(c).concat(n);o.push(u?c:h),a=""}else a=c})),{hyphenatedStrings:o,remainingWord:a}}),(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0;return"".concat(t,"-").concat(e,"-").concat(n,"-").concat(r.fontSize,"-").concat(r.fontWeight,"-").concat(r.fontFamily)})),vn=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),xn(t,e).height},_n=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),xn(t,e).width},xn=ln((function(t,e){var n=e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),r=n.fontSize,i=n.fontFamily,o=n.fontWeight;if(!t)return{width:0,height:0};var a=["sans-serif",i],s=t.split(le.lineBreakRegex),c=[],u=(0,l.select)("body");if(!u.remove)return{width:0,height:0,lineHeight:0};for(var h=u.append("svg"),d=0,f=a;d<f.length;d++){var p,g=f[d],m=0,y={width:0,height:0,lineHeight:0},b=Qe(s);try{for(b.s();!(p=b.n()).done;){var v=p.value,_={x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0};_.text=v;var x=mn(h,_).style("font-size",r).style("font-weight",o).style("font-family",g),w=(x._groups||x)[0][0].getBBox();y.width=Math.round(Math.max(y.width,w.width)),m=Math.round(w.height),y.height+=m,y.lineHeight=Math.round(Math.max(y.lineHeight,m))}}catch(t){b.e(t)}finally{b.f()}c.push(y)}return h.remove(),c[isNaN(c[1].height)||isNaN(c[1].width)||isNaN(c[1].lineHeight)||c[0].height>c[1].height&&c[0].width>c[1].width&&c[0].lineHeight>c[1].lineHeight?0:1]}),(function(t,e){return"".concat(t,"-").concat(e.fontSize,"-").concat(e.fontWeight,"-").concat(e.fontFamily)})),wn=function(t,e,n){var r=new Map;return r.set("height",t),n?(r.set("width","100%"),r.set("style","max-width: ".concat(e,"px;"))):r.set("width",e),r},kn=function(t,e,n,r){!function(t,e){var n,r=Qe(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.attr(i[0],i[1])}}catch(t){r.e(t)}finally{r.f()}}(t,wn(e,n,r))},Dn=function(t,e,n,r){var i=e.node().getBBox(),o=i.width,s=i.height,c=t._label.width,l=t._label.height,u=0,h=0;o>c?(u=(o-c)/2+n,c=o+2*n):Math.abs(o-c)>=2*n+1&&(c-=n),s>l&&(h=(s-l)/2+n,l=s+2*n),kn(e,l,c,r);var d="0 0 ".concat(c," ").concat(l);a.debug("Graph.label",t._label,"swidth",o,"sheight",s,"width",c,"height",l,"tx",u,"ty",h,"vBox",d),e.attr("viewBox",d),e.select("g").attr("transform","translate(".concat(u,", ").concat(h,")"))},Cn=function t(e){if(a.debug("directiveSanitizer called with",e),"object"===Ke(e)&&(e.length?e.forEach((function(e){return t(e)})):Object.keys(e).forEach((function(n){a.debug("Checking key",n),0===n.indexOf("__")&&(a.debug("sanitize deleting __ option",n),delete e[n]),n.indexOf("proto")>=0&&(a.debug("sanitize deleting proto option",n),delete e[n]),n.indexOf("constr")>=0&&(a.debug("sanitize deleting constr option",n),delete e[n]),n.indexOf("themeCSS")>=0&&(a.debug("sanitizing themeCss option"),e[n]=En(e[n])),n.indexOf("fontFamily")>=0&&(a.debug("sanitizing fontFamily option"),e[n]=En(e[n])),n.indexOf("altFontFamily")>=0&&(a.debug("sanitizing altFontFamily option"),e[n]=En(e[n])),jt.indexOf(n)<0?(a.debug("sanitize deleting option",n),delete e[n]):"object"===Ke(e[n])&&(a.debug("sanitize deleting object",n),t(e[n]))}))),e.themeVariables)for(var n=Object.keys(e.themeVariables),r=0;r<n.length;r++){var i=n[r],o=e.themeVariables[i];o&&o.match&&!o.match(/^[a-zA-Z0-9#,";()%. ]+$/)&&(e.themeVariables[i]="")}a.debug("After sanitization",e)},En=function(t){for(var e=0,n=0,r=0;r<t.length;r++){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";"{"===t[r]?e++:"}"===t[r]&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};const Sn={assignWithDepth:K,wrapLabel:yn,calculateTextHeight:vn,calculateTextWidth:_n,calculateTextDimensions:xn,calculateSvgSizeAttrs:wn,configureSvgSize:kn,setupGraphViewbox:Dn,detectInit:function(t,e){var n=cn(t,/(?:init\b)|(?:initialize\b)/),r={};if(Array.isArray(n)){var i=n.map((function(t){return t.args}));Cn(i),r=K(r,tn(i))}else r=n.args;if(r){var o=Xe(t,e);["config"].forEach((function(t){void 0!==r[t]&&("flowchart-v2"===o&&(o="flowchart"),r[o]=r[t],delete r[t])}))}return r},detectDirective:cn,isSubstringInArray:function(t,e){for(var n=0;n<e.length;n++)if(e[n].match(t))return n;return-1},interpolateToCurve:un,calcLabelPosition:function(t){return 1===t.length?t[0]:function(t){var e,n=0;t.forEach((function(t){n+=hn(t,e),e=t}));var r=n/2,i=void 0;return e=void 0,t.forEach((function(t){if(e&&!i){var n=hn(t,e);if(n<r)r-=n;else{var o=r/n;o<=0&&(i=e),o>=1&&(i={x:t.x,y:t.y}),o>0&&o<1&&(i={x:(1-o)*e.x+o*t.x,y:(1-o)*e.y+o*t.y})}}e=t})),i}(t)},calcCardinalityPosition:function(t,e,n){var r;a.info("our points",e),e[0]!==n&&(e=e.reverse()),e.forEach((function(t){hn(t,r),r=t}));var i,o=25;r=void 0,e.forEach((function(t){if(r&&!i){var e=hn(t,r);if(e<o)o-=e;else{var n=o/e;n<=0&&(i=r),n>=1&&(i={x:t.x,y:t.y}),n>0&&n<1&&(i={x:(1-n)*r.x+n*t.x,y:(1-n)*r.y+n*t.y})}}r=t}));var s=t?10:5,c=Math.atan2(e[0].y-i.y,e[0].x-i.x),l={x:0,y:0};return l.x=Math.sin(c)*s+(e[0].x+i.x)/2,l.y=-Math.cos(c)*s+(e[0].y+i.y)/2,l},calcTerminalLabelPosition:function(t,e,n){var r,i=JSON.parse(JSON.stringify(n));a.info("our points",i),"start_left"!==e&&"start_right"!==e&&(i=i.reverse()),i.forEach((function(t){hn(t,r),r=t}));var o,s=25+t;r=void 0,i.forEach((function(t){if(r&&!o){var e=hn(t,r);if(e<s)s-=e;else{var n=s/e;n<=0&&(o=r),n>=1&&(o={x:t.x,y:t.y}),n>0&&n<1&&(o={x:(1-n)*r.x+n*t.x,y:(1-n)*r.y+n*t.y})}}r=t}));var c=10+.5*t,l=Math.atan2(i[0].y-o.y,i[0].x-o.x),u={x:0,y:0};return u.x=Math.sin(l)*c+(i[0].x+o.x)/2,u.y=-Math.cos(l)*c+(i[0].y+o.y)/2,"start_left"===e&&(u.x=Math.sin(l+Math.PI)*c+(i[0].x+o.x)/2,u.y=-Math.cos(l+Math.PI)*c+(i[0].y+o.y)/2),"end_right"===e&&(u.x=Math.sin(l-Math.PI)*c+(i[0].x+o.x)/2-5,u.y=-Math.cos(l-Math.PI)*c+(i[0].y+o.y)/2-5),"end_left"===e&&(u.x=Math.sin(l)*c+(i[0].x+o.x)/2-5,u.y=-Math.cos(l)*c+(i[0].y+o.y)/2-5),u},formatUrl:function(t,e){var n=t.trim();if(n)return"loose"!==e.securityLevel?(0,Pe.N)(n):n},getStylesFromArray:dn,generateId:pn,random:gn,memoize:ln,runFunc:function(t){for(var e,n=t.split("."),r=n.length-1,i=n[r],o=window,a=0;a<r;a++)if(!(o=o[n[a]]))return;for(var s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];(e=o)[i].apply(e,c)},entityDecode:function(t){return rn=rn||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),rn.innerHTML=t,unescape(rn.textContent)},initIdGenerator:function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.deterministic=e,this.seed=n,this.count=n?n.length:0}var e,n;return e=t,(n=[{key:"next",value:function(){return this.deterministic?this.count++:Date.now()}}])&&Ze(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),directiveSanitizer:Cn,sanitizeCss:En};function Tn(t,e,n){if(void 0!==e.insert){var r=t.getAccTitle(),i=t.getAccDescription();e.attr("role","img").attr("aria-labelledby","chart-title-"+n+" chart-desc-"+n),e.insert("desc",":first-child").attr("id","chart-desc-"+n).text(i),e.insert("title",":first-child").attr("id","chart-title-"+n).text(r)}}function An(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function On(t,e,n){return e&&Fn(t.prototype,e),n&&Fn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Nn=0,Bn=0,In=4,Ln=2;Ue.parser.yy=Re;var Rn={},Pn=function(){function t(e){Mn(this,t),this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,jn(e.db.getConfig())}return On(t,[{key:"setData",value:function(t,e,n,r){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=e,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=r}},{key:"updateVal",value:function(t,e,n,r){void 0===t[e]?t[e]=n:t[e]=r(n,t[e])}},{key:"insert",value:function(t){this.nextData.cnt=this.nextData.cnt+1;var e=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+2*t.margin,n=e+t.width,r=this.nextData.starty+2*t.margin,i=r+t.height;(e>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>In)&&(e=this.nextData.startx+t.margin+Rn.nextLinePaddingX,r=this.nextData.stopy+2*t.margin,this.nextData.stopx=n=e+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=i=r+t.height,this.nextData.cnt=1),t.x=e,t.y=r,this.updateVal(this.data,"startx",e,Math.min),this.updateVal(this.data,"starty",r,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",i,Math.max),this.updateVal(this.nextData,"startx",e,Math.min),this.updateVal(this.nextData,"starty",r,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",i,Math.max)}},{key:"init",value:function(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},jn(t.db.getConfig())}},{key:"bumpLastMargin",value:function(t){this.data.stopx+=t,this.data.stopy+=t}}]),t}(),jn=function(t){K(Rn,t),t.fontFamily&&(Rn.personFontFamily=Rn.systemFontFamily=Rn.messageFontFamily=t.fontFamily),t.fontSize&&(Rn.personFontSize=Rn.systemFontSize=Rn.messageFontSize=t.fontSize),t.fontWeight&&(Rn.personFontWeight=Rn.systemFontWeight=Rn.messageFontWeight=t.fontWeight)},zn=function(t,e){return{fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}},$n=function(t){return{fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}};function Yn(t,e,n,r,i){if(!e[t].width)if(n)e[t].text=yn(e[t].text,i,r),e[t].textLines=e[t].text.split(le.lineBreakRegex).length,e[t].width=i,e[t].height=vn(e[t].text,r);else{var o=e[t].text.split(le.lineBreakRegex);e[t].textLines=o.length;var a=0;e[t].height=0,e[t].width=0;for(var s=0;s<o.length;s++)e[t].width=Math.max(_n(o[s],r),e[t].width),a=vn(o[s],r),e[t].height=e[t].height+a}}var Wn=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=Rn.c4ShapeMargin-35;var r=e.wrap&&Rn.wrap,i=$n(Rn);i.fontSize=i.fontSize+2,i.fontWeight="bold",Yn("label",e,r,i,_n(e.label.text,i)),function(t,e,n){var r=t.append("g"),i=e.bgColor?e.bgColor:"none",o=e.borderColor?e.borderColor:"#444444",a=e.fontColor?e.fontColor:"black",s={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(s={"stroke-width":1});var c={x:e.x,y:e.y,fill:i,stroke:o,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:s};ze(r,c);var l=n.boundaryFont();l.fontWeight="bold",l.fontSize=l.fontSize+2,l.fontColor=a,$e(n)(e.label.text,r,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},l),e.type&&""!==e.type.text&&((l=n.boundaryFont()).fontColor=a,$e(n)(e.type.text,r,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},l)),e.descr&&""!==e.descr.text&&((l=n.boundaryFont()).fontSize=l.fontSize-2,l.fontColor=a,$e(n)(e.descr.text,r,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},l))}(t,e,Rn)},Un=function(t,e,n,r){for(var i=0,o=0;o<r.length;o++){i=0;var a=n[r[o]],s=zn(Rn,a.typeC4Shape.text);switch(s.fontSize=s.fontSize-2,a.typeC4Shape.width=_n("<<"+a.typeC4Shape.text+">>",s),a.typeC4Shape.height=s.fontSize+2,a.typeC4Shape.Y=Rn.c4ShapePadding,i=a.typeC4Shape.Y+a.typeC4Shape.height-4,a.image={width:0,height:0,Y:0},a.typeC4Shape.text){case"person":case"external_person":a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height}a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height);var c=a.wrap&&Rn.wrap,l=Rn.width-2*Rn.c4ShapePadding,u=zn(Rn,a.typeC4Shape.text);u.fontSize=u.fontSize+2,u.fontWeight="bold",Yn("label",a,c,u,l),a.label.Y=i+8,i=a.label.Y+a.label.height,a.type&&""!==a.type.text?(a.type.text="["+a.type.text+"]",Yn("type",a,c,zn(Rn,a.typeC4Shape.text),l),a.type.Y=i+5,i=a.type.Y+a.type.height):a.techn&&""!==a.techn.text&&(a.techn.text="["+a.techn.text+"]",Yn("techn",a,c,zn(Rn,a.techn.text),l),a.techn.Y=i+5,i=a.techn.Y+a.techn.height);var h=i,d=a.label.width;a.descr&&""!==a.descr.text&&(Yn("descr",a,c,zn(Rn,a.typeC4Shape.text),l),a.descr.Y=i+20,i=a.descr.Y+a.descr.height,d=Math.max(a.label.width,a.descr.width),h=i-5*a.descr.textLines),d+=Rn.c4ShapePadding,a.width=Math.max(a.width||Rn.width,d,Rn.width),a.height=Math.max(a.height||Rn.height,h,Rn.height),a.margin=a.margin||Rn.c4ShapeMargin,t.insert(a),Ye(e,a,Rn)}t.bumpLastMargin(Rn.c4ShapeMargin)},qn=On((function t(e,n){Mn(this,t),this.x=e,this.y=n})),Vn=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=n+t.width/2,s=r+t.height/2,c=Math.abs(n-i),l=Math.abs(r-o),u=l/c,h=t.height/t.width,d=null;return r==o&&n<i?d=new qn(n+t.width,s):r==o&&n>i?d=new qn(n,s):n==i&&r<o?d=new qn(a,r+t.height):n==i&&r>o&&(d=new qn(a,r)),n>i&&r<o?d=h>=u?new qn(n,s+u*t.width/2):new qn(a-c/l*t.height/2,r+t.height):n<i&&r<o?d=h>=u?new qn(n+t.width,s+u*t.width/2):new qn(a+c/l*t.height/2,r+t.height):n<i&&r>o?d=h>=u?new qn(n+t.width,s-u*t.width/2):new qn(a+t.height/2*c/l,r):n>i&&r>o&&(d=h>=u?new qn(n,s-t.width/2*u):new qn(a-t.height/2*c/l,r)),d},Hn=function(t,e){var n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;var r=Vn(t,n);return n.x=t.x+t.width/2,n.y=t.y+t.height/2,{startPoint:r,endPoint:Vn(e,n)}};function Gn(t,e,n,r,i){var o=new Pn(i);o.data.widthLimit=n.data.widthLimit/Math.min(Ln,r.length);for(var a=0;a<r.length;a++){var s=r[a],c=0;s.image={width:0,height:0,Y:0},s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=c,c=s.image.Y+s.image.height);var l=s.wrap&&Rn.wrap,u=$n(Rn);if(u.fontSize=u.fontSize+2,u.fontWeight="bold",Yn("label",s,l,u,o.data.widthLimit),s.label.Y=c+8,c=s.label.Y+s.label.height,s.type&&""!==s.type.text&&(s.type.text="["+s.type.text+"]",Yn("type",s,l,$n(Rn),o.data.widthLimit),s.type.Y=c+5,c=s.type.Y+s.type.height),s.descr&&""!==s.descr.text){var h=$n(Rn);h.fontSize=h.fontSize-2,Yn("descr",s,l,h,o.data.widthLimit),s.descr.Y=c+20,c=s.descr.Y+s.descr.height}if(0==a||a%Ln==0){var d=n.data.startx+Rn.diagramMarginX,f=n.data.stopy+Rn.diagramMarginY+c;o.setData(d,d,f,f)}else{var p=o.data.stopx!==o.data.startx?o.data.stopx+Rn.diagramMarginX:o.data.startx,g=o.data.starty;o.setData(p,p,g,g)}o.name=s.alias;var m=i.db.getC4ShapeArray(s.alias),y=i.db.getC4ShapeKeys(s.alias);y.length>0&&Un(o,t,m,y),e=s.alias;var b=i.db.getBoundarys(e);b.length>0&&Gn(t,e,o,b,i),"global"!==s.alias&&Wn(t,s,o),n.data.stopy=Math.max(o.data.stopy+Rn.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(o.data.stopx+Rn.c4ShapeMargin,n.data.stopx),Nn=Math.max(Nn,n.data.stopx),Bn=Math.max(Bn,n.data.stopy)}}const Xn={drawPersonOrSystemArray:Un,drawBoundary:Wn,setConf:jn,draw:function(t,e,n,r){Rn=Xt().c4;var i,o=Xt().securityLevel;"sandbox"===o&&(i=(0,l.select)("#i"+e));var s="sandbox"===o?(0,l.select)(i.nodes()[0].contentDocument.body):(0,l.select)("body"),c=r.db;r.db.setWrap(Rn.wrap),In=c.getC4ShapeInRow(),Ln=c.getC4BoundaryInRow(),a.debug("C:".concat(JSON.stringify(Rn,null,2)));var u="sandbox"===o?s.select('[id="'.concat(e,'"]')):(0,l.select)('[id="'.concat(e,'"]'));u.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"),function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")}(u),function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")}(u);var h=new Pn(r);h.setData(Rn.diagramMarginX,Rn.diagramMarginX,Rn.diagramMarginY,Rn.diagramMarginY),h.data.widthLimit=screen.availWidth,Nn=Rn.diagramMarginX,Bn=Rn.diagramMarginY;var d=r.db.getTitle();r.db.getC4Type(),Gn(u,"",h,r.db.getBoundarys(""),r),function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")}(u),function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")}(u),function(t){var e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")}(u),function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}(u),function(t,e,n,r){var i,o,a=0,s=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return An(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;a+=1;var l=c.wrap&&Rn.wrap,u={fontFamily:(o=Rn).messageFontFamily,fontSize:o.messageFontSize,fontWeight:o.messageFontWeight};"C4Dynamic"===r.db.getC4Type()&&(c.label.text=a+": "+c.label.text);var h=_n(c.label.text,u);Yn("label",c,l,u,h),c.techn&&""!==c.techn.text&&Yn("techn",c,l,u,h=_n(c.techn.text,u)),c.descr&&""!==c.descr.text&&Yn("descr",c,l,u,h=_n(c.descr.text,u));var d=n(c.from),f=n(c.to),p=Hn(d,f);c.startPoint=p.startPoint,c.endPoint=p.endPoint}}catch(t){s.e(t)}finally{s.f()}We(t,e,Rn)}(u,r.db.getRels(),r.db.getC4Shape,r),h.data.stopx=Nn,h.data.stopy=Bn;var f=h.data,p=f.stopy-f.starty+2*Rn.diagramMarginY,g=f.stopx-f.startx+2*Rn.diagramMarginX;d&&u.append("text").text(d).attr("x",(f.stopx-f.startx)/2-4*Rn.diagramMarginX).attr("y",f.starty+Rn.diagramMarginY),kn(u,p,g,Rn.useMaxWidth);var m=d?60:0;u.attr("viewBox",f.startx-Rn.diagramMarginX+" -"+(Rn.diagramMarginY+m)+" "+g+" "+(p+m)),Tn(Ue.parser.yy,u,e),a.debug("models:",f)}};function Jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kn="classid-",Zn=[],Qn={},tr=0,er=[],nr=function(t){return le.sanitizeText(t,Xt())},rr=function(t){var e="",n=t;if(t.indexOf("~")>0){var r=t.split("~");n=r[0],e=le.sanitizeText(r[1],Xt())}return{className:n,type:e}},ir=function(t){var e=rr(t);void 0===Qn[e.className]&&(Qn[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:Kn+e.className+"-"+tr},tr++)},or=function(t){for(var e=Object.keys(Qn),n=0;n<e.length;n++)if(Qn[e[n]].id===t)return Qn[e[n]].domId},ar=function(t,e){var n=rr(t).className,r=Qn[n];if("string"==typeof e){var i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?r.annotations.push(nr(i.substring(2,i.length-2))):i.indexOf(")")>0?r.methods.push(nr(i)):i&&r.members.push(nr(i))}},sr=function(t,e){t.split(",").forEach((function(t){var n=t;t[0].match(/\d/)&&(n=Kn+n),void 0!==Qn[n]&&Qn[n].cssClasses.push(e)}))},cr=function(t,e,n){var r=Xt(),i=t,o=or(i);if("loose"===r.securityLevel&&void 0!==e&&void 0!==Qn[i]){var a=[];if("string"==typeof n){a=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var s=0;s<a.length;s++){var c=a[s].trim();'"'===c.charAt(0)&&'"'===c.charAt(c.length-1)&&(c=c.substr(1,c.length-2)),a[s]=c}}0===a.length&&a.push(o),er.push((function(){var t=document.querySelector('[id="'.concat(o,'"]'));null!==t&&t.addEventListener("click",(function(){var t;Sn.runFunc.apply(Sn,[e].concat(function(t){if(Array.isArray(t))return Jn(t)}(t=a)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),!1)}))}},lr=function(t){var e=(0,l.select)(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=(0,l.select)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,l.select)(t).select("svg").selectAll("g.node").on("mouseover",(function(){var t=(0,l.select)(this);if(null!==t.attr("title")){var n=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(t.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),t.classed("hover",!0)}})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),(0,l.select)(this).classed("hover",!1)}))};er.push(lr);var ur="TB";const hr={parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},setAccTitle:ge,getAccTitle:me,getAccDescription:be,setAccDescription:ye,getConfig:function(){return Xt().class},addClass:ir,bindFunctions:function(t){er.forEach((function(e){e(t)}))},clear:function(){Zn=[],Qn={},(er=[]).push(lr),pe()},getClass:function(t){return Qn[t]},getClasses:function(){return Qn},addAnnotation:function(t,e){var n=rr(t).className;Qn[n].annotations.push(e)},getRelations:function(){return Zn},addRelation:function(t){a.debug("Adding relation: "+JSON.stringify(t)),ir(t.id1),ir(t.id2),t.id1=rr(t.id1).className,t.id2=rr(t.id2).className,t.relationTitle1=le.sanitizeText(t.relationTitle1.trim(),Xt()),t.relationTitle2=le.sanitizeText(t.relationTitle2.trim(),Xt()),Zn.push(t)},getDirection:function(){return ur},setDirection:function(t){ur=t},addMember:ar,addMembers:function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach((function(e){return ar(t,e)})))},cleanupLabel:function(t){return":"===t.substring(0,1)?le.sanitizeText(t.substr(1).trim(),Xt()):nr(t.trim())},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){cr(t,e,n),Qn[t].haveCallback=!0})),sr(t,"clickable")},setCssClass:sr,setLink:function(t,e,n){var r=Xt();t.split(",").forEach((function(t){var i=t;t[0].match(/\d/)&&(i=Kn+i),void 0!==Qn[i]&&(Qn[i].link=Sn.formatUrl(e,r),"sandbox"===r.securityLevel?Qn[i].linkTarget="_top":Qn[i].linkTarget="string"==typeof n?nr(n):"_blank")})),sr(t,"clickable")},getTooltip:function(t){return Qn[t].tooltip},setTooltip:function(t,e){var n=Xt();t.split(",").forEach((function(t){void 0!==e&&(Qn[t].tooltip=le.sanitizeText(e,n))}))},lookUpDomId:or};var dr=n(681),fr=n.n(dr),pr=n(8282),gr=n.n(pr),mr=0,yr=function(t){var e=t.match(/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/),n=t.match(/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/);return e&&!n?br(e):n?vr(n):_r(t)},br=function(t){var e="",n="";try{var r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",o=t[3]?wr(t[3].trim()):"",a=t[4]?t[4].trim():"",s=t[5]?t[5].trim():"";n=r+i+o+" "+a,e=kr(s)}catch(e){n=t}return{displayText:n,cssStyle:e}},vr=function(t){var e="",n="";try{var r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",o=t[3]?wr(t[3].trim()):"",a=t[4]?t[4].trim():"";n=r+i+"("+o+")"+(t[5]?" : "+wr(t[5]).trim():""),e=kr(a)}catch(e){n=t}return{displayText:n,cssStyle:e}},_r=function(t){var e="",n="",r="",i=t.indexOf("("),o=t.indexOf(")");if(i>1&&o>i&&o<=t.length){var a="",s="",c=t.substring(0,1);c.match(/\w/)?s=t.substring(0,i).trim():(c.match(/\+|-|~|#/)&&(a=c),s=t.substring(1,i).trim());var l=t.substring(i+1,o),u=t.substring(o+1,1);n=kr(u),e=a+s+"("+wr(l.trim())+")",o<"".length&&""!==(r=t.substring(o+2).trim())&&(r=" : "+wr(r))}else e=wr(t);return{displayText:e,cssStyle:n}},xr=function(t,e,n,r){var i=yr(e),o=t.append("tspan").attr("x",r.padding).text(i.displayText);""!==i.cssStyle&&o.attr("style",i.cssStyle),n||o.attr("dy",r.textHeight)},wr=function t(e){var n=e;return-1!=e.indexOf("~")?t(n=(n=n.replace("~","<")).replace("~",">")):n},kr=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}};const Dr=function(t,e,n,r){a.debug("Rendering class ",e,n);var i,o=e.id,s={id:o,label:e.id,width:0,height:0},c=t.append("g").attr("id",r.db.lookUpDomId(o)).attr("class","classGroup");i=e.link?c.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):c.append("text").attr("y",n.textHeight+n.padding).attr("x",0);var l=!0;e.annotations.forEach((function(t){var e=i.append("tspan").text(""+t+"");l||e.attr("dy",n.textHeight),l=!1}));var u=e.id;void 0!==e.type&&""!==e.type&&(u+="<"+e.type+">");var h=i.append("tspan").text(u).attr("class","title");l||h.attr("dy",n.textHeight);var d=i.node().getBBox().height,f=c.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin/2).attr("y2",n.padding+d+n.dividerMargin/2),p=c.append("text").attr("x",n.padding).attr("y",d+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach((function(t){xr(p,t,l,n),l=!1}));var g=p.node().getBBox(),m=c.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin+g.height).attr("y2",n.padding+d+n.dividerMargin+g.height),y=c.append("text").attr("x",n.padding).attr("y",d+2*n.dividerMargin+g.height+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach((function(t){xr(y,t,l,n),l=!1}));var b=c.node().getBBox(),v=" ";e.cssClasses.length>0&&(v+=e.cssClasses.join(" "));var _=c.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",b.width+2*n.padding).attr("height",b.height+n.padding+.5*n.dividerMargin).attr("class",v).node().getBBox().width;return i.node().childNodes.forEach((function(t){t.setAttribute("x",(_-t.getBBox().width)/2)})),e.tooltip&&i.insert("title").text(e.tooltip),f.attr("x2",_),m.attr("x2",_),s.width=_,s.height=b.height+n.padding+.5*n.dividerMargin,s};var Cr={},Er=function(t){var e=Object.entries(Cr).find((function(e){return e[1].label===t}));if(e)return e[0]};const Sr={draw:function(t,e,n,r){var i=Xt().class;Cr={},a.info("Rendering diagram "+t);var o,s=Xt().securityLevel;"sandbox"===s&&(o=(0,l.select)("#i"+e));var c,u="sandbox"===s?(0,l.select)(o.nodes()[0].contentDocument.body):(0,l.select)("body"),h=("sandbox"===s?o.nodes()[0].contentDocument:document,u.select("[id='".concat(e,"']")));(c=h).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),c.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),c.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");var d=new(gr().Graph)({multigraph:!0});d.setGraph({isMultiGraph:!0}),d.setDefaultEdgeLabel((function(){return{}}));for(var f=r.db.getClasses(),p=Object.keys(f),g=0;g<p.length;g++){var m=f[p[g]],y=Dr(h,m,i,r);Cr[y.id]=y,d.setNode(y.id,y),a.info("Org height: "+y.height)}r.db.getRelations().forEach((function(t){a.info("tjoho"+Er(t.id1)+Er(t.id2)+JSON.stringify(t)),d.setEdge(Er(t.id1),Er(t.id2),{relation:t},t.title||"DEFAULT")})),fr().layout(d),d.nodes().forEach((function(t){void 0!==t&&void 0!==d.node(t)&&(a.debug("Node "+t+": "+JSON.stringify(d.node(t))),u.select("#"+r.db.lookUpDomId(t)).attr("transform","translate("+(d.node(t).x-d.node(t).width/2)+","+(d.node(t).y-d.node(t).height/2)+" )"))})),d.edges().forEach((function(t){void 0!==t&&void 0!==d.edge(t)&&(a.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(d.edge(t))),function(t,e,n,r,i){var o=function(t){switch(t){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.EXTENSION:return"extension";case i.db.COMPOSITION:return"composition";case i.db.DEPENDENCY:return"dependency"}};e.points=e.points.filter((function(t){return!Number.isNaN(t.y)}));var s,c,u=e.points,h=(0,l.line)().x((function(t){return t.x})).y((function(t){return t.y})).curve(l.curveBasis),d=t.append("path").attr("d",h(u)).attr("id","edge"+mr).attr("class","relation"),f="";r.arrowMarkerAbsolute&&(f=(f=(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==n.relation.lineType&&d.attr("class","relation dashed-line"),"none"!==n.relation.type1&&d.attr("marker-start","url("+f+"#"+o(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&d.attr("marker-end","url("+f+"#"+o(n.relation.type2)+"End)");var p,g,m,y,b=e.points.length,v=Sn.calcLabelPosition(e.points);if(s=v.x,c=v.y,b%2!=0&&b>1){var _=Sn.calcCardinalityPosition("none"!==n.relation.type1,e.points,e.points[0]),x=Sn.calcCardinalityPosition("none"!==n.relation.type2,e.points,e.points[b-1]);a.debug("cardinality_1_point "+JSON.stringify(_)),a.debug("cardinality_2_point "+JSON.stringify(x)),p=_.x,g=_.y,m=x.x,y=x.y}if(void 0!==n.title){var w=t.append("g").attr("class","classLabel"),k=w.append("text").attr("class","label").attr("x",s).attr("y",c).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=k;var D=k.node().getBBox();w.insert("rect",":first-child").attr("class","box").attr("x",D.x-r.padding/2).attr("y",D.y-r.padding/2).attr("width",D.width+r.padding).attr("height",D.height+r.padding)}a.info("Rendering relation "+JSON.stringify(n)),void 0!==n.relationTitle1&&"none"!==n.relationTitle1&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",p).attr("y",g).attr("fill","black").attr("font-size","6").text(n.relationTitle1),void 0!==n.relationTitle2&&"none"!==n.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",m).attr("y",y).attr("fill","black").attr("font-size","6").text(n.relationTitle2),mr++}(h,d.edge(t),d.edge(t).relation,i,r))}));var b=h.node().getBBox(),v=b.width+40,_=b.height+40;kn(h,_,v,i.useMaxWidth);var x="".concat(b.x-20," ").concat(b.y-20," ").concat(v," ").concat(_);a.debug("viewBox ".concat(x)),h.attr("viewBox",x),Tn(r.db,h,e)}};var Tr={extension:function(t,e,n){a.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function(t,e){t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function(t,e){t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function(t,e){t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},point:function(t,e){t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function(t,e){t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function(t,e){t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function(t,e){t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}};const Ar=function(t,e,n,r){e.forEach((function(e){Tr[e](t,n,r)}))};function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}const Fr=function(t,e,n,r){var i=t||"";if("object"===Mr(i)&&(i=i[0]),ce(Xt().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),a.info("vertexText"+i);var o=function(t){var e,n=(0,l.select)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=n.append("xhtml:div"),i=t.label,o=t.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+o+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>"),(e=t.labelStyle)&&r.attr("style",e),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),n.node()}({isNode:r,label:ru(i).replace(/fa[lrsb]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")})),labelStyle:e.replace("fill:","color:")});return o}var s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));var c=[];c="string"==typeof i?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(var u=0;u<c.length;u++){var h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),n?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=c[u].trim(),s.appendChild(h)}return s};var Or=function(t,e,n,r){var i;i=n||"node default";var o=t.insert("g").attr("class",i).attr("id",e.domId||e.id),a=o.insert("g").attr("class","label").attr("style",e.labelStyle),s="string"==typeof e.labelText?e.labelText:e.labelText[0],c=a.node().appendChild(Fr(ie(ru(s),Xt()),e.labelStyle,!1,r)),u=c.getBBox();if(ce(Xt().flowchart.htmlLabels)){var h=c.children[0],d=(0,l.select)(c);u=h.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}var f=e.padding/2;return a.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),{shapeSvg:o,bbox:u,halfPadding:f,label:a}},Nr=function(t,e){var n=e.node().getBBox();t.width=n.width,t.height=n.height};function Br(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}var Ir={},Lr={},Rr={},Pr=function(t,e){return a.trace("In isDecendant",e," ",t," = ",Lr[e].indexOf(t)>=0),Lr[e].indexOf(t)>=0},jr=function t(e,n,r,i){a.warn("Copying children of ",e,"root",i,"data",n.node(e),i);var o=n.children(e)||[];e!==i&&o.push(e),a.warn("Copying (nodes) clusterId",e,"nodes",o),o.forEach((function(o){if(n.children(o).length>0)t(o,n,r,i);else{var s=n.node(o);a.info("cp ",o," to ",i," with parent ",e),r.setNode(o,s),i!==n.parent(o)&&(a.warn("Setting parent",o,n.parent(o)),r.setParent(o,n.parent(o))),e!==i&&o!==e?(a.debug("Setting parent",o,e),r.setParent(o,e)):(a.info("In copy ",e,"root",i,"data",n.node(e),i),a.debug("Not Setting parent for node=",o,"cluster!==rootId",e!==i,"node!==clusterId",o!==e));var c=n.edges(o);a.debug("Copying Edges",c),c.forEach((function(t){a.info("Edge",t);var o=n.edge(t.v,t.w,t.name);a.info("Edge data",o,i);try{!function(t,e){return a.info("Decendants of ",e," is ",Lr[e]),a.info("Edge is ",t),t.v!==e&&t.w!==e&&(Lr[e]?(a.info("Here "),Lr[e].indexOf(t.v)>=0||!!Pr(t.v,e)||!!Pr(t.w,e)||Lr[e].indexOf(t.w)>=0):(a.debug("Tilt, ",e,",not in decendants"),!1))}(t,i)?a.info("Skipping copy of edge ",t.v,"--\x3e",t.w," rootId: ",i," clusterId:",e):(a.info("Copying as ",t.v,t.w,o,t.name),r.setEdge(t.v,t.w,o,t.name),a.info("newGraph edges ",r.edges(),r.edge(r.edges()[0])))}catch(t){a.error(t)}}))}a.debug("Removing node",o),n.removeNode(o)}))},zr=function t(e,n){for(var r=n.children(e),i=[].concat(r),o=0;o<r.length;o++)Rr[r[o]]=e,i=i.concat(t(r[o],n));return i},$r=function t(e,n){a.trace("Searching",e);var r=n.children(e);if(a.trace("Searching children of id ",e,r),r.length<1)return a.trace("This is a valid node",e),e;for(var i=0;i<r.length;i++){var o=t(r[i],n);if(o)return a.trace("Found replacement for",e," => ",o),o}},Yr=function(t){return Ir[t]&&Ir[t].externalConnections&&Ir[t]?Ir[t].id:t},Wr=function(t,e){!t||e>10?a.debug("Opting out, no graph "):(a.debug("Opting in, graph "),t.nodes().forEach((function(e){t.children(e).length>0&&(a.warn("Cluster identified",e," Replacement id in edges: ",$r(e,t)),Lr[e]=zr(e,t),Ir[e]={id:$r(e,t),clusterData:t.node(e)})})),t.nodes().forEach((function(e){var n=t.children(e),r=t.edges();n.length>0?(a.debug("Cluster identified",e,Lr),r.forEach((function(t){t.v!==e&&t.w!==e&&Pr(t.v,e)^Pr(t.w,e)&&(a.warn("Edge: ",t," leaves cluster ",e),a.warn("Decendants of XXX ",e,": ",Lr[e]),Ir[e].externalConnections=!0)}))):a.debug("Not a cluster ",e,Lr)})),t.edges().forEach((function(e){var n=t.edge(e);a.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),a.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(t.edge(e)));var r=e.v,i=e.w;if(a.warn("Fix XXX",Ir,"ids:",e.v,e.w,"Translateing: ",Ir[e.v]," --- ",Ir[e.w]),Ir[e.v]&&Ir[e.w]&&Ir[e.v]===Ir[e.w]){a.warn("Fixing and trixing link to self - removing XXX",e.v,e.w,e.name),a.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),r=Yr(e.v),i=Yr(e.w),t.removeEdge(e.v,e.w,e.name);var o=e.w+"---"+e.v;t.setNode(o,{domId:o,id:o,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});var s=JSON.parse(JSON.stringify(n)),c=JSON.parse(JSON.stringify(n));s.label="",s.arrowTypeEnd="none",c.label="",s.fromCluster=e.v,c.toCluster=e.v,t.setEdge(r,o,s,e.name+"-cyclic-special"),t.setEdge(o,i,c,e.name+"-cyclic-special")}else(Ir[e.v]||Ir[e.w])&&(a.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),r=Yr(e.v),i=Yr(e.w),t.removeEdge(e.v,e.w,e.name),r!==e.v&&(n.fromCluster=e.v),i!==e.w&&(n.toCluster=e.w),a.warn("Fix Replacing with XXX",r,i,e.name),t.setEdge(r,i,n,e.name))})),a.warn("Adjusted Graph",gr().json.write(t)),Ur(t,0),a.trace(Ir))},Ur=function t(e,n){if(a.warn("extractor - ",n,gr().json.write(e),e.children("D")),n>10)a.error("Bailing out");else{for(var r=e.nodes(),i=!1,o=0;o<r.length;o++){var s=r[o],c=e.children(s);i=i||c.length>0}if(i){a.debug("Nodes = ",r,n);for(var l=0;l<r.length;l++){var u=r[l];if(a.debug("Extracting node",u,Ir,Ir[u]&&!Ir[u].externalConnections,!e.parent(u),e.node(u),e.children("D")," Depth ",n),Ir[u])if(!Ir[u].externalConnections&&e.children(u)&&e.children(u).length>0){a.warn("Cluster without external connections, without a parent and with children",u,n);var h="TB"===e.graph().rankdir?"LR":"TB";Ir[u]&&Ir[u].clusterData&&Ir[u].clusterData.dir&&(h=Ir[u].clusterData.dir,a.warn("Fixing dir",Ir[u].clusterData.dir,h));var d=new(gr().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:h,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));a.warn("Old graph before copy",gr().json.write(e)),jr(u,e,d,u),e.setNode(u,{clusterNode:!0,id:u,clusterData:Ir[u].clusterData,labelText:Ir[u].labelText,graph:d}),a.warn("New graph after copy node: (",u,")",gr().json.write(d)),a.debug("Old graph after copy",gr().json.write(e))}else a.warn("Cluster ** ",u," **not meeting the criteria !externalConnections:",!Ir[u].externalConnections," no parent: ",!e.parent(u)," children ",e.children(u)&&e.children(u).length>0,e.children("D"),n),a.debug(Ir);else a.debug("Not a cluster",u,n)}r=e.nodes(),a.warn("New list of nodes",r);for(var f=0;f<r.length;f++){var p=r[f],g=e.node(p);a.warn(" Now next level",p,g),g.clusterNode&&t(g.graph,n+1)}}else a.debug("Done, no node has children",e.nodes())}},qr=function t(e,n){if(0===n.length)return[];var r=Object.assign(n);return n.forEach((function(n){var i=e.children(n),o=t(e,i);r=r.concat(o)})),r},Vr=function(t){return qr(t,t.children())},Hr=n(3841);const Gr=function(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,s=o-r.y,c=Math.sqrt(e*e*s*s+n*n*a*a),l=Math.abs(e*n*a/c);r.x<i&&(l=-l);var u=Math.abs(e*n*s/c);return r.y<o&&(u=-u),{x:i+l,y:o+u}};function Xr(t,e){return t*e>0}const Jr=function(t,e,n,r){var i,o,a,s,c,l,u,h,d,f,p,g,m;if(i=e.y-t.y,a=t.x-e.x,c=e.x*t.y-t.x*e.y,d=i*n.x+a*n.y+c,f=i*r.x+a*r.y+c,!(0!==d&&0!==f&&Xr(d,f)||(o=r.y-n.y,s=n.x-r.x,l=r.x*n.y-n.x*r.y,u=o*t.x+s*t.y+l,h=o*e.x+s*e.y+l,0!==u&&0!==h&&Xr(u,h)||0==(p=i*s-o*a))))return g=Math.abs(p/2),{x:(m=a*l-s*c)<0?(m-g)/p:(m+g)/p,y:(m=o*c-i*l)<0?(m-g)/p:(m+g)/p}},Kr=function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,c=t.width/2,l=t.height/2;return Math.abs(s)*c>Math.abs(a)*l?(s<0&&(l=-l),n=0===s?0:l*a/s,r=l):(a<0&&(c=-c),n=c,r=0===a?0:c*s/a),{x:i+n,y:o+r}},Zr=(n.n(Hr)(),function(t,e,n){return Gr(t,e,e,n)}),Qr=function(t,e,n){var r=t.x,i=t.y,o=[],a=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;"function"==typeof e.forEach?e.forEach((function(t){a=Math.min(a,t.x),s=Math.min(s,t.y)})):(a=Math.min(a,e.x),s=Math.min(s,e.y));for(var c=r-t.width/2-a,l=i-t.height/2-s,u=0;u<e.length;u++){var h=e[u],d=e[u<e.length-1?u+1:0],f=Jr(t,n,{x:c+h.x,y:l+h.y},{x:c+d.x,y:l+d.y});f&&o.push(f)}return o.length?(o.length>1&&o.sort((function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,s=e.y-n.y,c=Math.sqrt(a*a+s*s);return o<c?-1:o===c?0:1})),o[0]):t},ti=Kr;function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ni(t,e,n,r){var i=[],o=function(t){i.push(t),i.push(0)},s=function(t){i.push(0),i.push(t)};e.includes("t")?(a.debug("add top border"),o(n)):s(n),e.includes("r")?(a.debug("add right border"),o(r)):s(r),e.includes("b")?(a.debug("add bottom border"),o(n)):s(n),e.includes("l")?(a.debug("add left border"),o(r)):s(r),t.attr("stroke-dasharray",i.join(" "))}var ri=function(t,e,n){var r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=70,o=10;"LR"===n&&(i=10,o=70);var a=r.append("rect").attr("x",-1*i/2).attr("y",-1*o/2).attr("width",i).attr("height",o).attr("class","fork-join");return Nr(e,a),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(t){return ti(e,t)},r},ii={question:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding+(i.height+e.padding),s=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];a.info("Question main (Circle)");var c=Br(r,o,o,s);return c.attr("style",e.style),Nr(e,c),e.intersect=function(t){return a.warn("Intersect called"),Qr(e,s,t)},r},rect:function(t,e){var n=Or(t,e,"node "+e.classes,!0),r=n.shapeSvg,i=n.bbox,o=n.halfPadding;a.trace("Classes = ",e.classes);var s=r.insert("rect",":first-child"),c=i.width+e.padding,l=i.height+e.padding;if(s.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-o).attr("y",-i.height/2-o).attr("width",c).attr("height",l),e.props){var u=new Set(Object.keys(e.props));e.props.borders&&(ni(s,e.props.borders,c,l),u.delete("borders")),u.forEach((function(t){a.warn("Unknown node property ".concat(t))}))}return Nr(e,s),e.intersect=function(t){return ti(e,t)},r},labelRect:function(t,e){var n=Or(t,e,"label",!0),r=n.shapeSvg;n.bbox,n.halfPadding,a.trace("Classes = ",e.classes);var i=r.insert("rect",":first-child");if(i.attr("width",0).attr("height",0),r.attr("class","label edgeLabel"),e.props){var o=new Set(Object.keys(e.props));e.props.borders&&(ni(i,e.props.borders,0,0),o.delete("borders")),o.forEach((function(t){a.warn("Unknown node property ".concat(t))}))}return Nr(e,i),e.intersect=function(t){return ti(e,t)},r},rectWithTitle:function(t,e){var n;n=e.classes?"node "+e.classes:"node default";var r,i=t.insert("g").attr("class",n).attr("id",e.domId||e.id),o=i.insert("rect",":first-child"),s=i.insert("line"),c=i.insert("g").attr("class","label"),u=e.labelText.flat?e.labelText.flat():e.labelText;r="object"===ei(u)?u[0]:u,a.info("Label text abc79",r,u,"object"===ei(u));var h=c.node().appendChild(Fr(r,e.labelStyle,!0,!0)),d={width:0,height:0};if(ce(Xt().flowchart.htmlLabels)){var f=h.children[0],p=(0,l.select)(h);d=f.getBoundingClientRect(),p.attr("width",d.width),p.attr("height",d.height)}a.info("Text 2",u);var g=u.slice(1,u.length),m=h.getBBox(),y=c.node().appendChild(Fr(g.join?g.join("<br/>"):g,e.labelStyle,!0,!0));if(ce(Xt().flowchart.htmlLabels)){var b=y.children[0],v=(0,l.select)(y);d=b.getBoundingClientRect(),v.attr("width",d.width),v.attr("height",d.height)}var _=e.padding/2;return(0,l.select)(y).attr("transform","translate( "+(d.width>m.width?0:(m.width-d.width)/2)+", "+(m.height+_+5)+")"),(0,l.select)(h).attr("transform","translate( "+(d.width<m.width?0:-(m.width-d.width)/2)+", 0)"),d=c.node().getBBox(),c.attr("transform","translate("+-d.width/2+", "+(-d.height/2-_+3)+")"),o.attr("class","outer title-state").attr("x",-d.width/2-_).attr("y",-d.height/2-_).attr("width",d.width+e.padding).attr("height",d.height+e.padding),s.attr("class","divider").attr("x1",-d.width/2-_).attr("x2",d.width/2+_).attr("y1",-d.height/2-_+m.height+_).attr("y2",-d.height/2-_+m.height+_),Nr(e,o),e.intersect=function(t){return ti(e,t)},i},choice:function(t,e){var n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);return n.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map((function(t){return t.x+","+t.y})).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(t){return Zr(e,14,t)},n},circle:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=n.halfPadding,s=r.insert("circle",":first-child");return s.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+o).attr("width",i.width+e.padding).attr("height",i.height+e.padding),a.info("Circle main"),Nr(e,s),e.intersect=function(t){return a.info("Circle intersect",e,i.width/2+o,t),Zr(e,i.width/2+o,t)},r},doublecircle:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=n.halfPadding,s=r.insert("g",":first-child"),c=s.insert("circle"),l=s.insert("circle");return c.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+o+5).attr("width",i.width+e.padding+10).attr("height",i.height+e.padding+10),l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+o).attr("width",i.width+e.padding).attr("height",i.height+e.padding),a.info("DoubleCircle main"),Nr(e,c),e.intersect=function(t){return a.info("DoubleCircle intersect",e,i.width/2+o+5,t),Zr(e,i.width/2+o+5,t)},r},stadium:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.height+e.padding,a=i.width+o/4+e.padding,s=r.insert("rect",":first-child").attr("style",e.style).attr("rx",o/2).attr("ry",o/2).attr("x",-a/2).attr("y",-o/2).attr("width",a).attr("height",o);return Nr(e,s),e.intersect=function(t){return ti(e,t)},r},hexagon:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.height+e.padding,a=o/4,s=i.width+2*a+e.padding,c=[{x:a,y:0},{x:s-a,y:0},{x:s,y:-o/2},{x:s-a,y:-o},{x:a,y:-o},{x:0,y:-o/2}],l=Br(r,s,o,c);return l.attr("style",e.style),Nr(e,l),e.intersect=function(t){return Qr(e,c,t)},r},rect_left_inv_arrow:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:-a/2,y:0},{x:o,y:0},{x:o,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return Br(r,o,a,s).attr("style",e.style),e.width=o+a,e.height=a,e.intersect=function(t){return Qr(e,s,t)},r},lean_right:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:-2*a/6,y:0},{x:o-a/6,y:0},{x:o+2*a/6,y:-a},{x:a/6,y:-a}],c=Br(r,o,a,s);return c.attr("style",e.style),Nr(e,c),e.intersect=function(t){return Qr(e,s,t)},r},lean_left:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:2*a/6,y:0},{x:o+a/6,y:0},{x:o-2*a/6,y:-a},{x:-a/6,y:-a}],c=Br(r,o,a,s);return c.attr("style",e.style),Nr(e,c),e.intersect=function(t){return Qr(e,s,t)},r},trapezoid:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:-2*a/6,y:0},{x:o+2*a/6,y:0},{x:o-a/6,y:-a},{x:a/6,y:-a}],c=Br(r,o,a,s);return c.attr("style",e.style),Nr(e,c),e.intersect=function(t){return Qr(e,s,t)},r},inv_trapezoid:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:a/6,y:0},{x:o-a/6,y:0},{x:o+2*a/6,y:-a},{x:-2*a/6,y:-a}],c=Br(r,o,a,s);return c.attr("style",e.style),Nr(e,c),e.intersect=function(t){return Qr(e,s,t)},r},rect_right_inv_arrow:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:0,y:0},{x:o+a/2,y:0},{x:o,y:-a/2},{x:o+a/2,y:-a},{x:0,y:-a}],c=Br(r,o,a,s);return c.attr("style",e.style),Nr(e,c),e.intersect=function(t){return Qr(e,s,t)},r},cylinder:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=o/2,s=a/(2.5+o/50),c=i.height+s+e.padding,l="M 0,"+s+" a "+a+","+s+" 0,0,0 "+o+" 0 a "+a+","+s+" 0,0,0 "+-o+" 0 l 0,"+c+" a "+a+","+s+" 0,0,0 "+o+" 0 l 0,"+-c,u=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-o/2+","+-(c/2+s)+")");return Nr(e,u),e.intersect=function(t){var n=ti(e,t),r=n.x-e.x;if(0!=a&&(Math.abs(r)<e.width/2||Math.abs(r)==e.width/2&&Math.abs(n.y-e.y)>e.height/2-s)){var i=s*s*(1-r*r/(a*a));0!=i&&(i=Math.sqrt(i)),i=s-i,t.y-e.y>0&&(i=-i),n.y+=i}return n},r},start:function(t,e){var n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Nr(e,r),e.intersect=function(t){return Zr(e,7,t)},n},end:function(t,e){var n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child"),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Nr(e,i),e.intersect=function(t){return Zr(e,7,t)},n},note:function(t,e){var n=Or(t,e,"node "+e.classes,!0),r=n.shapeSvg,i=n.bbox,o=n.halfPadding;a.info("Classes = ",e.classes);var s=r.insert("rect",":first-child");return s.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-o).attr("y",-i.height/2-o).attr("width",i.width+e.padding).attr("height",i.height+e.padding),Nr(e,s),e.intersect=function(t){return ti(e,t)},r},subroutine:function(t,e){var n=Or(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:0,y:0},{x:o,y:0},{x:o,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],c=Br(r,o,a,s);return c.attr("style",e.style),Nr(e,c),e.intersect=function(t){return Qr(e,s,t)},r},fork:ri,join:ri,class_box:function(t,e){var n,r=e.padding/2;n=e.classes?"node "+e.classes:"node default";var i=t.insert("g").attr("class",n).attr("id",e.domId||e.id),o=i.insert("rect",":first-child"),a=i.insert("line"),s=i.insert("line"),c=0,u=4,h=i.insert("g").attr("class","label"),d=0,f=e.classData.annotations&&e.classData.annotations[0],p=e.classData.annotations[0]?""+e.classData.annotations[0]+"":"",g=h.node().appendChild(Fr(p,e.labelStyle,!0,!0)),m=g.getBBox();if(ce(Xt().flowchart.htmlLabels)){var y=g.children[0],b=(0,l.select)(g);m=y.getBoundingClientRect(),b.attr("width",m.width),b.attr("height",m.height)}e.classData.annotations[0]&&(u+=m.height+4,c+=m.width);var v=e.classData.id;void 0!==e.classData.type&&""!==e.classData.type&&(Xt().flowchart.htmlLabels?v+="&lt;"+e.classData.type+"&gt;":v+="<"+e.classData.type+">");var _=h.node().appendChild(Fr(v,e.labelStyle,!0,!0));(0,l.select)(_).attr("class","classTitle");var x=_.getBBox();if(ce(Xt().flowchart.htmlLabels)){var w=_.children[0],k=(0,l.select)(_);x=w.getBoundingClientRect(),k.attr("width",x.width),k.attr("height",x.height)}u+=x.height+4,x.width>c&&(c=x.width);var D=[];e.classData.members.forEach((function(t){var n=yr(t),r=n.displayText;Xt().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var i=h.node().appendChild(Fr(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0)),o=i.getBBox();if(ce(Xt().flowchart.htmlLabels)){var a=i.children[0],s=(0,l.select)(i);o=a.getBoundingClientRect(),s.attr("width",o.width),s.attr("height",o.height)}o.width>c&&(c=o.width),u+=o.height+4,D.push(i)})),u+=8;var C=[];if(e.classData.methods.forEach((function(t){var n=yr(t),r=n.displayText;Xt().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var i=h.node().appendChild(Fr(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0)),o=i.getBBox();if(ce(Xt().flowchart.htmlLabels)){var a=i.children[0],s=(0,l.select)(i);o=a.getBoundingClientRect(),s.attr("width",o.width),s.attr("height",o.height)}o.width>c&&(c=o.width),u+=o.height+4,C.push(i)})),u+=8,f){var E=(c-m.width)/2;(0,l.select)(g).attr("transform","translate( "+(-1*c/2+E)+", "+-1*u/2+")"),d=m.height+4}var S=(c-x.width)/2;return(0,l.select)(_).attr("transform","translate( "+(-1*c/2+S)+", "+(-1*u/2+d)+")"),d+=x.height+4,a.attr("class","divider").attr("x1",-c/2-r).attr("x2",c/2+r).attr("y1",-u/2-r+8+d).attr("y2",-u/2-r+8+d),d+=8,D.forEach((function(t){(0,l.select)(t).attr("transform","translate( "+-c/2+", "+(-1*u/2+d+4)+")"),d+=x.height+4})),d+=8,s.attr("class","divider").attr("x1",-c/2-r).attr("x2",c/2+r).attr("y1",-u/2-r+8+d).attr("y2",-u/2-r+8+d),d+=8,C.forEach((function(t){(0,l.select)(t).attr("transform","translate( "+-c/2+", "+(-1*u/2+d)+")"),d+=x.height+4})),o.attr("class","outer title-state").attr("x",-c/2-r).attr("y",-u/2-r).attr("width",c+e.padding).attr("height",u+e.padding),Nr(e,o),e.intersect=function(t){return ti(e,t)},i}},oi={},ai=function(t){var e=oi[t.id];a.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");var n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-8)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},si={rect:function(t,e){a.trace("Creating subgraph rect for ",e.id,e);var n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),o=i.node().appendChild(Fr(e.labelText,e.labelStyle,void 0,!0)),s=o.getBBox();if(ce(Xt().flowchart.htmlLabels)){var c=o.children[0],u=(0,l.select)(o);s=c.getBoundingClientRect(),u.attr("width",s.width),u.attr("height",s.height)}var h=0*e.padding,d=h/2,f=e.width<=s.width+h?s.width+h:e.width;e.width<=s.width+h?e.diff=(s.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,a.trace("Data ",e,JSON.stringify(e)),r.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-f/2).attr("y",e.y-e.height/2-d).attr("width",f).attr("height",e.height+h),i.attr("transform","translate("+(e.x-s.width/2)+", "+(e.y-e.height/2+e.padding/3)+")");var p=r.node().getBBox();return e.width=p.width,e.height=p.height,e.intersect=function(t){return Kr(e,t)},n},roundedWithTitle:function(t,e){var n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),o=n.append("rect"),a=i.node().appendChild(Fr(e.labelText,e.labelStyle,void 0,!0)),s=a.getBBox();if(ce(Xt().flowchart.htmlLabels)){var c=a.children[0],u=(0,l.select)(a);s=c.getBoundingClientRect(),u.attr("width",s.width),u.attr("height",s.height)}s=a.getBBox();var h=0*e.padding,d=h/2,f=e.width<=s.width+e.padding?s.width+e.padding:e.width;e.width<=s.width+e.padding?e.diff=(s.width+0*e.padding-e.width)/2:e.diff=-e.padding/2,r.attr("class","outer").attr("x",e.x-f/2-d).attr("y",e.y-e.height/2-d).attr("width",f+h).attr("height",e.height+h),o.attr("class","inner").attr("x",e.x-f/2-d).attr("y",e.y-e.height/2-d+s.height-1).attr("width",f+h).attr("height",e.height+h-s.height-3),i.attr("transform","translate("+(e.x-s.width/2)+", "+(e.y-e.height/2-e.padding/3+(ce(Xt().flowchart.htmlLabels)?5:3))+")");var p=r.node().getBBox();return e.height=p.height,e.intersect=function(t){return Kr(e,t)},n},noteGroup:function(t,e){var n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,o=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2-o).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");var a=r.node().getBBox();return e.width=a.width,e.height=a.height,e.intersect=function(t){return Kr(e,t)},n},divider:function(t,e){var n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,o=i/2;r.attr("class","divider").attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2).attr("width",e.width+i).attr("height",e.height+i);var a=r.node().getBBox();return e.width=a.width,e.height=a.height,e.diff=-e.padding/2,e.intersect=function(t){return Kr(e,t)},n}},ci={},li={},ui={},hi=function(t,e){var n=Fr(e.label,e.labelStyle),r=t.insert("g").attr("class","edgeLabel"),i=r.insert("g").attr("class","label");i.node().appendChild(n);var o,a=n.getBBox();if(ce(Xt().flowchart.htmlLabels)){var s=n.children[0],c=(0,l.select)(n);a=s.getBoundingClientRect(),c.attr("width",a.width),c.attr("height",a.height)}if(i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),li[e.id]=r,e.width=a.width,e.height=a.height,e.startLabelLeft){var u=Fr(e.startLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");o=d.node().appendChild(u);var f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),ui[e.id]||(ui[e.id]={}),ui[e.id].startLeft=h,di(o,e.startLabelLeft)}if(e.startLabelRight){var p=Fr(e.startLabelRight,e.labelStyle),g=t.insert("g").attr("class","edgeTerminals"),m=g.insert("g").attr("class","inner");o=g.node().appendChild(p),m.node().appendChild(p);var y=p.getBBox();m.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),ui[e.id]||(ui[e.id]={}),ui[e.id].startRight=g,di(o,e.startLabelRight)}if(e.endLabelLeft){var b=Fr(e.endLabelLeft,e.labelStyle),v=t.insert("g").attr("class","edgeTerminals"),_=v.insert("g").attr("class","inner");o=_.node().appendChild(b);var x=b.getBBox();_.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),v.node().appendChild(b),ui[e.id]||(ui[e.id]={}),ui[e.id].endLeft=v,di(o,e.endLabelLeft)}if(e.endLabelRight){var w=Fr(e.endLabelRight,e.labelStyle),k=t.insert("g").attr("class","edgeTerminals"),D=k.insert("g").attr("class","inner");o=D.node().appendChild(w);var C=w.getBBox();D.attr("transform","translate("+-C.width/2+", "+-C.height/2+")"),k.node().appendChild(w),ui[e.id]||(ui[e.id]={}),ui[e.id].endRight=k,di(o,e.endLabelRight)}};function di(t,e){Xt().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}var fi=function(t,e){a.info("Moving label abc78 ",t.id,t.label,li[t.id]);var n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){var r=li[t.id],i=t.x,o=t.y;if(n){var s=Sn.calcLabelPosition(n);a.info("Moving label from (",i,",",o,") to (",s.x,",",s.y,") abc78")}r.attr("transform","translate("+i+", "+o+")")}if(t.startLabelLeft){var c=ui[t.id].startLeft,l=t.x,u=t.y;if(n){var h=Sn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);l=h.x,u=h.y}c.attr("transform","translate("+l+", "+u+")")}if(t.startLabelRight){var d=ui[t.id].startRight,f=t.x,p=t.y;if(n){var g=Sn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);f=g.x,p=g.y}d.attr("transform","translate("+f+", "+p+")")}if(t.endLabelLeft){var m=ui[t.id].endLeft,y=t.x,b=t.y;if(n){var v=Sn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);y=v.x,b=v.y}m.attr("transform","translate("+y+", "+b+")")}if(t.endLabelRight){var _=ui[t.id].endRight,x=t.x,w=t.y;if(n){var k=Sn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);x=k.x,w=k.y}_.attr("transform","translate("+x+", "+w+")")}},pi=function(t,e){a.warn("abc88 cutPathAtIntersect",t,e);var n=[],r=t[0],i=!1;return t.forEach((function(t){if(a.info("abc88 checking point",t,e),function(t,e){var n=t.x,r=t.y,i=Math.abs(e.x-n),o=Math.abs(e.y-r),a=t.width/2,s=t.height/2;return i>=a||o>=s}(e,t)||i)a.warn("abc88 outside",t,r),r=t,i||n.push(t);else{var o=function(t,e,n){a.warn("intersection calc abc89:\n  outsidePoint: ".concat(JSON.stringify(e),"\n  insidePoint : ").concat(JSON.stringify(n),"\n  node        : x:").concat(t.x," y:").concat(t.y," w:").concat(t.width," h:").concat(t.height));var r=t.x,i=t.y,o=Math.abs(r-n.x),s=t.width/2,c=n.x<e.x?s-o:s+o,l=t.height/2,u=Math.abs(e.y-n.y),h=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*s>Math.abs(r-e.x)*l){var d=n.y<e.y?e.y-l-i:i-l-e.y;c=h*d/u;var f={x:n.x<e.x?n.x+c:n.x-h+c,y:n.y<e.y?n.y+u-d:n.y-u+d};return 0===c&&(f.x=e.x,f.y=e.y),0===h&&(f.x=e.x),0===u&&(f.y=e.y),a.warn("abc89 topp/bott calc, Q ".concat(u,", q ").concat(d,", R ").concat(h,", r ").concat(c),f),f}var p=u*(c=n.x<e.x?e.x-s-r:r-s-e.x)/h,g=n.x<e.x?n.x+h-c:n.x-h+c,m=n.y<e.y?n.y+p:n.y-p;return a.warn("sides calc abc89, Q ".concat(u,", q ").concat(p,", R ").concat(h,", r ").concat(c),{_x:g,_y:m}),0===c&&(g=e.x,m=e.y),0===h&&(g=e.x),0===u&&(m=e.y),{x:g,y:m}}(e,r,t);a.warn("abc88 inside",t,r,o),a.warn("abc88 intersection",o);var s=!1;n.forEach((function(t){s=s||t.x===o.x&&t.y===o.y})),n.find((function(t){return t.x===o.x&&t.y===o.y}))?a.warn("abc88 no intersect",o,n):n.push(o),i=!0}})),a.warn("abc88 returning points",n),n},gi=function t(e,n,r,i){a.info("Graph in recursive render: XXX",gr().json.write(n),i);var o=n.graph().rankdir;a.trace("Dir in recursive render - dir:",o);var s=e.insert("g").attr("class","root");n.nodes()?a.info("Recursive render XXX",n.nodes()):a.info("No nodes found for",n),n.edges().length>0&&a.trace("Recursive edges",n.edge(n.edges()[0]));var c=s.insert("g").attr("class","clusters"),u=s.insert("g").attr("class","edgePaths"),h=s.insert("g").attr("class","edgeLabels"),d=s.insert("g").attr("class","nodes");n.nodes().forEach((function(e){var s=n.node(e);if(void 0!==i){var c=JSON.parse(JSON.stringify(i.clusterData));a.info("Setting data for cluster XXX (",e,") ",c,i),n.setNode(i.id,c),n.parent(e)||(a.trace("Setting parent",e,i.id),n.setParent(e,i.id,c))}if(a.info("(Insert) Node XXX"+e+": "+JSON.stringify(n.node(e))),s&&s.clusterNode){a.info("Cluster identified",e,s.width,n.node(e));var l=t(d,s.graph,r,n.node(e)),u=l.elem;Nr(s,u),s.diff=l.diff||0,a.info("Node bounds (abc123)",e,s,s.width,s.x,s.y),function(t,e){oi[e.id]=t}(u,s),a.warn("Recursive render complete ",u,s)}else n.children(e).length>0?(a.info("Cluster - the non recursive path XXX",e,s.id,s,n),a.info($r(s.id,n)),Ir[s.id]={id:$r(s.id,n),node:s}):(a.info("Node - the non recursive path",e,s.id,s),function(t,e,n){var r,i,o;e.link?("sandbox"===Xt().securityLevel?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o),i=ii[e.shape](r,e,n)):r=i=ii[e.shape](t,e,n),e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),oi[e.id]=r,e.haveCallback&&oi[e.id].attr("class",oi[e.id].attr("class")+" clickable")}(d,n.node(e),o))})),n.edges().forEach((function(t){var e=n.edge(t.v,t.w,t.name);a.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),a.info("Edge "+t.v+" -> "+t.w+": ",t," ",JSON.stringify(n.edge(t))),a.info("Fix",Ir,"ids:",t.v,t.w,"Translateing: ",Ir[t.v],Ir[t.w]),hi(h,e)})),n.edges().forEach((function(t){a.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t))})),a.info("#############################################"),a.info("###                Layout                 ###"),a.info("#############################################"),a.info(n),fr().layout(n),a.info("Graph after layout:",gr().json.write(n));var f=0;return Vr(n).forEach((function(t){var e=n.node(t);a.info("Position "+t+": "+JSON.stringify(n.node(t))),a.info("Position "+t+": ("+e.x,","+e.y,") width: ",e.width," height: ",e.height),e&&e.clusterNode?ai(e):n.children(t).length>0?(function(t,e){a.trace("Inserting cluster");var n=e.shape||"rect";ci[e.id]=si[n](t,e)}(c,e),Ir[e.id].node=e):ai(e)})),n.edges().forEach((function(t){var e=n.edge(t);a.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(e),e);var i=function(t,e,n,r,i,o){var s=n.points,c=!1,u=o.node(e.v),h=o.node(e.w);a.info("abc88 InsertEdge: ",n),h.intersect&&u.intersect&&((s=s.slice(1,n.points.length-1)).unshift(u.intersect(s[0])),a.info("Last point",s[s.length-1],h,h.intersect(s[s.length-1])),s.push(h.intersect(s[s.length-1]))),n.toCluster&&(a.info("to cluster abc88",r[n.toCluster]),s=pi(n.points,r[n.toCluster].node),c=!0),n.fromCluster&&(a.info("from cluster abc88",r[n.fromCluster]),s=pi(s.reverse(),r[n.fromCluster].node).reverse(),c=!0);var d,f=s.filter((function(t){return!Number.isNaN(t.y)}));d=("graph"===i||"flowchart"===i)&&n.curve||l.curveBasis;var p,g=(0,l.line)().x((function(t){return t.x})).y((function(t){return t.y})).curve(d);switch(n.thickness){case"normal":p="edge-thickness-normal";break;case"thick":p="edge-thickness-thick";break;default:p=""}switch(n.pattern){case"solid":p+=" edge-pattern-solid";break;case"dotted":p+=" edge-pattern-dotted";break;case"dashed":p+=" edge-pattern-dashed"}var m=t.append("path").attr("d",g(f)).attr("id",n.id).attr("class"," "+p+(n.classes?" "+n.classes:"")).attr("style",n.style),y="";switch(Xt().state.arrowMarkerAbsolute&&(y=(y=(y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),a.info("arrowTypeStart",n.arrowTypeStart),a.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":m.attr("marker-start","url("+y+"#"+i+"-crossStart)");break;case"arrow_point":m.attr("marker-start","url("+y+"#"+i+"-pointStart)");break;case"arrow_barb":m.attr("marker-start","url("+y+"#"+i+"-barbStart)");break;case"arrow_circle":m.attr("marker-start","url("+y+"#"+i+"-circleStart)");break;case"aggregation":m.attr("marker-start","url("+y+"#"+i+"-aggregationStart)");break;case"extension":m.attr("marker-start","url("+y+"#"+i+"-extensionStart)");break;case"composition":m.attr("marker-start","url("+y+"#"+i+"-compositionStart)");break;case"dependency":m.attr("marker-start","url("+y+"#"+i+"-dependencyStart)")}switch(n.arrowTypeEnd){case"arrow_cross":m.attr("marker-end","url("+y+"#"+i+"-crossEnd)");break;case"arrow_point":m.attr("marker-end","url("+y+"#"+i+"-pointEnd)");break;case"arrow_barb":m.attr("marker-end","url("+y+"#"+i+"-barbEnd)");break;case"arrow_circle":m.attr("marker-end","url("+y+"#"+i+"-circleEnd)");break;case"aggregation":m.attr("marker-end","url("+y+"#"+i+"-aggregationEnd)");break;case"extension":m.attr("marker-end","url("+y+"#"+i+"-extensionEnd)");break;case"composition":m.attr("marker-end","url("+y+"#"+i+"-compositionEnd)");break;case"dependency":m.attr("marker-end","url("+y+"#"+i+"-dependencyEnd)")}var b={};return c&&(b.updatedPath=s),b.originalPath=n.points,b}(u,t,e,Ir,r,n);fi(e,i)})),n.nodes().forEach((function(t){var e=n.node(t);a.info(t,e.type,e.diff),"group"===e.type&&(f=e.diff)})),{elem:s,diff:f}},mi=function(t,e,n,r,i){Ar(t,n,r,i),oi={},li={},ui={},ci={},Lr={},Rr={},Ir={},a.warn("Graph at first:",gr().json.write(e)),Wr(e),a.warn("Graph after:",gr().json.write(e)),gi(t,e,r)},yi={dividerMargin:10,padding:5,textHeight:10};function bi(t){var e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;default:e="none"}return e}const vi={setConf:function(t){Object.keys(t).forEach((function(e){yi[e]=t[e]}))},draw:function(t,e,n,r){a.info("Drawing class - ",e);var i=Xt().flowchart,o=Xt().securityLevel;a.info("config:",i);var s,c=i.nodeSpacing||50,u=i.rankSpacing||50,h=new(gr().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:r.db.getDirection(),nodesep:c,ranksep:u,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),d=r.db.getClasses(),f=r.db.getRelations();a.info(f),function(t,e,n,r){var i=Object.keys(t);a.info("keys:",i),a.info(t),i.forEach((function(n){var i=t[n],o="";i.cssClasses.length>0&&(o=o+" "+i.cssClasses.join(" "));var s,c,l={labelStyle:""},u=void 0!==i.text?i.text:i.id;i.type,c="class_box",e.setNode(i.id,{labelStyle:l.labelStyle,shape:c,labelText:(s=u,le.sanitizeText(s,Xt())),classData:i,rx:0,ry:0,class:o,style:l.style,id:i.id,domId:i.domId,tooltip:r.db.getTooltip(i.id)||"",haveCallback:i.haveCallback,link:i.link,width:"group"===i.type?500:void 0,type:i.type,padding:Xt().flowchart.padding}),a.info("setNode",{labelStyle:l.labelStyle,shape:c,labelText:u,rx:0,ry:0,class:o,style:l.style,id:i.id,width:"group"===i.type?500:void 0,type:i.type,padding:Xt().flowchart.padding})}))}(d,h,0,r),function(t,e){var n=Xt().flowchart,r=0;t.forEach((function(i){r++;var o={classes:"relation"};o.pattern=1==i.relation.lineType?"dashed":"solid",o.id="id"+r,"arrow_open"===i.type?o.arrowhead="none":o.arrowhead="normal",a.info(o,i),o.startLabelRight="none"===i.relationTitle1?"":i.relationTitle1,o.endLabelLeft="none"===i.relationTitle2?"":i.relationTitle2,o.arrowTypeStart=bi(i.relation.type1),o.arrowTypeEnd=bi(i.relation.type2);var s="",c="";if(void 0!==i.style){var u=dn(i.style);s=u.style,c=u.labelStyle}else s="fill:none";o.style=s,o.labelStyle=c,void 0!==i.interpolate?o.curve=un(i.interpolate,l.curveLinear):void 0!==t.defaultInterpolate?o.curve=un(t.defaultInterpolate,l.curveLinear):o.curve=un(n.curve,l.curveLinear),i.text=i.title,void 0===i.text?void 0!==i.style&&(o.arrowheadStyle="fill: #333"):(o.arrowheadStyle="fill: #333",o.labelpos="c",Xt().flowchart.htmlLabels?(o.labelType="html",o.label='<span class="edgeLabel">'+i.text+"</span>"):(o.labelType="text",o.label=i.text.replace(le.lineBreakRegex,"\n"),void 0===i.style&&(o.style=o.style||"stroke: #333; stroke-width: 1.5px;fill:none"),o.labelStyle=o.labelStyle.replace("color:","fill:"))),e.setEdge(i.id1,i.id2,o,r)}))}(f,h),"sandbox"===o&&(s=(0,l.select)("#i"+e));var p="sandbox"===o?(0,l.select)(s.nodes()[0].contentDocument.body):(0,l.select)("body"),g=p.select('[id="'.concat(e,'"]')),m=p.select("#"+e+" g");if(mi(m,h,["aggregation","extension","composition","dependency"],"classDiagram",e),Dn(h,g,i.diagramPadding,i.useMaxWidth),!i.htmlLabels)for(var y="sandbox"===o?s.nodes()[0].contentDocument:document,b=y.querySelectorAll('[id="'+e+'"] .edgeLabel .label'),v=0;v<b.length;v++){var _=b[v],x=_.getBBox(),w=y.createElementNS("http://www.w3.org/2000/svg","rect");w.setAttribute("rx",0),w.setAttribute("ry",0),w.setAttribute("width",x.width),w.setAttribute("height",x.height),_.insertBefore(w,_.firstChild)}Tn(r.db,g,e)}};var _i=n(1362),xi=n.n(_i),wi={},ki=[],Di=function(t){return void 0===wi[t]&&(wi[t]={attributes:[]},a.info("Added new entity :",t)),wi[t]};const Ci={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},getConfig:function(){return Xt().er},addEntity:Di,addAttributes:function(t,e){var n,r=Di(t);for(n=e.length-1;n>=0;n--)r.attributes.push(e[n]),a.debug("Added attribute ",e[n].attributeName)},getEntities:function(){return wi},addRelationship:function(t,e,n,r){var i={entityA:t,roleA:e,entityB:n,relSpec:r};ki.push(i),a.debug("Added new relationship :",i)},getRelationships:function(){return ki},clear:function(){wi={},ki=[],pe()},setAccTitle:ge,getAccTitle:me,setAccDescription:ye,getAccDescription:be};var Ei={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"};const Si=Ei;var Ti={},Ai=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},Mi=0;const Fi={setConf:function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Ti[e[n]]=t[e[n]]},draw:function(t,e,n,r){Ti=Xt().er,a.info("Drawing ER diagram");var i,o=Xt().securityLevel;"sandbox"===o&&(i=(0,l.select)("#i"+e));var s,c=("sandbox"===o?(0,l.select)(i.nodes()[0].contentDocument.body):(0,l.select)("body")).select("[id='".concat(e,"']"));(function(t,e){var n;t.append("defs").append("marker").attr("id",Ei.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",Ei.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),(n=t.append("defs").append("marker").attr("id",Ei.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),(n=t.append("defs").append("marker").attr("id",Ei.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",Ei.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",Ei.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),(n=t.append("defs").append("marker").attr("id",Ei.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),(n=t.append("defs").append("marker").attr("id",Ei.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")})(c,Ti),s=new(gr().Graph)({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Ti.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));var u,h,d=function(t,e,n){var r;return Object.keys(e).forEach((function(i){var o=t.append("g").attr("id",i);r=void 0===r?i:r;var a="entity-"+i,s=o.append("text").attr("class","er entityLabel").attr("id",a).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+Xt().fontFamily+"; font-size: "+Ti.fontSize+"px").text(i),c=function(t,e,n){var r=Ti.entityPadding/3,i=Ti.entityPadding/3,o=.85*Ti.fontSize,a=e.node().getBBox(),s=[],c=!1,l=!1,u=0,h=0,d=0,f=0,p=a.height+2*r,g=1;n.forEach((function(t){void 0!==t.attributeKeyType&&(c=!0),void 0!==t.attributeComment&&(l=!0)})),n.forEach((function(n){var i="".concat(e.node().id,"-attr-").concat(g),a=0,m=t.append("text").attr("class","er entityLabel").attr("id","".concat(i,"-type")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+Xt().fontFamily+"; font-size: "+o+"px").text(n.attributeType),y=t.append("text").attr("class","er entityLabel").attr("id","".concat(i,"-name")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+Xt().fontFamily+"; font-size: "+o+"px").text(n.attributeName),b={};b.tn=m,b.nn=y;var v=m.node().getBBox(),_=y.node().getBBox();if(u=Math.max(u,v.width),h=Math.max(h,_.width),a=Math.max(v.height,_.height),c){var x=t.append("text").attr("class","er entityLabel").attr("id","".concat(i,"-key")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+Xt().fontFamily+"; font-size: "+o+"px").text(n.attributeKeyType||"");b.kn=x;var w=x.node().getBBox();d=Math.max(d,w.width),a=Math.max(a,w.height)}if(l){var k=t.append("text").attr("class","er entityLabel").attr("id","".concat(i,"-comment")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+Xt().fontFamily+"; font-size: "+o+"px").text(n.attributeComment||"");b.cn=k;var D=k.node().getBBox();f=Math.max(f,D.width),a=Math.max(a,D.height)}b.height=a,s.push(b),p+=a+2*r,g+=1}));var m=4;c&&(m+=2),l&&(m+=2);var y=u+h+d+f,b={width:Math.max(Ti.minEntityWidth,Math.max(a.width+2*Ti.entityPadding,y+i*m)),height:n.length>0?p:Math.max(Ti.minEntityHeight,a.height+2*Ti.entityPadding)};if(n.length>0){var v=Math.max(0,(b.width-y-i*m)/(m/2));e.attr("transform","translate("+b.width/2+","+(r+a.height/2)+")");var _=a.height+2*r,x="attributeBoxOdd";s.forEach((function(e){var n=_+r+e.height/2;e.tn.attr("transform","translate("+i+","+n+")");var o=t.insert("rect","#"+e.tn.node().id).attr("class","er ".concat(x)).attr("fill",Ti.fill).attr("fill-opacity","100%").attr("stroke",Ti.stroke).attr("x",0).attr("y",_).attr("width",u+2*i+v).attr("height",e.height+2*r),a=parseFloat(o.attr("x"))+parseFloat(o.attr("width"));e.nn.attr("transform","translate("+(a+i)+","+n+")");var s=t.insert("rect","#"+e.nn.node().id).attr("class","er ".concat(x)).attr("fill",Ti.fill).attr("fill-opacity","100%").attr("stroke",Ti.stroke).attr("x",a).attr("y",_).attr("width",h+2*i+v).attr("height",e.height+2*r),p=parseFloat(s.attr("x"))+parseFloat(s.attr("width"));if(c){e.kn.attr("transform","translate("+(p+i)+","+n+")");var g=t.insert("rect","#"+e.kn.node().id).attr("class","er ".concat(x)).attr("fill",Ti.fill).attr("fill-opacity","100%").attr("stroke",Ti.stroke).attr("x",p).attr("y",_).attr("width",d+2*i+v).attr("height",e.height+2*r);p=parseFloat(g.attr("x"))+parseFloat(g.attr("width"))}l&&(e.cn.attr("transform","translate("+(p+i)+","+n+")"),t.insert("rect","#"+e.cn.node().id).attr("class","er ".concat(x)).attr("fill",Ti.fill).attr("fill-opacity","100%").attr("stroke",Ti.stroke).attr("x",p).attr("y",_).attr("width",f+2*i+v).attr("height",e.height+2*r)),_+=e.height+2*r,x="attributeBoxOdd"==x?"attributeBoxEven":"attributeBoxOdd"}))}else b.height=Math.max(Ti.minEntityHeight,p),e.attr("transform","translate("+b.width/2+","+b.height/2+")");return b}(o,s,e[i].attributes),l=c.width,u=c.height,h=o.insert("rect","#"+a).attr("class","er entityBox").attr("fill",Ti.fill).attr("fill-opacity","100%").attr("stroke",Ti.stroke).attr("x",0).attr("y",0).attr("width",l).attr("height",u).node().getBBox();n.setNode(i,{width:h.width,height:h.height,shape:"rect",id:i})})),r}(c,r.db.getEntities(),s),f=function(t,e){return t.forEach((function(t){e.setEdge(t.entityA,t.entityB,{relationship:t},Ai(t))})),t}(r.db.getRelationships(),s);fr().layout(s),u=c,(h=s).nodes().forEach((function(t){void 0!==t&&void 0!==h.node(t)&&u.select("#"+t).attr("transform","translate("+(h.node(t).x-h.node(t).width/2)+","+(h.node(t).y-h.node(t).height/2)+" )")})),f.forEach((function(t){!function(t,e,n,r,i){Mi++;var o=n.edge(e.entityA,e.entityB,Ai(e)),a=(0,l.line)().x((function(t){return t.x})).y((function(t){return t.y})).curve(l.curveBasis),s=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",a(o.points)).attr("stroke",Ti.stroke).attr("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&s.attr("stroke-dasharray","8,8");var c="";switch(Ti.arrowMarkerAbsolute&&(c=(c=(c=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:s.attr("marker-end","url("+c+"#"+Si.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:s.attr("marker-end","url("+c+"#"+Si.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:s.attr("marker-end","url("+c+"#"+Si.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:s.attr("marker-end","url("+c+"#"+Si.ONLY_ONE_END+")")}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:s.attr("marker-start","url("+c+"#"+Si.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:s.attr("marker-start","url("+c+"#"+Si.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:s.attr("marker-start","url("+c+"#"+Si.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:s.attr("marker-start","url("+c+"#"+Si.ONLY_ONE_START+")")}var u=s.node().getTotalLength(),h=s.node().getPointAtLength(.5*u),d="rel"+Mi,f=t.append("text").attr("class","er relationshipLabel").attr("id",d).attr("x",h.x).attr("y",h.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+Xt().fontFamily+"; font-size: "+Ti.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+d).attr("class","er relationshipLabelBox").attr("x",h.x-f.width/2).attr("y",h.y-f.height/2).attr("width",f.width).attr("height",f.height).attr("fill","white").attr("fill-opacity","85%")}(c,t,s,d,r)}));var p=Ti.diagramPadding,g=c.node().getBBox(),m=g.width+2*p,y=g.height+2*p;kn(c,y,m,Ti.useMaxWidth),c.attr("viewBox","".concat(g.x-p," ").concat(g.y-p," ").concat(m," ").concat(y)),Tn(r.db,c,e)}};var Oi=n(5890),Ni=n.n(Oi);function Bi(t){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(t)}function Ii(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Li,Ri,Pi="flowchart-",ji=0,zi=Xt(),$i={},Yi=[],Wi=[],Ui=[],qi={},Vi={},Hi=0,Gi=!0,Xi=[],Ji=function(t){return le.sanitizeText(t,zi)},Ki=function(t){for(var e=Object.keys($i),n=0;n<e.length;n++)if($i[e[n]].id===t)return $i[e[n]].domId;return t},Zi=function(t,e,n,r){var i={start:t,end:e,type:void 0,text:""};void 0!==(r=n.text)&&(i.text=Ji(r.trim()),'"'===i.text[0]&&'"'===i.text[i.text.length-1]&&(i.text=i.text.substring(1,i.text.length-1))),void 0!==n&&(i.type=n.type,i.stroke=n.stroke,i.length=n.length),Yi.push(i)},Qi=function(t,e){t.split(",").forEach((function(t){var n=t;void 0!==$i[n]&&$i[n].classes.push(e),void 0!==qi[n]&&qi[n].classes.push(e)}))},to=function(t){var e=(0,l.select)(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=(0,l.select)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,l.select)(t).select("svg").selectAll("g.node").on("mouseover",(function(){var t=(0,l.select)(this);if(null!==t.attr("title")){var n=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(t.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),t.classed("hover",!0)}})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),(0,l.select)(this).classed("hover",!1)}))};Xi.push(to);var eo=function(t){for(var e=0;e<Ui.length;e++)if(Ui[e].id===t)return e;return-1},no=-1,ro=[],io=function t(e,n){var r=Ui[n].nodes;if(!((no+=1)>2e3)){if(ro[no]=n,Ui[n].id===e)return{result:!0,count:0};for(var i=0,o=1;i<r.length;){var a=eo(r[i]);if(a>=0){var s=t(e,a);if(s.result)return{result:!0,count:o+s.count};o+=s.count}i+=1}return{result:!1,count:o}}},oo=function(t,e){var n=!1;return t.forEach((function(t){t.nodes.indexOf(e)>=0&&(n=!0)})),n},ao=function(t,e){var n=[];return t.nodes.forEach((function(r,i){oo(e,r)||n.push(t.nodes[i])})),{nodes:n}};const so={parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},defaultConfig:function(){return Wt.flowchart},setAccTitle:ge,getAccTitle:me,getAccDescription:be,setAccDescription:ye,addVertex:function(t,e,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=t;void 0!==c&&0!==c.trim().length&&(void 0===$i[c]&&($i[c]={id:c,domId:Pi+c+"-"+ji,styles:[],classes:[]}),ji++,void 0!==e?(zi=Xt(),'"'===(a=Ji(e.trim()))[0]&&'"'===a[a.length-1]&&(a=a.substring(1,a.length-1)),$i[c].text=a):void 0===$i[c].text&&($i[c].text=t),void 0!==n&&($i[c].type=n),null!=r&&r.forEach((function(t){$i[c].styles.push(t)})),null!=i&&i.forEach((function(t){$i[c].classes.push(t)})),void 0!==o&&($i[c].dir=o),$i[c].props=s)},lookUpDomId:Ki,addLink:function(t,e,n,r){var i,o;for(i=0;i<t.length;i++)for(o=0;o<e.length;o++)Zi(t[i],e[o],n,r)},updateLinkInterpolate:function(t,e){t.forEach((function(t){"default"===t?Yi.defaultInterpolate=e:Yi[t].interpolate=e}))},updateLink:function(t,e){t.forEach((function(t){"default"===t?Yi.defaultStyle=e:(-1===Sn.isSubstringInArray("fill",e)&&e.push("fill:none"),Yi[t].style=e)}))},addClass:function(t,e){void 0===Wi[t]&&(Wi[t]={id:t,styles:[],textStyles:[]}),null!=e&&e.forEach((function(e){if(e.match("color")){var n=e.replace("fill","bgFill").replace("color","fill");Wi[t].textStyles.push(n)}Wi[t].styles.push(e)}))},setDirection:function(t){(Li=t).match(/.*</)&&(Li="RL"),Li.match(/.*\^/)&&(Li="BT"),Li.match(/.*>/)&&(Li="LR"),Li.match(/.*v/)&&(Li="TB")},setClass:Qi,setTooltip:function(t,e){t.split(",").forEach((function(t){void 0!==e&&(Vi["gen-1"===Ri?Ki(t):t]=Ji(e))}))},getTooltip:function(t){return Vi[t]},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){!function(t,e,n){var r=Ki(t);if("loose"===Xt().securityLevel&&void 0!==e){var i=[];if("string"==typeof n){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var o=0;o<i.length;o++){var a=i[o].trim();'"'===a.charAt(0)&&'"'===a.charAt(a.length-1)&&(a=a.substr(1,a.length-2)),i[o]=a}}0===i.length&&i.push(t),void 0!==$i[t]&&($i[t].haveCallback=!0,Xi.push((function(){var t=document.querySelector('[id="'.concat(r,'"]'));null!==t&&t.addEventListener("click",(function(){var t;Sn.runFunc.apply(Sn,[e].concat(function(t){if(Array.isArray(t))return Ii(t)}(t=i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ii(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ii(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),!1)})))}}(t,e,n)})),Qi(t,"clickable")},setLink:function(t,e,n){t.split(",").forEach((function(t){void 0!==$i[t]&&($i[t].link=Sn.formatUrl(e,zi),$i[t].linkTarget=n)})),Qi(t,"clickable")},bindFunctions:function(t){Xi.forEach((function(e){e(t)}))},getDirection:function(){return Li.trim()},getVertices:function(){return $i},getEdges:function(){return Yi},getClasses:function(){return Wi},clear:function(t){$i={},Wi={},Yi=[],(Xi=[]).push(to),Ui=[],qi={},Hi=0,Vi=[],Gi=!0,Ri=t||"gen-1",pe()},setGen:function(t){Ri=t||"gen-1"},defaultStyle:function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph:function(t,e,n){var r=t.trim(),i=n;t===n&&n.match(/\s/)&&(r=void 0);var o=[],s=function(t){var e,n={boolean:{},number:{},string:{}},r=[],i=t.filter((function(t){var i=Bi(t);return t.stmt&&"dir"===t.stmt?(e=t.value,!1):""!==t.trim()&&(i in n?!n[i].hasOwnProperty(t)&&(n[i][t]=!0):!(r.indexOf(t)>=0)&&r.push(t))}));return{nodeList:i,dir:e}}(o.concat.apply(o,e)),c=s.nodeList,l=s.dir;if(o=c,"gen-1"===Ri)for(var u=0;u<o.length;u++)o[u]=Ki(o[u]);r=r||"subGraph"+Hi,i=Ji(i=i||""),Hi+=1;var h={id:r,nodes:o,title:i.trim(),classes:[],dir:l};return a.info("Adding",h.id,h.nodes,h.dir),h.nodes=ao(h,Ui).nodes,Ui.push(h),qi[r]=h,r},getDepthFirstPos:function(t){return ro[t]},indexNodes:function(){no=-1,Ui.length>0&&io("none",Ui.length-1)},getSubGraphs:function(){return Ui},destructLink:function(t,e){var n,r=function(t){var e=t.trim(),n=e.slice(0,-1),r="arrow_open";switch(e.slice(-1)){case"x":r="arrow_cross","x"===e[0]&&(r="double_"+r,n=n.slice(1));break;case">":r="arrow_point","<"===e[0]&&(r="double_"+r,n=n.slice(1));break;case"o":r="arrow_circle","o"===e[0]&&(r="double_"+r,n=n.slice(1))}var i="normal",o=n.length-1;"="===n[0]&&(i="thick");var a=function(t,e){for(var n=e.length,r=0,i=0;i<n;++i)"."===e[i]&&++r;return r}(0,n);return a&&(i="dotted",o=a),{type:r,stroke:i,length:o}}(t);if(e){if(n=function(t){var e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1)}var r="normal";return-1!==e.indexOf("=")&&(r="thick"),-1!==e.indexOf(".")&&(r="dotted"),{type:n,stroke:r}}(e),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===n.type)n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return"double_arrow"===n.type&&(n.type="double_arrow_point"),n.length=r.length,n}return r},lex:{firstGraph:function(){return!!Gi&&(Gi=!1,!0)}},exists:oo,makeUniq:ao};var co=n(4949),lo=n.n(co),uo=n(8284),ho=n.n(uo);function fo(t,e,n){var r=.9*(e.width+e.height),i=[{x:r/2,y:0},{x:r,y:-r/2},{x:r/2,y:-r},{x:0,y:-r/2}],o=Do(t,r,r,i);return n.intersect=function(t){return lo().intersect.polygon(n,i,t)},o}function po(t,e,n){var r=e.height,i=r/4,o=e.width+2*i,a=[{x:i,y:0},{x:o-i,y:0},{x:o,y:-r/2},{x:o-i,y:-r},{x:i,y:-r},{x:0,y:-r/2}],s=Do(t,o,r,a);return n.intersect=function(t){return lo().intersect.polygon(n,a,t)},s}function go(t,e,n){var r=e.width,i=e.height,o=[{x:-i/2,y:0},{x:r,y:0},{x:r,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],a=Do(t,r,i,o);return n.intersect=function(t){return lo().intersect.polygon(n,o,t)},a}function mo(t,e,n){var r=e.width,i=e.height,o=[{x:-2*i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:i/6,y:-i}],a=Do(t,r,i,o);return n.intersect=function(t){return lo().intersect.polygon(n,o,t)},a}function yo(t,e,n){var r=e.width,i=e.height,o=[{x:2*i/6,y:0},{x:r+i/6,y:0},{x:r-2*i/6,y:-i},{x:-i/6,y:-i}],a=Do(t,r,i,o);return n.intersect=function(t){return lo().intersect.polygon(n,o,t)},a}function bo(t,e,n){var r=e.width,i=e.height,o=[{x:-2*i/6,y:0},{x:r+2*i/6,y:0},{x:r-i/6,y:-i},{x:i/6,y:-i}],a=Do(t,r,i,o);return n.intersect=function(t){return lo().intersect.polygon(n,o,t)},a}function vo(t,e,n){var r=e.width,i=e.height,o=[{x:i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:-2*i/6,y:-i}],a=Do(t,r,i,o);return n.intersect=function(t){return lo().intersect.polygon(n,o,t)},a}function _o(t,e,n){var r=e.width,i=e.height,o=[{x:0,y:0},{x:r+i/2,y:0},{x:r,y:-i/2},{x:r+i/2,y:-i},{x:0,y:-i}],a=Do(t,r,i,o);return n.intersect=function(t){return lo().intersect.polygon(n,o,t)},a}function xo(t,e,n){var r=e.height,i=e.width+r/4,o=t.insert("rect",":first-child").attr("rx",r/2).attr("ry",r/2).attr("x",-i/2).attr("y",-r/2).attr("width",i).attr("height",r);return n.intersect=function(t){return lo().intersect.rect(n,t)},o}function wo(t,e,n){var r=e.width,i=e.height,o=[{x:0,y:0},{x:r,y:0},{x:r,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:r+8,y:0},{x:r+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],a=Do(t,r,i,o);return n.intersect=function(t){return lo().intersect.polygon(n,o,t)},a}function ko(t,e,n){var r=e.width,i=r/2,o=i/(2.5+r/50),a=e.height+o,s="M 0,"+o+" a "+i+","+o+" 0,0,0 "+r+" 0 a "+i+","+o+" 0,0,0 "+-r+" 0 l 0,"+a+" a "+i+","+o+" 0,0,0 "+r+" 0 l 0,"+-a,c=t.attr("label-offset-y",o).insert("path",":first-child").attr("d",s).attr("transform","translate("+-r/2+","+-(a/2+o)+")");return n.intersect=function(t){var e=lo().intersect.rect(n,t),r=e.x-n.x;if(0!=i&&(Math.abs(r)<n.width/2||Math.abs(r)==n.width/2&&Math.abs(e.y-n.y)>n.height/2-o)){var a=o*o*(1-r*r/(i*i));0!=a&&(a=Math.sqrt(a)),a=o-a,t.y-n.y>0&&(a=-a),e.y+=a}return e},c}function Do(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map((function(t){return t.x+","+t.y})).join(" ")).attr("transform","translate("+-e/2+","+n/2+")")}const Co=function(t){t.shapes().question=fo,t.shapes().hexagon=po,t.shapes().stadium=xo,t.shapes().subroutine=wo,t.shapes().cylinder=ko,t.shapes().rect_left_inv_arrow=go,t.shapes().lean_right=mo,t.shapes().lean_left=yo,t.shapes().trapezoid=bo,t.shapes().inv_trapezoid=vo,t.shapes().rect_right_inv_arrow=_o};var Eo={},So=function(t,e,n,r,i,o){Xt().securityLevel;var s=r?r.select('[id="'.concat(n,'"]')):(0,l.select)('[id="'.concat(n,'"]')),c=i||document;Object.keys(t).forEach((function(n){var r=t[n],i="default";r.classes.length>0&&(i=r.classes.join(" "));var l,u=dn(r.styles),h=void 0!==r.text?r.text:r.id;if(ce(Xt().flowchart.htmlLabels)){var d={label:h.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")}))};(l=ho()(s,d).node()).parentNode.removeChild(l)}else{var f=c.createElementNS("http://www.w3.org/2000/svg","text");f.setAttribute("style",u.labelStyle.replace("color:","fill:"));for(var p=h.split(le.lineBreakRegex),g=0;g<p.length;g++){var m=c.createElementNS("http://www.w3.org/2000/svg","tspan");m.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),m.setAttribute("dy","1em"),m.setAttribute("x","1"),m.textContent=p[g],f.appendChild(m)}l=f}var y=0,b="";switch(r.type){case"round":y=5,b="rect";break;case"square":case"group":default:b="rect";break;case"diamond":b="question";break;case"hexagon":b="hexagon";break;case"odd":case"odd_right":b="rect_left_inv_arrow";break;case"lean_right":b="lean_right";break;case"lean_left":b="lean_left";break;case"trapezoid":b="trapezoid";break;case"inv_trapezoid":b="inv_trapezoid";break;case"circle":b="circle";break;case"ellipse":b="ellipse";break;case"stadium":b="stadium";break;case"subroutine":b="subroutine";break;case"cylinder":b="cylinder"}a.warn("Adding node",r.id,r.domId),e.setNode(o.db.lookUpDomId(r.id),{labelType:"svg",labelStyle:u.labelStyle,shape:b,label:l,rx:y,ry:y,class:i,style:u.style,id:o.db.lookUpDomId(r.id)})}))},To=function(t,e,n){var r,i,o=0;if(void 0!==t.defaultStyle){var a=dn(t.defaultStyle);r=a.style,i=a.labelStyle}t.forEach((function(a){o++;var s="L-"+a.start+"-"+a.end,c="LS-"+a.start,u="LE-"+a.end,h={};"arrow_open"===a.type?h.arrowhead="none":h.arrowhead="normal";var d="",f="";if(void 0!==a.style){var p=dn(a.style);d=p.style,f=p.labelStyle}else switch(a.stroke){case"normal":d="fill:none",void 0!==r&&(d=r),void 0!==i&&(f=i);break;case"dotted":d="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":d=" stroke-width: 3.5px;fill:none"}h.style=d,h.labelStyle=f,void 0!==a.interpolate?h.curve=un(a.interpolate,l.curveLinear):void 0!==t.defaultInterpolate?h.curve=un(t.defaultInterpolate,l.curveLinear):h.curve=un(Eo.curve,l.curveLinear),void 0===a.text?void 0!==a.style&&(h.arrowheadStyle="fill: #333"):(h.arrowheadStyle="fill: #333",h.labelpos="c",ce(Xt().flowchart.htmlLabels)?(h.labelType="html",h.label='<span id="L-'.concat(s,'" class="edgeLabel L-').concat(c,"' L-").concat(u,'" style="').concat(h.labelStyle,'">').concat(a.text.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")})),"</span>")):(h.labelType="text",h.label=a.text.replace(le.lineBreakRegex,"\n"),void 0===a.style&&(h.style=h.style||"stroke: #333; stroke-width: 1.5px;fill:none"),h.labelStyle=h.labelStyle.replace("color:","fill:"))),h.id=s,h.class=c+" "+u,h.minlen=a.length||1,e.setEdge(n.db.lookUpDomId(a.start),n.db.lookUpDomId(a.end),h,o)}))};const Ao={setConf:function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Eo[e[n]]=t[e[n]]},addVertices:So,addEdges:To,getClasses:function(t,e){a.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(t){return}},draw:function(t,e,n,r){a.info("Drawing flowchart"),r.db.clear();var i,o=Xt().securityLevel;"sandbox"===o&&(i=(0,l.select)("#i"+e));var s="sandbox"===o?(0,l.select)(i.nodes()[0].contentDocument.body):(0,l.select)("body"),c="sandbox"===o?i.nodes()[0].contentDocument:document;try{r.parser.parse(t)}catch(t){a.debug("Parsing failed")}var u=r.db.getDirection();void 0===u&&(u="TD");for(var h,d=Xt().flowchart,f=d.nodeSpacing||50,p=d.rankSpacing||50,g=new(gr().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:u,nodesep:f,ranksep:p,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),m=r.db.getSubGraphs(),y=m.length-1;y>=0;y--)h=m[y],r.db.addVertex(h.id,h.title,"group",void 0,h.classes);var b=r.db.getVertices();a.warn("Get vertices",b);var v=r.db.getEdges(),_=0;for(_=m.length-1;_>=0;_--){h=m[_],(0,l.selectAll)("cluster").append("text");for(var x=0;x<h.nodes.length;x++)a.warn("Setting subgraph",h.nodes[x],r.db.lookUpDomId(h.nodes[x]),r.db.lookUpDomId(h.id)),g.setParent(r.db.lookUpDomId(h.nodes[x]),r.db.lookUpDomId(h.id))}So(b,g,e,s,c,r),To(v,g,r);var w=new(0,lo().render);Co(w),w.arrows().none=function(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");lo().util.applyStyle(i,n[r+"Style"])},w.arrows().normal=function(t,e){t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};var k=s.select('[id="'.concat(e,'"]'));Tn(r.db,k,e);var D=s.select("#"+e+" g");for(w(D,g),D.selectAll("g.node").attr("title",(function(){return r.db.getTooltip(this.id)})),r.db.indexNodes("subGraph"+_),_=0;_<m.length;_++)if("undefined"!==(h=m[_]).title){var C=c.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(h.id)+'"] rect'),E=c.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(h.id)+'"]'),S=C[0].x.baseVal.value,T=C[0].y.baseVal.value,A=C[0].width.baseVal.value,M=(0,l.select)(E[0]).select(".label");M.attr("transform","translate(".concat(S+A/2,", ").concat(T+14,")")),M.attr("id",e+"Text");for(var F=0;F<h.classes.length;F++)E[0].classList.add(h.classes[F])}ce(d.htmlLabels);for(var O=c.querySelectorAll('[id="'+e+'"] .edgeLabel .label'),N=0;N<O.length;N++){var B=O[N],I=B.getBBox(),L=c.createElementNS("http://www.w3.org/2000/svg","rect");L.setAttribute("rx",0),L.setAttribute("ry",0),L.setAttribute("width",I.width),L.setAttribute("height",I.height),B.insertBefore(L,B.firstChild)}Dn(g,k,d.diagramPadding,d.useMaxWidth),Object.keys(b).forEach((function(t){var n=b[t];if(n.link){var i=s.select("#"+e+' [id="'+r.db.lookUpDomId(t)+'"]');if(i){var a=c.createElementNS("http://www.w3.org/2000/svg","a");a.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),a.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),a.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===o?a.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&a.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);var l=i.insert((function(){return a}),":first-child"),u=i.select(".label-container");u&&l.append((function(){return u.node()}));var h=i.select(".label");h&&l.append((function(){return h.node()}))}}}))}};var Mo={},Fo=function(t,e,n,r,i,o){var s=r.select('[id="'.concat(n,'"]'));Object.keys(t).forEach((function(n){var r=t[n],c="default";r.classes.length>0&&(c=r.classes.join(" "));var l,u=dn(r.styles),h=void 0!==r.text?r.text:r.id;if(ce(Xt().flowchart.htmlLabels)){var d={label:h.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")}))};(l=ho()(s,d).node()).parentNode.removeChild(l)}else{var f=i.createElementNS("http://www.w3.org/2000/svg","text");f.setAttribute("style",u.labelStyle.replace("color:","fill:"));for(var p=h.split(le.lineBreakRegex),g=0;g<p.length;g++){var m=i.createElementNS("http://www.w3.org/2000/svg","tspan");m.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),m.setAttribute("dy","1em"),m.setAttribute("x","1"),m.textContent=p[g],f.appendChild(m)}l=f}var y=0,b="";switch(r.type){case"round":y=5,b="rect";break;case"square":case"group":default:b="rect";break;case"diamond":b="question";break;case"hexagon":b="hexagon";break;case"odd":case"odd_right":b="rect_left_inv_arrow";break;case"lean_right":b="lean_right";break;case"lean_left":b="lean_left";break;case"trapezoid":b="trapezoid";break;case"inv_trapezoid":b="inv_trapezoid";break;case"circle":b="circle";break;case"ellipse":b="ellipse";break;case"stadium":b="stadium";break;case"subroutine":b="subroutine";break;case"cylinder":b="cylinder";break;case"doublecircle":b="doublecircle"}e.setNode(r.id,{labelStyle:u.labelStyle,shape:b,labelText:h,rx:y,ry:y,class:c,style:u.style,id:r.id,link:r.link,linkTarget:r.linkTarget,tooltip:o.db.getTooltip(r.id)||"",domId:o.db.lookUpDomId(r.id),haveCallback:r.haveCallback,width:"group"===r.type?500:void 0,dir:r.dir,type:r.type,props:r.props,padding:Xt().flowchart.padding}),a.info("setNode",{labelStyle:u.labelStyle,shape:b,labelText:h,rx:y,ry:y,class:c,style:u.style,id:r.id,domId:o.db.lookUpDomId(r.id),width:"group"===r.type?500:void 0,type:r.type,dir:r.dir,props:r.props,padding:Xt().flowchart.padding})}))},Oo=function(t,e,n){a.info("abc78 edges = ",t);var r,i,o=0,s={};if(void 0!==t.defaultStyle){var c=dn(t.defaultStyle);r=c.style,i=c.labelStyle}t.forEach((function(n){o++;var c="L-"+n.start+"-"+n.end;void 0===s[c]?(s[c]=0,a.info("abc78 new entry",c,s[c])):(s[c]++,a.info("abc78 new entry",c,s[c]));var u=c+"-"+s[c];a.info("abc78 new link id to be used is",c,u,s[c]);var h="LS-"+n.start,d="LE-"+n.end,f={style:"",labelStyle:""};switch(f.minlen=n.length||1,"arrow_open"===n.type?f.arrowhead="none":f.arrowhead="normal",f.arrowTypeStart="arrow_open",f.arrowTypeEnd="arrow_open",n.type){case"double_arrow_cross":f.arrowTypeStart="arrow_cross";case"arrow_cross":f.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":f.arrowTypeStart="arrow_point";case"arrow_point":f.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":f.arrowTypeStart="arrow_circle";case"arrow_circle":f.arrowTypeEnd="arrow_circle"}var p="",g="";switch(n.stroke){case"normal":p="fill:none;",void 0!==r&&(p=r),void 0!==i&&(g=i),f.thickness="normal",f.pattern="solid";break;case"dotted":f.thickness="normal",f.pattern="dotted",f.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":f.thickness="thick",f.pattern="solid",f.style="stroke-width: 3.5px;fill:none;"}if(void 0!==n.style){var m=dn(n.style);p=m.style,g=m.labelStyle}f.style=f.style+=p,f.labelStyle=f.labelStyle+=g,void 0!==n.interpolate?f.curve=un(n.interpolate,l.curveLinear):void 0!==t.defaultInterpolate?f.curve=un(t.defaultInterpolate,l.curveLinear):f.curve=un(Mo.curve,l.curveLinear),void 0===n.text?void 0!==n.style&&(f.arrowheadStyle="fill: #333"):(f.arrowheadStyle="fill: #333",f.labelpos="c"),f.labelType="text",f.label=n.text.replace(le.lineBreakRegex,"\n"),void 0===n.style&&(f.style=f.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),f.labelStyle=f.labelStyle.replace("color:","fill:"),f.id=u,f.classes="flowchart-link "+h+" "+d,e.setEdge(n.start,n.end,f,o)}))};const No={setConf:function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Mo[e[n]]=t[e[n]]},addVertices:Fo,addEdges:Oo,getClasses:function(t,e){a.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(t){return}},draw:function(t,e,n,r){a.info("Drawing flowchart"),r.db.clear(),so.setGen("gen-2"),r.parser.parse(t);var i=r.db.getDirection();void 0===i&&(i="TD");var o,s=Xt().flowchart,c=s.nodeSpacing||50,u=s.rankSpacing||50,h=Xt().securityLevel;"sandbox"===h&&(o=(0,l.select)("#i"+e));var d,f="sandbox"===h?(0,l.select)(o.nodes()[0].contentDocument.body):(0,l.select)("body"),p="sandbox"===h?o.nodes()[0].contentDocument:document,g=new(gr().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:c,ranksep:u,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),m=r.db.getSubGraphs();a.info("Subgraphs - ",m);for(var y=m.length-1;y>=0;y--)d=m[y],a.info("Subgraph - ",d),r.db.addVertex(d.id,d.title,"group",void 0,d.classes,d.dir);var b=r.db.getVertices(),v=r.db.getEdges();a.info(v);var _=0;for(_=m.length-1;_>=0;_--){d=m[_],(0,l.selectAll)("cluster").append("text");for(var x=0;x<d.nodes.length;x++)a.info("Setting up subgraphs",d.nodes[x],d.id),g.setParent(d.nodes[x],d.id)}Fo(b,g,e,f,p,r),Oo(v,g);var w=f.select('[id="'.concat(e,'"]'));Tn(r.db,w,e);var k=f.select("#"+e+" g");if(mi(k,g,["point","circle","cross"],"flowchart",e),Dn(g,w,s.diagramPadding,s.useMaxWidth),r.db.indexNodes("subGraph"+_),!s.htmlLabels)for(var D=p.querySelectorAll('[id="'+e+'"] .edgeLabel .label'),C=0;C<D.length;C++){var E=D[C],S=E.getBBox(),T=p.createElementNS("http://www.w3.org/2000/svg","rect");T.setAttribute("rx",0),T.setAttribute("ry",0),T.setAttribute("width",S.width),T.setAttribute("height",S.height),E.insertBefore(T,E.firstChild)}Object.keys(b).forEach((function(t){var n=b[t];if(n.link){var r=(0,l.select)("#"+e+' [id="'+t+'"]');if(r){var i=p.createElementNS("http://www.w3.org/2000/svg","a");i.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),i.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),i.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===h?i.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&i.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);var o=r.insert((function(){return i}),":first-child"),a=r.select(".label-container");a&&o.append((function(){return a.node()}));var s=r.select(".label");s&&o.append((function(){return s.node()}))}}}))}};var Bo=n(3602),Io=n.n(Bo);function Lo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ro,Po,jo="",zo="",$o="",Yo=[],Wo=[],Uo={},qo=[],Vo=[],Ho="",Go=["active","done","crit","milestone"],Xo=[],Jo=!1,Ko=!1,Zo=0,Qo=function(t,e,n,r){return!(r.indexOf(t.format(e.trim()))>=0)&&(t.isoWeekday()>=6&&n.indexOf("weekends")>=0||n.indexOf(t.format("dddd").toLowerCase())>=0||n.indexOf(t.format(e.trim()))>=0)},ta=function(t,e,n,r){if(n.length&&!t.manualEndTime){var o=i()(t.startTime,e,!0);o.add(1,"d");var a=i()(t.endTime,e,!0),s=ea(o,a,e,n,r);t.endTime=a.toDate(),t.renderEndTime=s}},ea=function(t,e,n,r,i){for(var o=!1,a=null;t<=e;)o||(a=e.toDate()),(o=Qo(t,n,r,i))&&e.add(1,"d"),t.add(1,"d");return a},na=function(t,e,n){n=n.trim();var r=/^after\s+([\d\w- ]+)/.exec(n.trim());if(null!==r){var o=null;if(r[1].split(" ").forEach((function(t){var e=la(t);void 0!==e&&(o?e.endTime>o.endTime&&(o=e):o=e)})),o)return o.endTime;var s=new Date;return s.setHours(0,0,0,0),s}var c=i()(n,e.trim(),!0);return c.isValid()?c.toDate():(a.debug("Invalid date:"+n),a.debug("With date format:"+e.trim()),new Date)},ra=function(t,e){if(null!==t)switch(t[2]){case"s":e.add(t[1],"seconds");break;case"m":e.add(t[1],"minutes");break;case"h":e.add(t[1],"hours");break;case"d":e.add(t[1],"days");break;case"w":e.add(t[1],"weeks")}return e.toDate()},ia=function(t,e,n,r){r=r||!1,n=n.trim();var o=i()(n,e.trim(),!0);return o.isValid()?(r&&o.add(1,"d"),o.toDate()):ra(/^([\d]+)([wdhms])/.exec(n.trim()),i()(t))},oa=0,aa=function(t){return void 0===t?"task"+(oa+=1):t},sa=[],ca={},la=function(t){var e=ca[t];return sa[e]},ua=function(){for(var t=function(t){var e=sa[t],n="";switch(sa[t].raw.startTime.type){case"prevTaskEnd":var r=la(e.prevTaskId);e.startTime=r.endTime;break;case"getStartDate":(n=na(0,jo,sa[t].raw.startTime.startData))&&(sa[t].startTime=n)}return sa[t].startTime&&(sa[t].endTime=ia(sa[t].startTime,jo,sa[t].raw.endTime.data,Jo),sa[t].endTime&&(sa[t].processed=!0,sa[t].manualEndTime=i()(sa[t].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),ta(sa[t],jo,Wo,Yo))),sa[t].processed},e=!0,n=0;n<sa.length;n++)t(n),e=e&&sa[n].processed;return e},ha=function(t,e){t.split(",").forEach((function(t){var n=la(t);void 0!==n&&n.classes.push(e)}))},da=function(t,e){Xo.push((function(){var n=document.querySelector('[id="'.concat(t,'"]'));null!==n&&n.addEventListener("click",(function(){e()}))})),Xo.push((function(){var n=document.querySelector('[id="'.concat(t,'-text"]'));null!==n&&n.addEventListener("click",(function(){e()}))}))};const fa={parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},getConfig:function(){return Xt().gantt},clear:function(){qo=[],Vo=[],Ho="",Xo=[],oa=0,Ro=void 0,Po=void 0,sa=[],jo="",zo="",$o="",Yo=[],Wo=[],Jo=!1,Ko=!1,Zo=0,Uo={},pe()},setDateFormat:function(t){jo=t},getDateFormat:function(){return jo},enableInclusiveEndDates:function(){Jo=!0},endDatesAreInclusive:function(){return Jo},enableTopAxis:function(){Ko=!0},topAxisEnabled:function(){return Ko},setAxisFormat:function(t){zo=t},getAxisFormat:function(){return zo},setTodayMarker:function(t){$o=t},getTodayMarker:function(){return $o},setAccTitle:ge,getAccTitle:me,setDiagramTitle:ve,getDiagramTitle:_e,setAccDescription:ye,getAccDescription:be,addSection:function(t){Ho=t,qo.push(t)},getSections:function(){return qo},getTasks:function(){for(var t=ua(),e=0;!t&&e<10;)t=ua(),e++;return Vo=sa},addTask:function(t,e){var n={section:Ho,type:Ho,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=function(t,e){var n=(":"===e.substr(0,1)?e.substr(1,e.length):e).split(","),r={};pa(n,r,Go);for(var i=0;i<n.length;i++)n[i]=n[i].trim();switch(n.length){case 1:r.id=aa(),r.startTime={type:"prevTaskEnd",id:t},r.endTime={data:n[0]};break;case 2:r.id=aa(),r.startTime={type:"getStartDate",startData:n[0]},r.endTime={data:n[1]};break;case 3:r.id=aa(n[0]),r.startTime={type:"getStartDate",startData:n[1]},r.endTime={data:n[2]}}return r}(Po,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=Po,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.order=Zo,Zo++;var i=sa.push(n);Po=n.id,ca[n.id]=i-1},findTaskById:la,addTaskOrg:function(t,e){var n={section:Ho,type:Ho,description:t,task:t,classes:[]},r=function(t,e){var n=(":"===e.substr(0,1)?e.substr(1,e.length):e).split(","),r={};pa(n,r,Go);for(var o=0;o<n.length;o++)n[o]=n[o].trim();var a="";switch(n.length){case 1:r.id=aa(),r.startTime=t.endTime,a=n[0];break;case 2:r.id=aa(),r.startTime=na(0,jo,n[0]),a=n[1];break;case 3:r.id=aa(n[0]),r.startTime=na(0,jo,n[1]),a=n[2]}return a&&(r.endTime=ia(r.startTime,jo,a,Jo),r.manualEndTime=i()(a,"YYYY-MM-DD",!0).isValid(),ta(r,jo,Wo,Yo)),r}(Ro,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,Ro=n,Vo.push(n)},setIncludes:function(t){Yo=t.toLowerCase().split(/[\s,]+/)},getIncludes:function(){return Yo},setExcludes:function(t){Wo=t.toLowerCase().split(/[\s,]+/)},getExcludes:function(){return Wo},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){!function(t,e,n){if("loose"===Xt().securityLevel&&void 0!==e){var r=[];if("string"==typeof n){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var i=0;i<r.length;i++){var o=r[i].trim();'"'===o.charAt(0)&&'"'===o.charAt(o.length-1)&&(o=o.substr(1,o.length-2)),r[i]=o}}0===r.length&&r.push(t),void 0!==la(t)&&da(t,(function(){var t;Sn.runFunc.apply(Sn,[e].concat(function(t){if(Array.isArray(t))return Lo(t)}(t=r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Lo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}))}}(t,e,n)})),ha(t,"clickable")},setLink:function(t,e){var n=e;"loose"!==Xt().securityLevel&&(n=(0,Pe.N)(e)),t.split(",").forEach((function(t){void 0!==la(t)&&(da(t,(function(){window.open(n,"_self")})),Uo[t]=n)})),ha(t,"clickable")},getLinks:function(){return Uo},bindFunctions:function(t){Xo.forEach((function(e){e(t)}))},durationToDate:ra,isInvalidDate:Qo};function pa(t,e,n){for(var r=!0;r;)r=!1,n.forEach((function(n){var i=new RegExp("^\\s*"+n+"\\s*$");t[0].match(i)&&(e[n]=!0,t.shift(1),r=!0)}))}var ga;const ma={setConf:function(){a.debug("Something is calling, setConf, remove the call")},draw:function(t,e,n,r){var o,a=Xt().gantt,s=Xt().securityLevel;"sandbox"===s&&(o=(0,l.select)("#i"+e));var c="sandbox"===s?(0,l.select)(o.nodes()[0].contentDocument.body):(0,l.select)("body"),u="sandbox"===s?o.nodes()[0].contentDocument:document,h=u.getElementById(e);void 0===(ga=h.parentElement.offsetWidth)&&(ga=1200),void 0!==a.useWidth&&(ga=a.useWidth);var d=r.db.getTasks(),f=d.length*(a.barHeight+a.barGap)+2*a.topPadding;h.setAttribute("viewBox","0 0 "+ga+" "+f);for(var p=c.select('[id="'.concat(e,'"]')),g=(0,l.scaleTime)().domain([(0,l.min)(d,(function(t){return t.startTime})),(0,l.max)(d,(function(t){return t.endTime}))]).rangeRound([0,ga-a.leftPadding-a.rightPadding]),m=[],y=0;y<d.length;y++)m.push(d[y].type);var b=m;m=function(t){for(var e={},n=[],r=0,i=t.length;r<i;++r)Object.prototype.hasOwnProperty.call(e,t[r])||(e[t[r]]=!0,n.push(t[r]));return n}(m),d.sort((function(t,e){var n=t.startTime,r=e.startTime,i=0;return n>r?i=1:n<r&&(i=-1),i})),function(t,n,o){var s=a.barHeight,c=s+a.barGap,h=a.topPadding,d=a.leftPadding;(0,l.scaleLinear)().domain([0,m.length]).range(["#00B9FA","#F95002"]).interpolate(l.interpolateHcl),function(t,e,n,o,s,c,l,u){var h=c.reduce((function(t,e){var n=e.startTime;return t?Math.min(t,n):n}),0),d=c.reduce((function(t,e){var n=e.endTime;return t?Math.max(t,n):n}),0),f=r.db.getDateFormat();if(h&&d){for(var m=[],y=null,b=i()(h);b.valueOf()<=d;)r.db.isInvalidDate(b,f,l,u)?y?y.end=b.clone():y={start:b.clone(),end:b.clone()}:y&&(m.push(y),y=null),b.add(1,"d");p.append("g").selectAll("rect").data(m).enter().append("rect").attr("id",(function(t){return"exclude-"+t.start.format("YYYY-MM-DD")})).attr("x",(function(t){return g(t.start)+n})).attr("y",a.gridLineStartPadding).attr("width",(function(t){var e=t.end.clone().add(1,"day");return g(e)-g(t.start)})).attr("height",s-e-a.gridLineStartPadding).attr("transform-origin",(function(e,r){return(g(e.start)+n+.5*(g(e.end)-g(e.start))).toString()+"px "+(r*t+.5*s).toString()+"px"})).attr("class","exclude-range")}}(c,h,d,0,o,t,r.db.getExcludes(),r.db.getIncludes()),function(t,e,n,i){var o=(0,l.axisBottom)(g).tickSize(-i+e+a.gridLineStartPadding).tickFormat((0,l.timeFormat)(r.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));if(p.append("g").attr("class","grid").attr("transform","translate("+t+", "+(i-50)+")").call(o).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||a.topAxis){var s=(0,l.axisTop)(g).tickSize(-i+e+a.gridLineStartPadding).tickFormat((0,l.timeFormat)(r.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));p.append("g").attr("class","grid").attr("transform","translate("+t+", "+e+")").call(s).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(d,h,0,o),function(t,n,i,o,s,c,u){p.append("g").selectAll("rect").data(t).enter().append("rect").attr("x",0).attr("y",(function(t,e){return t.order*n+i-2})).attr("width",(function(){return u-a.rightPadding/2})).attr("height",n).attr("class",(function(t){for(var e=0;e<m.length;e++)if(t.type===m[e])return"section section"+e%a.numberSectionStyles;return"section section0"}));var h=p.append("g").selectAll("rect").data(t).enter(),d=r.db.getLinks();if(h.append("rect").attr("id",(function(t){return t.id})).attr("rx",3).attr("ry",3).attr("x",(function(t){return t.milestone?g(t.startTime)+o+.5*(g(t.endTime)-g(t.startTime))-.5*s:g(t.startTime)+o})).attr("y",(function(t,e){return t.order*n+i})).attr("width",(function(t){return t.milestone?s:g(t.renderEndTime||t.endTime)-g(t.startTime)})).attr("height",s).attr("transform-origin",(function(t,e){return e=t.order,(g(t.startTime)+o+.5*(g(t.endTime)-g(t.startTime))).toString()+"px "+(e*n+i+.5*s).toString()+"px"})).attr("class",(function(t){var e="";t.classes.length>0&&(e=t.classes.join(" "));for(var n=0,r=0;r<m.length;r++)t.type===m[r]&&(n=r%a.numberSectionStyles);var i="";return t.active?t.crit?i+=" activeCrit":i=" active":t.done?i=t.crit?" doneCrit":" done":t.crit&&(i+=" crit"),0===i.length&&(i=" task"),t.milestone&&(i=" milestone "+i),"task"+(i+=n)+" "+e})),h.append("text").attr("id",(function(t){return t.id+"-text"})).text((function(t){return t.task})).attr("font-size",a.fontSize).attr("x",(function(t){var e=g(t.startTime),n=g(t.renderEndTime||t.endTime);t.milestone&&(e+=.5*(g(t.endTime)-g(t.startTime))-.5*s),t.milestone&&(n=e+s);var r=this.getBBox().width;return r>n-e?n+r+1.5*a.leftPadding>u?e+o-5:n+o+5:(n-e)/2+e+o})).attr("y",(function(t,e){return t.order*n+a.barHeight/2+(a.fontSize/2-2)+i})).attr("text-height",s).attr("class",(function(t){var e=g(t.startTime),n=g(t.endTime);t.milestone&&(n=e+s);var r=this.getBBox().width,i="";t.classes.length>0&&(i=t.classes.join(" "));for(var o=0,c=0;c<m.length;c++)t.type===m[c]&&(o=c%a.numberSectionStyles);var l="";return t.active&&(l=t.crit?"activeCritText"+o:"activeText"+o),t.done?l=t.crit?l+" doneCritText"+o:l+" doneText"+o:t.crit&&(l=l+" critText"+o),t.milestone&&(l+=" milestoneText"),r>n-e?n+r+1.5*a.leftPadding>u?i+" taskTextOutsideLeft taskTextOutside"+o+" "+l:i+" taskTextOutsideRight taskTextOutside"+o+" "+l+" width-"+r:i+" taskText taskText"+o+" "+l+" width-"+r})),"sandbox"===Xt().securityLevel){var f;f=(0,l.select)("#i"+e),(0,l.select)(f.nodes()[0].contentDocument.body);var y=f.nodes()[0].contentDocument;h.filter((function(t){return void 0!==d[t.id]})).each((function(t){var e=y.querySelector("#"+t.id),n=y.querySelector("#"+t.id+"-text"),r=e.parentNode,i=y.createElement("a");i.setAttribute("xlink:href",d[t.id]),i.setAttribute("target","_top"),r.appendChild(i),i.appendChild(e),i.appendChild(n)}))}}(t,c,h,d,s,0,n),function(t,e){for(var n=[],r=0,i=0;i<m.length;i++)n[i]=[m[i],(o=m[i],s=b,function(t){for(var e=t.length,n={};e;)n[t[--e]]=(n[t[e]]||0)+1;return n}(s)[o]||0)];var o,s;p.append("g").selectAll("text").data(n).enter().append((function(t){var e=t[0].split(le.lineBreakRegex),n=-(e.length-1)/2,r=u.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("dy",n+"em");for(var i=0;i<e.length;i++){var o=u.createElementNS("http://www.w3.org/2000/svg","tspan");o.setAttribute("alignment-baseline","central"),o.setAttribute("x","10"),i>0&&o.setAttribute("dy","1em"),o.textContent=e[i],r.appendChild(o)}return r})).attr("x",10).attr("y",(function(i,o){if(!(o>0))return i[1]*t/2+e;for(var a=0;a<o;a++)return r+=n[o-1][1],i[1]*t/2+r*t+e})).attr("font-size",a.sectionFontSize).attr("font-size",a.sectionFontSize).attr("class",(function(t){for(var e=0;e<m.length;e++)if(t[0]===m[e])return"sectionTitle sectionTitle"+e%a.numberSectionStyles;return"sectionTitle"}))}(c,h),function(t,e,n,i){var o=r.db.getTodayMarker();if("off"!==o){var s=p.append("g").attr("class","today"),c=new Date,l=s.append("line");l.attr("x1",g(c)+t).attr("x2",g(c)+t).attr("y1",a.titleTopMargin).attr("y2",i-a.titleTopMargin).attr("class","today"),""!==o&&l.attr("style",o.replace(/,/g,";"))}}(d,0,0,o)}(d,ga,f),kn(p,f,ga,a.useMaxWidth),p.append("text").text(r.db.getDiagramTitle()).attr("x",ga/2).attr("y",a.titleTopMargin).attr("class","titleText"),Tn(r.db,p,e)}};var ya=n(9959),ba=n.n(ya),va="",_a=!1;const xa={setMessage:function(t){a.debug("Setting message to: "+t),va=t},getMessage:function(){return va},setInfo:function(t){_a=t},getInfo:function(){return _a}},wa={draw:function(t,e,n,r){try{a.debug("Renering info diagram\n"+t);var i,o=Xt().securityLevel;"sandbox"===o&&(i=(0,l.select)("#i"+e));var s="sandbox"===o?(0,l.select)(i.nodes()[0].contentDocument.body):(0,l.select)("body"),c=("sandbox"===o?i.nodes()[0].contentDocument:document,s.select("#"+e));c.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+n),c.attr("height",100),c.attr("width",400)}catch(t){a.error("Error while rendering info diagram"),a.error(t.message)}}};var ka=n(6765),Da=n.n(ka),Ca=n(7062),Ea=n.n(Ca),Sa={},Ta=!1;const Aa={parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},getConfig:function(){return Xt().pie},addSection:function(t,e){t=le.sanitizeText(t,Xt()),void 0===Sa[t]&&(Sa[t]=e,a.debug("Added new section :",t))},getSections:function(){return Sa},cleanupValue:function(t){return":"===t.substring(0,1)?(t=t.substring(1).trim(),Number(t.trim())):Number(t.trim())},clear:function(){Sa={},Ta=!1,pe()},setAccTitle:ge,getAccTitle:me,setDiagramTitle:ve,getDiagramTitle:_e,setShowData:function(t){Ta=t},getShowData:function(){return Ta},getAccDescription:be,setAccDescription:ye};var Ma,Fa=Xt();const Oa={draw:function(t,e,n,r){try{Fa=Xt(),a.debug("Rendering info diagram\n"+t);var i,o=Xt().securityLevel;"sandbox"===o&&(i=(0,l.select)("#i"+e));var s="sandbox"===o?(0,l.select)(i.nodes()[0].contentDocument.body):(0,l.select)("body"),c="sandbox"===o?i.nodes()[0].contentDocument:document;r.db.clear(),r.parser.parse(t),a.debug("Parsed info diagram");var u=c.getElementById(e);void 0===(Ma=u.parentElement.offsetWidth)&&(Ma=1200),void 0!==Fa.useWidth&&(Ma=Fa.useWidth),void 0!==Fa.pie.useWidth&&(Ma=Fa.pie.useWidth);var h=s.select("#"+e);kn(h,450,Ma,Fa.pie.useMaxWidth),Tn(r.db,h,e),u.setAttribute("viewBox","0 0 "+Ma+" 450");var d=Math.min(Ma,450)/2-40,f=h.append("g").attr("transform","translate("+Ma/2+",225)"),p=r.db.getSections(),g=0;Object.keys(p).forEach((function(t){g+=p[t]}));var m=Fa.themeVariables,y=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12],b=(0,l.scaleOrdinal)().range(y),v=(0,l.pie)().value((function(t){return t[1]}))(Object.entries(p)),_=(0,l.arc)().innerRadius(0).outerRadius(d);f.selectAll("mySlices").data(v).enter().append("path").attr("d",_).attr("fill",(function(t){return b(t.data[0])})).attr("class","pieCircle"),f.selectAll("mySlices").data(v).enter().append("text").text((function(t){return(t.data[1]/g*100).toFixed(0)+"%"})).attr("transform",(function(t){return"translate("+_.centroid(t)+")"})).style("text-anchor","middle").attr("class","slice"),f.append("text").text(r.db.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var x=f.selectAll(".legend").data(b.domain()).enter().append("g").attr("class","legend").attr("transform",(function(t,e){return"translate(216,"+(22*e-22*b.domain().length/2)+")"}));x.append("rect").attr("width",18).attr("height",18).style("fill",b).style("stroke",b),x.data(v).append("text").attr("x",22).attr("y",14).text((function(t){return r.db.getShowData()||Fa.showData||Fa.pie.showData?t.data[0]+" ["+t.data[1]+"]":t.data[0]}))}catch(t){a.error("Error while rendering info diagram"),a.error(t)}}};var Na=n(3176),Ba=n.n(Na),Ia=[],La={},Ra={},Pa={},ja={};const za={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},getConfig:function(){return Xt().req},addRequirement:function(t,e){return void 0===Ra[t]&&(Ra[t]={name:t,type:e,id:La.id,text:La.text,risk:La.risk,verifyMethod:La.verifyMethod}),La={},Ra[t]},getRequirements:function(){return Ra},setNewReqId:function(t){void 0!==La&&(La.id=t)},setNewReqText:function(t){void 0!==La&&(La.text=t)},setNewReqRisk:function(t){void 0!==La&&(La.risk=t)},setNewReqVerifyMethod:function(t){void 0!==La&&(La.verifyMethod=t)},setAccTitle:ge,getAccTitle:me,setAccDescription:ye,getAccDescription:be,addElement:function(t){return void 0===ja[t]&&(ja[t]={name:t,type:Pa.type,docRef:Pa.docRef},a.info("Added new requirement: ",t)),Pa={},ja[t]},getElements:function(){return ja},setNewElementType:function(t){void 0!==Pa&&(Pa.type=t)},setNewElementDocRef:function(t){void 0!==Pa&&(Pa.docRef=t)},addRelationship:function(t,e,n){Ia.push({type:t,src:e,dst:n})},getRelationships:function(){return Ia},clear:function(){Ia=[],La={},Ra={},Pa={},ja={},pe()}};var $a={CONTAINS:"contains",ARROW:"arrow"};const Ya=$a;var Wa={},Ua=0,qa=function(t,e){return t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Wa.rect_min_width+"px").attr("height",Wa.rect_min_height+"px")},Va=function(t,e,n){var r=Wa.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",r).attr("y",Wa.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach((function(t){0==o?i.append("tspan").attr("text-anchor","middle").attr("x",Wa.rect_min_width/2).attr("dy",0).text(t):i.append("tspan").attr("text-anchor","middle").attr("x",Wa.rect_min_width/2).attr("dy",.75*Wa.line_height).text(t),o++}));var a=1.5*Wa.rect_padding+o*Wa.line_height*.75;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Wa.rect_min_width).attr("y1",a).attr("y2",a),{titleNode:i,y:a}},Ha=function(t,e,n,r){var i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",Wa.rect_padding).attr("y",r).attr("dominant-baseline","hanging"),o=0,a=[];return n.forEach((function(t){for(var e=t.length;e>30&&o<3;){var n=t.substring(0,30);e=(t=t.substring(30,t.length)).length,a[a.length]=n,o++}if(3==o){var r=a[a.length-1];a[a.length-1]=r.substring(0,r.length-4)+"..."}else a[a.length]=t;o=0})),a.forEach((function(t){i.append("tspan").attr("x",Wa.rect_padding).attr("dy",Wa.line_height).text(t)})),i},Ga=function(t){return t.replace(/\s/g,"").replace(/\./g,"_")};const Xa={draw:function(t,e,n,r){Wa=Xt().requirement,r.db.clear(),r.parser.parse(t);var i,o=Wa.securityLevel;"sandbox"===o&&(i=(0,l.select)("#i"+e));var s="sandbox"===o?(0,l.select)(i.nodes()[0].contentDocument.body):(0,l.select)("body"),c=("sandbox"===o?i.nodes()[0].contentDocument:document,s.select("[id='".concat(e,"']")));!function(t,e){var n=t.append("defs").append("marker").attr("id",$a.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",$a.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d","M0,0\n      L".concat(e.line_height,",").concat(e.line_height/2,"\n      M").concat(e.line_height,",").concat(e.line_height/2,"\n      L0,").concat(e.line_height)).attr("stroke-width",1)}(c,Wa);var u,h,d,f=new(gr().Graph)({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Wa.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}})),p=r.db.getRequirements(),g=r.db.getElements(),m=r.db.getRelationships();u=p,h=f,d=c,Object.keys(u).forEach((function(t){var e=u[t];t=Ga(t),a.info("Added new requirement: ",t);var n=d.append("g").attr("id",t),r=qa(n,"req-"+t),i=[],o=Va(n,t+"_title",["<<".concat(e.type,">>"),"".concat(e.name)]);i.push(o.titleNode);var s=Ha(n,t+"_body",["Id: ".concat(e.id),"Text: ".concat(e.text),"Risk: ".concat(e.risk),"Verification: ".concat(e.verifyMethod)],o.y);i.push(s);var c=r.node().getBBox();h.setNode(t,{width:c.width,height:c.height,shape:"rect",id:t})})),function(t,e,n){Object.keys(t).forEach((function(r){var i=t[r],o=Ga(r),a=n.append("g").attr("id",o),s="element-"+o,c=qa(a,s),l=[],u=Va(a,s+"_title",["<<Element>>","".concat(r)]);l.push(u.titleNode);var h=Ha(a,s+"_body",["Type: ".concat(i.type||"Not Specified"),"Doc Ref: ".concat(i.docRef||"None")],u.y);l.push(h);var d=c.node().getBBox();e.setNode(o,{width:d.width,height:d.height,shape:"rect",id:o})}))}(g,f,c),function(t,e){t.forEach((function(t){var n=Ga(t.src),r=Ga(t.dst);e.setEdge(n,r,{relationship:t})}))}(m,f),fr().layout(f),function(t,e){e.nodes().forEach((function(n){void 0!==n&&void 0!==e.node(n)&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))}))}(c,f),m.forEach((function(t){!function(t,e,n,r,i){var o=n.edge(Ga(e.src),Ga(e.dst)),a=(0,l.line)().x((function(t){return t.x})).y((function(t){return t.y})),s=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",a(o.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?s.attr("marker-start","url("+le.getUrl(Wa.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(s.attr("stroke-dasharray","10,7"),s.attr("marker-end","url("+le.getUrl(Wa.arrowMarkerAbsolute)+"#"+Ya.ARROW+"_line_ending)")),function(t,e,n,r){var i=e.node().getTotalLength(),o=e.node().getPointAtLength(.5*i),a="rel"+Ua;Ua++;var s=t.append("text").attr("class","req relationshipLabel").attr("id",a).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(r).node().getBBox();t.insert("rect","#"+a).attr("class","req reqLabelBox").attr("x",o.x-s.width/2).attr("y",o.y-s.height/2).attr("width",s.width).attr("height",s.height).attr("fill","white").attr("fill-opacity","85%")}(t,s,0,"<<".concat(e.type,">>"))}(c,t,f,e,r)}));var y=Wa.rect_padding,b=c.node().getBBox(),v=b.width+2*y,_=b.height+2*y;kn(c,_,v,Wa.useMaxWidth),c.attr("viewBox","".concat(b.x-y," ").concat(b.y-y," ").concat(v," ").concat(_)),Tn(r.db,c,e)}};var Ja,Ka=n(6876),Za=n.n(Ka),Qa=void 0,ts={},es=[],ns=[],rs=!1,is=function(t,e,n,r){var i=ts[t];i&&e===i.name&&null==n||(null!=n&&null!=n.text||(n={text:e,wrap:null,type:r}),null!=r&&null!=n.text||(n={text:e,wrap:null,type:r}),ts[t]={name:e,description:n.text,wrap:void 0===n.wrap&&cs()||!!n.wrap,prevActor:Qa,links:{},properties:{},actorCnt:null,rectData:null,type:r||"participant"},Qa&&ts[Qa]&&(ts[Qa].nextActor=t),Qa=t)},os=function(t){var e,n=0;for(e=0;e<es.length;e++)es[e].type===ls.ACTIVE_START&&es[e].from.actor===t&&n++,es[e].type===ls.ACTIVE_END&&es[e].from.actor===t&&n--;return n},as=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:void 0,wrap:void 0},r=arguments.length>3?arguments[3]:void 0;if(r===ls.ACTIVE_END){var i=os(t.actor);if(i<1){var o=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}}return es.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&cs()||!!n.wrap,type:r}),!0},ss=function(t){return ts[t]},cs=function(){return void 0!==Ja?Ja:Xt().sequence.wrap},ls={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},us=function(t,e,n){var r={actor:t,placement:e,message:n.text,wrap:void 0===n.wrap&&cs()||!!n.wrap},i=[].concat(t,t);ns.push(r),es.push({from:i[0],to:i[1],message:n.text,wrap:void 0===n.wrap&&cs()||!!n.wrap,type:ls.NOTE,placement:e})},hs=function(t,e){var n=ss(t);try{var r=ie(e.text,Xt());r=(r=r.replace(/&amp;/g,"&")).replace(/&equals;/g,"="),ds(n,JSON.parse(r))}catch(t){a.error("error while parsing actor link text",t)}};function ds(t,e){if(null==t.links)t.links=e;else for(var n in e)t.links[n]=e[n]}var fs=function(t,e){var n=ss(t);try{var r=ie(e.text,Xt());ps(n,JSON.parse(r))}catch(t){a.error("error while parsing actor properties text",t)}};function ps(t,e){if(null==t.properties)t.properties=e;else for(var n in e)t.properties[n]=e[n]}var gs=function(t,e){var n=ss(t),r=document.getElementById(e.text);try{var i=r.innerHTML,o=JSON.parse(i);o.properties&&ps(n,o.properties),o.links&&ds(n,o.links)}catch(t){a.error("error while parsing actor details text",t)}};const ms={addActor:is,addMessage:function(t,e,n,r){es.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&cs()||!!n.wrap,answer:r})},addSignal:as,addLinks:hs,addDetails:gs,addProperties:fs,autoWrap:cs,setWrap:function(t){Ja=t},enableSequenceNumbers:function(){rs=!0},disableSequenceNumbers:function(){rs=!1},showSequenceNumbers:function(){return rs},getMessages:function(){return es},getActors:function(){return ts},getActor:ss,getActorKeys:function(){return Object.keys(ts)},getActorProperty:function(t,e){if(void 0!==t&&void 0!==t.properties)return t.properties[e]},getAccTitle:me,getDiagramTitle:_e,setDiagramTitle:ve,parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},getConfig:function(){return Xt().sequence},clear:function(){ts={},es=[],rs=!1,pe()},parseMessage:function(t){var e=t.trim(),n={text:e.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:null!==e.match(/^[:]?wrap:/)||null===e.match(/^[:]?nowrap:/)&&void 0};return a.debug("parseMessage:",n),n},LINETYPE:ls,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:us,setAccTitle:ge,apply:function t(e){if(e instanceof Array)e.forEach((function(e){t(e)}));else switch(e.type){case"sequenceIndex":es.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":is(e.actor,e.actor,e.description,"participant");break;case"addActor":is(e.actor,e.actor,e.description,"actor");break;case"activeStart":case"activeEnd":as(e.actor,void 0,void 0,e.signalType);break;case"addNote":us(e.actor,e.placement,e.text);break;case"addLinks":hs(e.actor,e.text);break;case"addALink":!function(t,e){var n=ss(t);try{var r={},i=ie(e.text,Xt()),o=i.indexOf("@"),s=(i=(i=i.replace(/&amp;/g,"&")).replace(/&equals;/g,"=")).slice(0,o-1).trim(),c=i.slice(o+1).trim();r[s]=c,ds(n,r)}catch(t){a.error("error while parsing actor link text",t)}}(e.actor,e.text);break;case"addProperties":fs(e.actor,e.text);break;case"addDetails":gs(e.actor,e.text);break;case"addMessage":as(e.from,e.to,e.msg,e.signalType);break;case"loopStart":as(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":as(void 0,void 0,void 0,e.signalType);break;case"rectStart":as(void 0,void 0,e.color,e.signalType);break;case"optStart":as(void 0,void 0,e.optText,e.signalType);break;case"altStart":case"else":as(void 0,void 0,e.altText,e.signalType);break;case"setAccTitle":ge(e.text);break;case"parStart":case"and":as(void 0,void 0,e.parText,e.signalType);break;case"criticalStart":as(void 0,void 0,e.criticalText,e.signalType);break;case"option":as(void 0,void 0,e.optionText,e.signalType);break;case"breakStart":as(void 0,void 0,e.breakText,e.signalType)}},setAccDescription:ye,getAccDescription:be};var ys=[],bs=function(t,e){var n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},vs=function(t,e){var n;n=function(){var n=document.querySelectorAll(t);0!==n.length&&(n[0].addEventListener("mouseover",(function(){ws("actor"+e+"_popup")})),n[0].addEventListener("mouseout",(function(){ks("actor"+e+"_popup")})))},ys.push(n)},_s=function(t,e,n,r){var i=t.append("image");i.attr("x",e),i.attr("y",n);var o=(0,Pe.N)(r);i.attr("xlink:href",o)},xs=function(t,e,n,r){var i=t.append("use");i.attr("x",e),i.attr("y",n);var o=(0,Pe.N)(r);i.attr("xlink:href","#"+o)},ws=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="block")},ks=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="none")},Ds=function(t,e){var n=0,r=0,i=e.text.split(le.lineBreakRegex),o=[],a=0,s=function(){return e.y};if(void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0)switch(e.valign){case"top":case"start":s=function(){return Math.round(e.y+e.textMargin)};break;case"middle":case"center":s=function(){return Math.round(e.y+(n+r+e.textMargin)/2)};break;case"bottom":case"end":s=function(){return Math.round(e.y+(n+r+2*e.textMargin)-e.textMargin)}}if(void 0!==e.anchor&&void 0!==e.textMargin&&void 0!==e.width)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle"}for(var c=0;c<i.length;c++){var l=i[c];void 0!==e.textMargin&&0===e.textMargin&&void 0!==e.fontSize&&(a=c*e.fontSize);var u=t.append("text");if(u.attr("x",e.x),u.attr("y",s()),void 0!==e.anchor&&u.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),void 0!==e.fontFamily&&u.style("font-family",e.fontFamily),void 0!==e.fontSize&&u.style("font-size",e.fontSize),void 0!==e.fontWeight&&u.style("font-weight",e.fontWeight),void 0!==e.fill&&u.attr("fill",e.fill),void 0!==e.class&&u.attr("class",e.class),void 0!==e.dy?u.attr("dy",e.dy):0!==a&&u.attr("dy",a),e.tspan){var h=u.append("tspan");h.attr("x",e.x),void 0!==e.fill&&h.attr("fill",e.fill),h.text(l)}else u.text(l);void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0&&(r+=(u._groups||u)[0][0].getBBox().height,n=r),o.push(u)}return o},Cs=function(t,e){var n=t.append("polygon");return n.attr("points",function(t,e,n,r,i){return t+","+e+" "+(t+n)+","+e+" "+(t+n)+","+(e+r-7)+" "+(t+n-8.4)+","+(e+r)+" "+t+","+(e+r)}(e.x,e.y,e.width,e.height)),n.attr("class","labelBox"),e.y=e.y+e.height/2,Ds(t,e),n},Es=-1,Ss=function(t,e){t.selectAll&&t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},Ts=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},As=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},Ms=function(){function t(t,e,n,i,o,a,s){r(e.append("text").attr("x",n+o/2).attr("y",i+a/2+5).style("text-anchor","middle").text(t),s)}function e(t,e,n,i,o,a,s,c){for(var l=c.actorFontSize,u=c.actorFontFamily,h=c.actorFontWeight,d=l&&l.replace?l.replace("px",""):l,f=t.split(le.lineBreakRegex),p=0;p<f.length;p++){var g=p*d-d*(f.length-1)/2,m=e.append("text").attr("x",n+o/2).attr("y",i).style("text-anchor","middle").style("font-size",l).style("font-weight",h).style("font-family",u);m.append("tspan").attr("x",n+o/2).attr("dy",g).text(f[p]),m.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(m,s)}}function n(t,n,i,o,a,s,c,l){var u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,a,s,c,l),r(h,c)}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}(),Fs=function(){function t(t,e,n,i,o,a,s){r(e.append("text").attr("x",n).attr("y",i).style("text-anchor","start").text(t),s)}function e(t,e,n,i,o,a,s,c){for(var l=c.actorFontSize,u=c.actorFontFamily,h=c.actorFontWeight,d=t.split(le.lineBreakRegex),f=0;f<d.length;f++){var p=f*l-l*(d.length-1)/2,g=e.append("text").attr("x",n).attr("y",i).style("text-anchor","start").style("font-size",l).style("font-weight",h).style("font-family",u);g.append("tspan").attr("x",n).attr("dy",p).text(d[f]),g.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(g,s)}}function n(t,n,i,o,a,s,c,l){var u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,0,s,c,l),r(h,c)}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}();const Os=bs,Ns=function(t,e,n){switch(e.type){case"actor":return function(t,e,n){var r=e.x+e.width/2;0===e.y&&(Es++,t.append("line").attr("id","actor"+Es).attr("x1",r).attr("y1",80).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));var i=t.append("g");i.attr("class","actor-man");var o={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};o.x=e.x,o.y=e.y,o.fill="#eaeaea",o.width=e.width,o.height=e.height,o.class="actor",o.rx=3,o.ry=3,i.append("line").attr("id","actor-man-torso"+Es).attr("x1",r).attr("y1",e.y+25).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("id","actor-man-arms"+Es).attr("x1",r-18).attr("y1",e.y+33).attr("x2",r+18).attr("y2",e.y+33),i.append("line").attr("x1",r-18).attr("y1",e.y+60).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("x1",r).attr("y1",e.y+45).attr("x2",r+16).attr("y2",e.y+60);var a=i.append("circle");a.attr("cx",e.x+e.width/2),a.attr("cy",e.y+10),a.attr("r",15),a.attr("width",e.width),a.attr("height",e.height);var s=i.node().getBBox();return e.height=s.height,Ms(n)(e.description,i,o.x,o.y+35,o.width,o.height,{class:"actor"},n),e.height}(t,e,n);case"participant":return function(t,e,n){var r=e.x+e.width/2,i=t.append("g"),o=i;0===e.y&&(Es++,o.append("line").attr("id","actor"+Es).attr("x1",r).attr("y1",5).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),o=i.append("g"),e.actorCnt=Es,null!=e.links&&(o.attr("id","root-"+Es),vs("#root-"+Es,Es)));var a={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},s="actor";null!=e.properties&&e.properties.class?s=e.properties.class:a.fill="#eaeaea",a.x=e.x,a.y=e.y,a.width=e.width,a.height=e.height,a.class=s,a.rx=3,a.ry=3;var c=bs(o,a);if(e.rectData=a,null!=e.properties&&e.properties.icon){var l=e.properties.icon.trim();"@"===l.charAt(0)?xs(o,a.x+a.width-20,a.y+10,l.substr(1)):_s(o,a.x+a.width-20,a.y+10,l)}Ms(n)(e.description,o,a.x,a.y,a.width,a.height,{class:"actor"},n);var u=e.height;if(c.node){var h=c.node().getBBox();e.height=h.height,u=h.height}return u}(t,e,n)}},Bs=function(t,e,n,r,i){if(void 0===e.links||null===e.links||0===Object.keys(e.links).length)return{height:0,width:0};var o=e.links,a=e.actorCnt,s=e.rectData,c="none";i&&(c="block !important");var l=t.append("g");l.attr("id","actor"+a+"_popup"),l.attr("class","actorPopupMenu"),l.attr("display",c),vs("#actor"+a+"_popup",a);var u="";void 0!==s.class&&(u=" "+s.class);var h=s.width>n?s.width:n,d=l.append("rect");if(d.attr("class","actorPopupMenuPanel"+u),d.attr("x",s.x),d.attr("y",s.height),d.attr("fill",s.fill),d.attr("stroke",s.stroke),d.attr("width",h),d.attr("height",s.height),d.attr("rx",s.rx),d.attr("ry",s.ry),null!=o){var f=20;for(var p in o){var g=l.append("a"),m=(0,Pe.N)(o[p]);g.attr("xlink:href",m),g.attr("target","_blank"),Fs(r)(p,g,s.x+10,s.height+f,h,20,{class:"actor"},r),f+=30}}return d.attr("height",f),{height:s.height+f,width:h}},Is=function(t){return t.append("g")},Ls=function(t,e,n,r,i){var o={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},a=e.anchored;o.x=e.startx,o.y=e.starty,o.class="activation"+i%3,o.width=e.stopx-e.startx,o.height=n-e.starty,bs(a,o)},Rs=function(t,e,n,r){var i=r.boxMargin,o=r.boxTextMargin,a=r.labelBoxHeight,s=r.labelBoxWidth,c=r.messageFontFamily,l=r.messageFontSize,u=r.messageFontWeight,h=t.append("g"),d=function(t,e,n,r){return h.append("line").attr("x1",t).attr("y1",e).attr("x2",n).attr("y2",r).attr("class","loopLine")};d(e.startx,e.starty,e.stopx,e.starty),d(e.stopx,e.starty,e.stopx,e.stopy),d(e.startx,e.stopy,e.stopx,e.stopy),d(e.startx,e.starty,e.startx,e.stopy),void 0!==e.sections&&e.sections.forEach((function(t){d(e.startx,t.y,e.stopx,t.y).style("stroke-dasharray","3, 3")}));var f={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0};f.text=n,f.x=e.startx,f.y=e.starty,f.fontFamily=c,f.fontSize=l,f.fontWeight=u,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=s||50,f.height=a||20,f.textMargin=o,f.class="labelText",Cs(h,f),(f={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}).text=e.title,f.x=e.startx+s/2+(e.stopx-e.startx)/2,f.y=e.starty+i+o,f.anchor="middle",f.valign="middle",f.textMargin=o,f.class="loopText",f.fontFamily=c,f.fontSize=l,f.fontWeight=u,f.wrap=!0;var p=Ds(h,f);return void 0!==e.sectionTitles&&e.sectionTitles.forEach((function(t,n){if(t.message){f.text=t.message,f.x=e.startx+(e.stopx-e.startx)/2,f.y=e.sections[n].y+i+o,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=c,f.fontSize=l,f.fontWeight=u,f.wrap=e.wrap,p=Ds(h,f);var r=Math.round(p.map((function(t){return(t._groups||t)[0][0].getBBox().height})).reduce((function(t,e){return t+e})));e.sections[n].height+=r-(i+o)}})),e.height=Math.round(e.stopy-e.starty),h},Ps=function(t,e){bs(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},js=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},zs=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},$s=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},Ys=function(t){var e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},Ws=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},Us=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},qs=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},Vs=Ts,Hs=As;Pe.N;var Gs={},Xs={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map((function(t){return t.height||0})))+(0===this.loops.length?0:this.loops.map((function(t){return t.height||0})).reduce((function(t,e){return t+e})))+(0===this.messages.length?0:this.messages.map((function(t){return t.height||0})).reduce((function(t,e){return t+e})))+(0===this.notes.length?0:this.notes.map((function(t){return t.height||0})).reduce((function(t,e){return t+e})))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,ec(Xt())},updateVal:function(t,e,n,r){void 0===t[e]?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){var i=this,o=0;function a(a){return function(s){o++;var c=i.sequenceItems.length-o+1;i.updateVal(s,"starty",e-c*Gs.boxMargin,Math.min),i.updateVal(s,"stopy",r+c*Gs.boxMargin,Math.max),i.updateVal(Xs.data,"startx",t-c*Gs.boxMargin,Math.min),i.updateVal(Xs.data,"stopx",n+c*Gs.boxMargin,Math.max),"activation"!==a&&(i.updateVal(s,"startx",t-c*Gs.boxMargin,Math.min),i.updateVal(s,"stopx",n+c*Gs.boxMargin,Math.max),i.updateVal(Xs.data,"starty",e-c*Gs.boxMargin,Math.min),i.updateVal(Xs.data,"stopy",r+c*Gs.boxMargin,Math.max))}}this.sequenceItems.forEach(a()),this.activations.forEach(a("activation"))},insert:function(t,e,n,r){var i=Math.min(t,n),o=Math.max(t,n),a=Math.min(e,r),s=Math.max(e,r);this.updateVal(Xs.data,"startx",i,Math.min),this.updateVal(Xs.data,"starty",a,Math.min),this.updateVal(Xs.data,"stopx",o,Math.max),this.updateVal(Xs.data,"stopy",s,Math.max),this.updateBounds(i,a,o,s)},newActivation:function(t,e,n){var r=n[t.from.actor],i=nc(t.from.actor).length||0,o=r.x+r.width/2+(i-1)*Gs.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+Gs.activationWidth,stopy:void 0,actor:t.from.actor,anchored:Is(e)})},endActivation:function(t){var e=this.activations.map((function(t){return t.actor})).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0},e=arguments.length>1?arguments[1]:void 0;return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0},e=arguments.length>1?arguments[1]:void 0;this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){var e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:Xs.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},Js=function(t){return{fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}},Ks=function(t){return{fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}},Zs=function(t){return{fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}},Qs=function(t,e,n,r,i,o){if(!0===i.hideUnusedParticipants){var a=new Set;o.forEach((function(t){a.add(t.from),a.add(t.to)})),n=n.filter((function(t){return a.has(t)}))}for(var s=0,c=0,l=0,u=0;u<n.length;u++){var h=e[n[u]];h.width=h.width||Gs.width,h.height=Math.max(h.height||Gs.height,Gs.height),h.margin=h.margin||Gs.actorMargin,h.x=s+c,h.y=r;var d=Ns(t,h,Gs);l=Math.max(l,d),Xs.insert(h.x,r,h.x+h.width,h.height),s+=h.width,c+=h.margin,Xs.models.addActor(h)}Xs.bumpVerticalPos(l)},tc=function(t,e,n,r){for(var i=0,o=0,a=0;a<n.length;a++){var s=e[n[a]],c=oc(s),l=Bs(t,s,c,Gs,Gs.forceMenus,r);l.height>i&&(i=l.height),l.width+s.x>o&&(o=l.width+s.x)}return{maxHeight:i,maxWidth:o}},ec=function(t){K(Gs,t),t.fontFamily&&(Gs.actorFontFamily=Gs.noteFontFamily=Gs.messageFontFamily=t.fontFamily),t.fontSize&&(Gs.actorFontSize=Gs.noteFontSize=Gs.messageFontSize=t.fontSize),t.fontWeight&&(Gs.actorFontWeight=Gs.noteFontWeight=Gs.messageFontWeight=t.fontWeight)},nc=function(t){return Xs.activations.filter((function(e){return e.actor===t}))},rc=function(t,e){var n=e[t],r=nc(t);return[r.reduce((function(t,e){return Math.min(t,e.startx)}),n.x+n.width/2),r.reduce((function(t,e){return Math.max(t,e.stopx)}),n.x+n.width/2)]};function ic(t,e,n,r,i){Xs.bumpVerticalPos(n);var o=r;if(e.id&&e.message&&t[e.id]){var s=t[e.id].width,c=Js(Gs);e.message=Sn.wrapLabel("[".concat(e.message,"]"),s-2*Gs.wrapPadding,c),e.width=s,e.wrap=!0;var l=Sn.calculateTextDimensions(e.message,c),u=Math.max(l.height,Gs.labelBoxHeight);o=r+u,a.debug("".concat(u," - ").concat(e.message))}i(e),Xs.bumpVerticalPos(o)}var oc=function(t){var e=0,n=Zs(Gs);for(var r in t.links){var i=Sn.calculateTextDimensions(r,n).width+2*Gs.wrapPadding+2*Gs.boxMargin;e<i&&(e=i)}return e};const ac={bounds:Xs,drawActors:Qs,drawActorsPopup:tc,setConf:ec,draw:function(t,e,n,r){Gs=Xt().sequence;var i,o=Xt().securityLevel;"sandbox"===o&&(i=(0,l.select)("#i"+e));var s="sandbox"===o?(0,l.select)(i.nodes()[0].contentDocument.body):(0,l.select)("body"),c="sandbox"===o?i.nodes()[0].contentDocument:document;Xs.init(),a.debug(r.db);var u="sandbox"===o?s.select('[id="'.concat(e,'"]')):(0,l.select)('[id="'.concat(e,'"]')),h=r.db.getActors(),d=r.db.getActorKeys(),f=r.db.getMessages(),p=r.db.getDiagramTitle(),g=function(t,e,n){var r={};return e.forEach((function(e){if(t[e.to]&&t[e.from]){var i=t[e.to];if(e.placement===n.db.PLACEMENT.LEFTOF&&!i.prevActor)return;if(e.placement===n.db.PLACEMENT.RIGHTOF&&!i.nextActor)return;var o=void 0!==e.placement,a=!o,s=o?Ks(Gs):Js(Gs),c=e.wrap?Sn.wrapLabel(e.message,Gs.width-2*Gs.wrapPadding,s):e.message,l=Sn.calculateTextDimensions(c,s).width+2*Gs.wrapPadding;a&&e.from===i.nextActor?r[e.to]=Math.max(r[e.to]||0,l):a&&e.from===i.prevActor?r[e.from]=Math.max(r[e.from]||0,l):a&&e.from===e.to?(r[e.from]=Math.max(r[e.from]||0,l/2),r[e.to]=Math.max(r[e.to]||0,l/2)):e.placement===n.db.PLACEMENT.RIGHTOF?r[e.from]=Math.max(r[e.from]||0,l):e.placement===n.db.PLACEMENT.LEFTOF?r[i.prevActor]=Math.max(r[i.prevActor]||0,l):e.placement===n.db.PLACEMENT.OVER&&(i.prevActor&&(r[i.prevActor]=Math.max(r[i.prevActor]||0,l/2)),i.nextActor&&(r[e.from]=Math.max(r[e.from]||0,l/2)))}})),a.debug("maxMessageWidthPerActor:",r),r}(h,f,r);Gs.height=function(t,e){var n=0;for(var r in Object.keys(t).forEach((function(e){var r=t[e];r.wrap&&(r.description=Sn.wrapLabel(r.description,Gs.width-2*Gs.wrapPadding,Zs(Gs)));var i=Sn.calculateTextDimensions(r.description,Zs(Gs));r.width=r.wrap?Gs.width:Math.max(Gs.width,i.width+2*Gs.wrapPadding),r.height=r.wrap?Math.max(i.height,Gs.height):Gs.height,n=Math.max(n,r.height)})),e){var i=t[r];if(i){var o=t[i.nextActor];if(o){var a=e[r]+Gs.actorMargin-i.width/2-o.width/2;i.margin=Math.max(a,Gs.actorMargin)}}}return Math.max(n,Gs.height)}(h,g),Us(u),Ws(u),qs(u),Qs(u,h,d,0,Gs,f);var m=function(t,e,n,r){var i,o,s,c={},l=[];return t.forEach((function(t){switch(t.id=Sn.random({length:10}),t.type){case r.db.LINETYPE.LOOP_START:case r.db.LINETYPE.ALT_START:case r.db.LINETYPE.OPT_START:case r.db.LINETYPE.PAR_START:case r.db.LINETYPE.CRITICAL_START:case r.db.LINETYPE.BREAK_START:l.push({id:t.id,msg:t.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case r.db.LINETYPE.ALT_ELSE:case r.db.LINETYPE.PAR_AND:case r.db.LINETYPE.CRITICAL_OPTION:t.message&&(i=l.pop(),c[i.id]=i,c[t.id]=i,l.push(i));break;case r.db.LINETYPE.LOOP_END:case r.db.LINETYPE.ALT_END:case r.db.LINETYPE.OPT_END:case r.db.LINETYPE.PAR_END:case r.db.LINETYPE.CRITICAL_END:case r.db.LINETYPE.BREAK_END:i=l.pop(),c[i.id]=i;break;case r.db.LINETYPE.ACTIVE_START:var n=e[t.from?t.from.actor:t.to.actor],u=nc(t.from?t.from.actor:t.to.actor).length,h=n.x+n.width/2+(u-1)*Gs.activationWidth/2,d={startx:h,stopx:h+Gs.activationWidth,actor:t.from.actor,enabled:!0};Xs.activations.push(d);break;case r.db.LINETYPE.ACTIVE_END:var f=Xs.activations.map((function(t){return t.actor})).lastIndexOf(t.from.actor);delete Xs.activations.splice(f,1)[0]}void 0!==t.placement?(o=function(t,e,n){var r=e[t.from].x,i=e[t.to].x,o=t.wrap&&t.message,s=Sn.calculateTextDimensions(o?Sn.wrapLabel(t.message,Gs.width,Ks(Gs)):t.message,Ks(Gs)),c={width:o?Gs.width:Math.max(Gs.width,s.width+2*Gs.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===n.db.PLACEMENT.RIGHTOF?(c.width=o?Math.max(Gs.width,s.width):Math.max(e[t.from].width/2+e[t.to].width/2,s.width+2*Gs.noteMargin),c.startx=r+(e[t.from].width+Gs.actorMargin)/2):t.placement===n.db.PLACEMENT.LEFTOF?(c.width=o?Math.max(Gs.width,s.width+2*Gs.noteMargin):Math.max(e[t.from].width/2+e[t.to].width/2,s.width+2*Gs.noteMargin),c.startx=r-c.width+(e[t.from].width-Gs.actorMargin)/2):t.to===t.from?(s=Sn.calculateTextDimensions(o?Sn.wrapLabel(t.message,Math.max(Gs.width,e[t.from].width),Ks(Gs)):t.message,Ks(Gs)),c.width=o?Math.max(Gs.width,e[t.from].width):Math.max(e[t.from].width,Gs.width,s.width+2*Gs.noteMargin),c.startx=r+(e[t.from].width-c.width)/2):(c.width=Math.abs(r+e[t.from].width/2-(i+e[t.to].width/2))+Gs.actorMargin,c.startx=r<i?r+e[t.from].width/2-Gs.actorMargin/2:i+e[t.to].width/2-Gs.actorMargin/2),o&&(c.message=Sn.wrapLabel(t.message,c.width-2*Gs.wrapPadding,Ks(Gs))),a.debug("NM:[".concat(c.startx,",").concat(c.stopx,",").concat(c.starty,",").concat(c.stopy,":").concat(c.width,",").concat(c.height,"=").concat(t.message,"]")),c}(t,e,r),t.noteModel=o,l.forEach((function(t){(i=t).from=Math.min(i.from,o.startx),i.to=Math.max(i.to,o.startx+o.width),i.width=Math.max(i.width,Math.abs(i.from-i.to))-Gs.labelBoxWidth}))):(s=function(t,e,n){var r=!1;if([n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(r=!0),!r)return{};var i=rc(t.from,e),o=rc(t.to,e),a=i[0]<=o[0]?1:0,s=i[0]<o[0]?0:1,c=i.concat(o),l=Math.abs(o[s]-i[a]);t.wrap&&t.message&&(t.message=Sn.wrapLabel(t.message,Math.max(l+2*Gs.wrapPadding,Gs.width),Js(Gs)));var u=Sn.calculateTextDimensions(t.message,Js(Gs));return{width:Math.max(t.wrap?0:u.width+2*Gs.wrapPadding,l+2*Gs.wrapPadding,Gs.width),height:0,startx:i[a],stopx:o[s],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,c),toBounds:Math.max.apply(null,c)}}(t,e,r),t.msgModel=s,s.startx&&s.stopx&&l.length>0&&l.forEach((function(n){if(i=n,s.startx===s.stopx){var r=e[t.from],o=e[t.to];i.from=Math.min(r.x-s.width/2,r.x-r.width/2,i.from),i.to=Math.max(o.x+s.width/2,o.x+r.width/2,i.to),i.width=Math.max(i.width,Math.abs(i.to-i.from))-Gs.labelBoxWidth}else i.from=Math.min(s.startx,i.from),i.to=Math.max(s.stopx,i.to),i.width=Math.max(i.width,s.width)-Gs.labelBoxWidth})))})),Xs.activations=[],a.debug("Loop type widths:",c),c}(f,h,0,r);js(u),Ys(u),zs(u),$s(u);var y=1,b=1,v=Array();f.forEach((function(t){var e,n,i;switch(t.type){case r.db.LINETYPE.NOTE:n=t.noteModel,function(t,e){Xs.bumpVerticalPos(Gs.boxMargin),e.height=Gs.boxMargin,e.starty=Xs.getVerticalPos();var n=Hs();n.x=e.startx,n.y=e.starty,n.width=e.width||Gs.width,n.class="note";var r=t.append("g"),i=Os(r,n),o=Vs();o.x=e.startx,o.y=e.starty,o.width=n.width,o.dy="1em",o.text=e.message,o.class="noteText",o.fontFamily=Gs.noteFontFamily,o.fontSize=Gs.noteFontSize,o.fontWeight=Gs.noteFontWeight,o.anchor=Gs.noteAlign,o.textMargin=Gs.noteMargin,o.valign="center";var a=Ds(r,o),s=Math.round(a.map((function(t){return(t._groups||t)[0][0].getBBox().height})).reduce((function(t,e){return t+e})));i.attr("height",s+2*Gs.noteMargin),e.height+=s+2*Gs.noteMargin,Xs.bumpVerticalPos(s+2*Gs.noteMargin),e.stopy=e.starty+s+2*Gs.noteMargin,e.stopx=e.startx+n.width,Xs.insert(e.startx,e.starty,e.stopx,e.stopy),Xs.models.addNote(e)}(u,n);break;case r.db.LINETYPE.ACTIVE_START:Xs.newActivation(t,u,h);break;case r.db.LINETYPE.ACTIVE_END:!function(t,e){var n=Xs.endActivation(t);n.starty+18>e&&(n.starty=e-6,e+=12),Ls(u,n,e,Gs,nc(t.from.actor).length),Xs.insert(n.startx,e-10,n.stopx,e)}(t,Xs.getVerticalPos());break;case r.db.LINETYPE.LOOP_START:ic(m,t,Gs.boxMargin,Gs.boxMargin+Gs.boxTextMargin,(function(t){return Xs.newLoop(t)}));break;case r.db.LINETYPE.LOOP_END:e=Xs.endLoop(),Rs(u,e,"loop",Gs),Xs.bumpVerticalPos(e.stopy-Xs.getVerticalPos()),Xs.models.addLoop(e);break;case r.db.LINETYPE.RECT_START:ic(m,t,Gs.boxMargin,Gs.boxMargin,(function(t){return Xs.newLoop(void 0,t.message)}));break;case r.db.LINETYPE.RECT_END:e=Xs.endLoop(),Ps(u,e),Xs.models.addLoop(e),Xs.bumpVerticalPos(e.stopy-Xs.getVerticalPos());break;case r.db.LINETYPE.OPT_START:ic(m,t,Gs.boxMargin,Gs.boxMargin+Gs.boxTextMargin,(function(t){return Xs.newLoop(t)}));break;case r.db.LINETYPE.OPT_END:e=Xs.endLoop(),Rs(u,e,"opt",Gs),Xs.bumpVerticalPos(e.stopy-Xs.getVerticalPos()),Xs.models.addLoop(e);break;case r.db.LINETYPE.ALT_START:ic(m,t,Gs.boxMargin,Gs.boxMargin+Gs.boxTextMargin,(function(t){return Xs.newLoop(t)}));break;case r.db.LINETYPE.ALT_ELSE:ic(m,t,Gs.boxMargin+Gs.boxTextMargin,Gs.boxMargin,(function(t){return Xs.addSectionToLoop(t)}));break;case r.db.LINETYPE.ALT_END:e=Xs.endLoop(),Rs(u,e,"alt",Gs),Xs.bumpVerticalPos(e.stopy-Xs.getVerticalPos()),Xs.models.addLoop(e);break;case r.db.LINETYPE.PAR_START:ic(m,t,Gs.boxMargin,Gs.boxMargin+Gs.boxTextMargin,(function(t){return Xs.newLoop(t)}));break;case r.db.LINETYPE.PAR_AND:ic(m,t,Gs.boxMargin+Gs.boxTextMargin,Gs.boxMargin,(function(t){return Xs.addSectionToLoop(t)}));break;case r.db.LINETYPE.PAR_END:e=Xs.endLoop(),Rs(u,e,"par",Gs),Xs.bumpVerticalPos(e.stopy-Xs.getVerticalPos()),Xs.models.addLoop(e);break;case r.db.LINETYPE.AUTONUMBER:y=t.message.start||y,b=t.message.step||b,t.message.visible?r.db.enableSequenceNumbers():r.db.disableSequenceNumbers();break;case r.db.LINETYPE.CRITICAL_START:ic(m,t,Gs.boxMargin,Gs.boxMargin+Gs.boxTextMargin,(function(t){return Xs.newLoop(t)}));break;case r.db.LINETYPE.CRITICAL_OPTION:ic(m,t,Gs.boxMargin+Gs.boxTextMargin,Gs.boxMargin,(function(t){return Xs.addSectionToLoop(t)}));break;case r.db.LINETYPE.CRITICAL_END:e=Xs.endLoop(),Rs(u,e,"critical",Gs),Xs.bumpVerticalPos(e.stopy-Xs.getVerticalPos()),Xs.models.addLoop(e);break;case r.db.LINETYPE.BREAK_START:ic(m,t,Gs.boxMargin,Gs.boxMargin+Gs.boxTextMargin,(function(t){return Xs.newLoop(t)}));break;case r.db.LINETYPE.BREAK_END:e=Xs.endLoop(),Rs(u,e,"break",Gs),Xs.bumpVerticalPos(e.stopy-Xs.getVerticalPos()),Xs.models.addLoop(e);break;default:try{(i=t.msgModel).starty=Xs.getVerticalPos(),i.sequenceIndex=y,i.sequenceVisible=r.db.showSequenceNumbers();var o=function(t,e){Xs.bumpVerticalPos(10);var n,r=e.startx,i=e.stopx,o=e.message,a=le.splitBreaks(o).length,s=Sn.calculateTextDimensions(o,Js(Gs)),c=s.height/a;e.height+=c,Xs.bumpVerticalPos(c);var l=s.height-10,u=s.width;if(r===i){n=Xs.getVerticalPos()+l,Gs.rightAngles||(l+=Gs.boxMargin,n=Xs.getVerticalPos()+l),l+=30;var h=Math.max(u/2,Gs.width/2);Xs.insert(r-h,Xs.getVerticalPos()-10+l,i+h,Xs.getVerticalPos()+30+l)}else l+=Gs.boxMargin,n=Xs.getVerticalPos()+l,Xs.insert(r,n-10,i,n);return Xs.bumpVerticalPos(l),e.height+=l,e.stopy=e.starty+e.height,Xs.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),n}(0,i);v.push({messageModel:i,lineStarty:o}),Xs.models.addMessage(i)}catch(t){a.error("error while drawing message",t)}}[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(y+=b)})),v.forEach((function(t){return function(t,e,n,r){var i=e.startx,o=e.stopx,a=e.starty,s=e.message,c=e.type,l=e.sequenceIndex,u=e.sequenceVisible,h=Sn.calculateTextDimensions(s,Js(Gs)),d=Vs();d.x=i,d.y=a+10,d.width=o-i,d.class="messageText",d.dy="1em",d.text=s,d.fontFamily=Gs.messageFontFamily,d.fontSize=Gs.messageFontSize,d.fontWeight=Gs.messageFontWeight,d.anchor=Gs.messageAlign,d.valign="center",d.textMargin=Gs.wrapPadding,d.tspan=!1,Ds(t,d);var f,p=h.width;i===o?f=Gs.rightAngles?t.append("path").attr("d","M  ".concat(i,",").concat(n," H ").concat(i+Math.max(Gs.width/2,p/2)," V ").concat(n+25," H ").concat(i)):t.append("path").attr("d","M "+i+","+n+" C "+(i+60)+","+(n-10)+" "+(i+60)+","+(n+30)+" "+i+","+(n+20)):((f=t.append("line")).attr("x1",i),f.attr("y1",n),f.attr("x2",o),f.attr("y2",n)),c===r.db.LINETYPE.DOTTED||c===r.db.LINETYPE.DOTTED_CROSS||c===r.db.LINETYPE.DOTTED_POINT||c===r.db.LINETYPE.DOTTED_OPEN?(f.style("stroke-dasharray","3, 3"),f.attr("class","messageLine1")):f.attr("class","messageLine0");var g="";Gs.arrowMarkerAbsolute&&(g=(g=(g=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),f.attr("stroke-width",2),f.attr("stroke","none"),f.style("fill","none"),c!==r.db.LINETYPE.SOLID&&c!==r.db.LINETYPE.DOTTED||f.attr("marker-end","url("+g+"#arrowhead)"),c!==r.db.LINETYPE.SOLID_POINT&&c!==r.db.LINETYPE.DOTTED_POINT||f.attr("marker-end","url("+g+"#filled-head)"),c!==r.db.LINETYPE.SOLID_CROSS&&c!==r.db.LINETYPE.DOTTED_CROSS||f.attr("marker-end","url("+g+"#crosshead)"),(u||Gs.showSequenceNumbers)&&(f.attr("marker-start","url("+g+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(l))}(u,t.messageModel,t.lineStarty,r)})),Gs.mirrorActors&&(Xs.bumpVerticalPos(2*Gs.boxMargin),Qs(u,h,d,Xs.getVerticalPos(),Gs,f),Xs.bumpVerticalPos(Gs.boxMargin),Ss(u,Xs.getVerticalPos()));var _=tc(u,h,d,c),x=Xs.getBounds().bounds;a.debug("For line height fix Querying: #"+e+" .actor-line"),(0,l.selectAll)("#"+e+" .actor-line").attr("y2",x.stopy);var w=x.stopy-x.starty;w<_.maxHeight&&(w=_.maxHeight);var k=w+2*Gs.diagramMarginY;Gs.mirrorActors&&(k=k-Gs.boxMargin+Gs.bottomMarginAdj);var D=x.stopx-x.startx;D<_.maxWidth&&(D=_.maxWidth);var C=D+2*Gs.diagramMarginX;p&&u.append("text").text(p).attr("x",(x.stopx-x.startx)/2-2*Gs.diagramMarginX).attr("y",-25),kn(u,k,C,Gs.useMaxWidth);var E=p?40:0;u.attr("viewBox",x.startx-Gs.diagramMarginX+" -"+(Gs.diagramMarginY+E)+" "+C+" "+(k+E)),Tn(r.db,u,e),a.debug("models:",Xs.models)}};var sc=n(3584),cc=n.n(sc);function lc(t){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(t)}var uc=function(t){return JSON.parse(JSON.stringify(t))},hc=[],dc=function t(e,n,r){if("relation"===n.stmt)t(e,n.state1,!0),t(e,n.state2,!1);else if("state"===n.stmt&&"[*]"===n.id&&(n.id=r?e.id+"_start":e.id+"_end",n.start=r),n.doc){var i=[],o=0,a=[];for(o=0;o<n.doc.length;o++)if("divider"===n.doc[o].type){var s=uc(n.doc[o]);s.doc=uc(a),i.push(s),a=[]}else a.push(n.doc[o]);if(i.length>0&&a.length>0){var c={stmt:"state",id:pn(),type:"divider",doc:uc(a)};i.push(uc(c)),n.doc=i}n.doc.forEach((function(e){return t(n,e,!0)}))}},fc={root:{relations:[],states:{},documents:{}}},pc=fc.root,gc=0,mc=function(t,e,n,r,i){void 0===pc.states[t]?pc.states[t]={id:t,descriptions:[],type:e,doc:n,note:i}:(pc.states[t].doc||(pc.states[t].doc=n),pc.states[t].type||(pc.states[t].type=e)),r&&(a.info("Adding state ",t,r),"string"==typeof r&&vc(t,r.trim()),"object"===lc(r)&&r.forEach((function(e){return vc(t,e.trim())}))),i&&(pc.states[t].note=i,pc.states[t].note.text=le.sanitizeText(pc.states[t].note.text,Xt()))},yc=function(t){pc=(fc={root:{relations:[],states:{},documents:{}}}).root,pc=fc.root,gc=0,xc=[],t||pe()},bc=function(t,e,n){var r=t,i=e,o="default",a="default";"[*]"===t&&(r="start"+ ++gc,o="start"),"[*]"===e&&(i="end"+gc,a="end"),mc(r,o),mc(i,a),pc.relations.push({id1:r,id2:i,title:le.sanitizeText(n,Xt())})},vc=function(t,e){var n=pc.states[t],r=e;":"===r[0]&&(r=r.substr(1).trim()),n.descriptions.push(le.sanitizeText(r,Xt()))},_c=0,xc=[],wc="TB";const kc={parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},getConfig:function(){return Xt().state},addState:mc,clear:yc,getState:function(t){return pc.states[t]},getStates:function(){return pc.states},getRelations:function(){return pc.relations},getClasses:function(){return xc},getDirection:function(){return wc},addRelation:bc,getDividerId:function(){return"divider-id-"+ ++_c},setDirection:function(t){wc=t},cleanupLabel:function(t){return":"===t.substring(0,1)?t.substr(2).trim():t.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){a.info("Documents = ",fc)},getRootDoc:function(){return hc},setRootDoc:function(t){a.info("Setting root doc",t),hc=t},getRootDocV2:function(){return dc({id:"root"},{id:"root",doc:hc},!0),{id:"root",doc:hc}},extract:function(t){var e;e=t.doc?t.doc:t,a.info(e),yc(!0),a.info("Extract",e),e.forEach((function(t){"state"===t.stmt&&mc(t.id,t.type,t.doc,t.description,t.note),"relation"===t.stmt&&bc(t.state1.id,t.state2.id,t.description)}))},trimColon:function(t){return t&&":"===t[0]?t.substr(1).trim():t.trim()},getAccTitle:me,setAccTitle:ge,getAccDescription:be,setAccDescription:ye};var Dc={};function Cc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ec,Sc=function(t,e,n){var r,i=Xt().state.padding,o=2*Xt().state.padding,a=t.node().getBBox(),s=a.width,c=a.x,l=t.append("text").attr("x",0).attr("y",Xt().state.titleShift).attr("font-size",Xt().state.fontSize).attr("class","state-title").text(e.id),u=l.node().getBBox().width+o,h=Math.max(u,s);h===s&&(h+=o);var d=t.node().getBBox();e.doc,r=c-i,u>s&&(r=(s-h)/2+i),Math.abs(c-d.x)<i&&u>s&&(r=c-(u-s)/2);var f=1-Xt().state.textHeight;return t.insert("rect",":first-child").attr("x",r).attr("y",f).attr("class",n?"alt-composit":"composit").attr("width",h).attr("height",d.height+Xt().state.textHeight+Xt().state.titleShift+1).attr("rx","0"),l.attr("x",r+i),u<=s&&l.attr("x",c+(h-o)/2-u/2+i),t.insert("rect",":first-child").attr("x",r).attr("y",Xt().state.titleShift-Xt().state.textHeight-Xt().state.padding).attr("width",h).attr("height",3*Xt().state.textHeight).attr("rx",Xt().state.radius),t.insert("rect",":first-child").attr("x",r).attr("y",Xt().state.titleShift-Xt().state.textHeight-Xt().state.padding).attr("width",h).attr("height",d.height+3+2*Xt().state.textHeight).attr("rx",Xt().state.radius),t},Tc=function(t,e){e.attr("class","state-note");var n=e.append("rect").attr("x",0).attr("y",Xt().state.padding),r=function(t,e,n,r){var i=0,o=r.append("text");o.style("text-anchor","start"),o.attr("class","noteText");var a,s=t.replace(/\r\n/g,"<br/>"),c=(s=s.replace(/\n/g,"<br/>")).split(le.lineBreakRegex),l=1.25*Xt().state.noteMargin,u=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Cc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cc(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(c);try{for(u.s();!(a=u.n()).done;){var h=a.value.trim();if(h.length>0){var d=o.append("tspan");d.text(h),0===l&&(l+=d.node().getBBox().height),i+=l,d.attr("x",0+Xt().state.noteMargin),d.attr("y",0+i+1.25*Xt().state.noteMargin)}}}catch(t){u.e(t)}finally{u.f()}return{textWidth:o.node().getBBox().width,textHeight:i}}(t,0,0,e.append("g")),i=r.textWidth,o=r.textHeight;return n.attr("height",o+2*Xt().state.noteMargin),n.attr("width",i+2*Xt().state.noteMargin),n},Ac=function(t,e){var n=e.id,r={id:n,label:e.id,width:0,height:0},i=t.append("g").attr("id",n).attr("class","stateGroup");"start"===e.type&&function(t){t.append("circle").attr("class","start-state").attr("r",Xt().state.sizeUnit).attr("cx",Xt().state.padding+Xt().state.sizeUnit).attr("cy",Xt().state.padding+Xt().state.sizeUnit)}(i),"end"===e.type&&function(t){t.append("circle").attr("class","end-state-outer").attr("r",Xt().state.sizeUnit+Xt().state.miniPadding).attr("cx",Xt().state.padding+Xt().state.sizeUnit+Xt().state.miniPadding).attr("cy",Xt().state.padding+Xt().state.sizeUnit+Xt().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",Xt().state.sizeUnit).attr("cx",Xt().state.padding+Xt().state.sizeUnit+2).attr("cy",Xt().state.padding+Xt().state.sizeUnit+2)}(i),"fork"!==e.type&&"join"!==e.type||function(t,e){var n=Xt().state.forkWidth,r=Xt().state.forkHeight;if(e.parentId){var i=n;n=r,r=i}t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",Xt().state.padding).attr("y",Xt().state.padding)}(i,e),"note"===e.type&&Tc(e.note.text,i),"divider"===e.type&&function(t){t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Xt().state.textHeight).attr("class","divider").attr("x2",2*Xt().state.textHeight).attr("y1",0).attr("y2",0)}(i),"default"===e.type&&0===e.descriptions.length&&function(t,e){var n=t.append("text").attr("x",2*Xt().state.padding).attr("y",Xt().state.textHeight+2*Xt().state.padding).attr("font-size",Xt().state.fontSize).attr("class","state-title").text(e.id).node().getBBox();t.insert("rect",":first-child").attr("x",Xt().state.padding).attr("y",Xt().state.padding).attr("width",n.width+2*Xt().state.padding).attr("height",n.height+2*Xt().state.padding).attr("rx",Xt().state.radius)}(i,e),"default"===e.type&&e.descriptions.length>0&&function(t,e){var n=t.append("text").attr("x",2*Xt().state.padding).attr("y",Xt().state.textHeight+1.3*Xt().state.padding).attr("font-size",Xt().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),r=n.height,i=t.append("text").attr("x",Xt().state.padding).attr("y",r+.4*Xt().state.padding+Xt().state.dividerMargin+Xt().state.textHeight).attr("class","state-description"),o=!0,a=!0;e.descriptions.forEach((function(t){o||(function(t,e,n){var r=t.append("tspan").attr("x",2*Xt().state.padding).text(e);n||r.attr("dy",Xt().state.textHeight)}(i,t,a),a=!1),o=!1}));var s=t.append("line").attr("x1",Xt().state.padding).attr("y1",Xt().state.padding+r+Xt().state.dividerMargin/2).attr("y2",Xt().state.padding+r+Xt().state.dividerMargin/2).attr("class","descr-divider"),c=i.node().getBBox(),l=Math.max(c.width,n.width);s.attr("x2",l+3*Xt().state.padding),t.insert("rect",":first-child").attr("x",Xt().state.padding).attr("y",Xt().state.padding).attr("width",l+2*Xt().state.padding).attr("height",c.height+r+2*Xt().state.padding).attr("rx",Xt().state.radius)}(i,e);var o,a=i.node().getBBox();return r.width=a.width+2*Xt().state.padding,r.height=a.height+2*Xt().state.padding,o=r,Dc[n]=o,r},Mc=0,Fc={},Oc=function t(e,n,r,i,o,s,c){var u,h=new(gr().Graph)({compound:!0,multigraph:!0}),d=!0;for(u=0;u<e.length;u++)if("relation"===e[u].stmt){d=!1;break}r?h.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:d?1:Ec.edgeLengthFactor,nodeSep:d?1:50,isMultiGraph:!0}):h.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:d?1:Ec.edgeLengthFactor,nodeSep:d?1:50,ranker:"tight-tree",isMultiGraph:!0}),h.setDefaultEdgeLabel((function(){return{}})),c.db.extract(e);for(var f=c.db.getStates(),p=c.db.getRelations(),g=Object.keys(f),m=0;m<g.length;m++){var y=f[g[m]];r&&(y.parentId=r);var b=void 0;if(y.doc){var v=n.append("g").attr("id",y.id).attr("class","stateGroup");b=t(y.doc,v,y.id,!i,o,s,c);var _=(v=Sc(v,y,i)).node().getBBox();b.width=_.width,b.height=_.height+Ec.padding/2,Fc[y.id]={y:Ec.compositTitleSize}}else b=Ac(n,y);if(y.note){var x={descriptions:[],id:y.id+"-note",note:y.note,type:"note"},w=Ac(n,x);"left of"===y.note.position?(h.setNode(b.id+"-note",w),h.setNode(b.id,b)):(h.setNode(b.id,b),h.setNode(b.id+"-note",w)),h.setParent(b.id,b.id+"-group"),h.setParent(b.id+"-note",b.id+"-group")}else h.setNode(b.id,b)}a.debug("Count=",h.nodeCount(),h);var k=0;p.forEach((function(t){var e;k++,a.debug("Setting edge",t),h.setEdge(t.id1,t.id2,{relation:t,width:(e=t.title,e?e.length*Ec.fontSizeFactor:1),height:Ec.labelHeight*le.getRows(t.title).length,labelpos:"c"},"id"+k)})),fr().layout(h),a.debug("Graph after layout",h.nodes());var D=n.node();h.nodes().forEach((function(t){void 0!==t&&void 0!==h.node(t)?(a.warn("Node "+t+": "+JSON.stringify(h.node(t))),o.select("#"+D.id+" #"+t).attr("transform","translate("+(h.node(t).x-h.node(t).width/2)+","+(h.node(t).y+(Fc[t]?Fc[t].y:0)-h.node(t).height/2)+" )"),o.select("#"+D.id+" #"+t).attr("data-x-shift",h.node(t).x-h.node(t).width/2),s.querySelectorAll("#"+D.id+" #"+t+" .divider").forEach((function(t){var e=t.parentElement,n=0,r=0;e&&(e.parentElement&&(n=e.parentElement.getBBox().width),r=parseInt(e.getAttribute("data-x-shift"),10),Number.isNaN(r)&&(r=0)),t.setAttribute("x1",0-r+8),t.setAttribute("x2",n-r-8)}))):a.debug("No Node "+t+": "+JSON.stringify(h.node(t)))}));var C=D.getBBox();h.edges().forEach((function(t){void 0!==t&&void 0!==h.edge(t)&&(a.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(h.edge(t))),function(t,e,n){e.points=e.points.filter((function(t){return!Number.isNaN(t.y)}));var r=e.points,i=(0,l.line)().x((function(t){return t.x})).y((function(t){return t.y})).curve(l.curveBasis),o=t.append("path").attr("d",i(r)).attr("id","edge"+Mc).attr("class","transition"),s="";if(Xt().state.arrowMarkerAbsolute&&(s=(s=(s=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),o.attr("marker-end","url("+s+"#"+function(t){switch(t){case kc.relationType.AGGREGATION:return"aggregation";case kc.relationType.EXTENSION:return"extension";case kc.relationType.COMPOSITION:return"composition";case kc.relationType.DEPENDENCY:return"dependency"}}(kc.relationType.DEPENDENCY)+"End)"),void 0!==n.title){for(var c=t.append("g").attr("class","stateLabel"),u=Sn.calcLabelPosition(e.points),h=u.x,d=u.y,f=le.getRows(n.title),p=0,g=[],m=0,y=0,b=0;b<=f.length;b++){var v=c.append("text").attr("text-anchor","middle").text(f[b]).attr("x",h).attr("y",d+p),_=v.node().getBBox();if(m=Math.max(m,_.width),y=Math.min(y,_.x),a.info(_.x,h,d+p),0===p){var x=v.node().getBBox();p=x.height,a.info("Title height",p,d)}g.push(v)}var w=p*f.length;if(f.length>1){var k=(f.length-1)*p*.5;g.forEach((function(t,e){return t.attr("y",d+e*p-k)})),w=p*f.length}var D=c.node().getBBox();c.insert("rect",":first-child").attr("class","box").attr("x",h-m/2-Xt().state.padding/2).attr("y",d-w/2-Xt().state.padding/2-3.5).attr("width",m+Xt().state.padding).attr("height",w+Xt().state.padding),a.info(D)}Mc++}(n,h.edge(t),h.edge(t).relation))})),C=D.getBBox();var E={id:r||"root",label:r||"root",width:0,height:0};return E.width=C.width+2*Ec.padding,E.height=C.height+2*Ec.padding,a.debug("Doc rendered",E,h),E};const Nc={setConf:function(){},draw:function(t,e,n,r){Ec=Xt().state;var i,o=Xt().securityLevel;"sandbox"===o&&(i=(0,l.select)("#i"+e));var s="sandbox"===o?(0,l.select)(i.nodes()[0].contentDocument.body):(0,l.select)("body"),c="sandbox"===o?i.nodes()[0].contentDocument:document;a.debug("Rendering diagram "+t);var u=s.select("[id='".concat(e,"']"));u.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z"),new(gr().Graph)({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel((function(){return{}}));var h=r.db.getRootDoc();Oc(h,u,void 0,!1,s,c,r);var d=Ec.padding,f=u.node().getBBox(),p=f.width+2*d,g=f.height+2*d;kn(u,g,1.75*p,Ec.useMaxWidth),u.attr("viewBox","".concat(f.x-Ec.padding,"  ").concat(f.y-Ec.padding," ")+p+" "+g),Tn(r.db,u,e)}};var Bc={},Ic={},Lc=function(t,e,n,r){if("root"!==n.id){var i="rect";!0===n.start&&(i="start"),!1===n.start&&(i="end"),"default"!==n.type&&(i=n.type),Ic[n.id]||(Ic[n.id]={id:n.id,shape:i,description:le.sanitizeText(n.id,Xt()),classes:"statediagram-state"}),n.description&&(Array.isArray(Ic[n.id].description)?(Ic[n.id].shape="rectWithTitle",Ic[n.id].description.push(n.description)):Ic[n.id].description.length>0?(Ic[n.id].shape="rectWithTitle",Ic[n.id].description===n.id?Ic[n.id].description=[n.description]:Ic[n.id].description=[Ic[n.id].description,n.description]):(Ic[n.id].shape="rect",Ic[n.id].description=n.description),Ic[n.id].description=le.sanitizeTextOrArray(Ic[n.id].description,Xt())),1===Ic[n.id].description.length&&"rectWithTitle"===Ic[n.id].shape&&(Ic[n.id].shape="rect"),!Ic[n.id].type&&n.doc&&(a.info("Setting cluster for ",n.id,jc(n)),Ic[n.id].type="group",Ic[n.id].dir=jc(n),Ic[n.id].shape="divider"===n.type?"divider":"roundedWithTitle",Ic[n.id].classes=Ic[n.id].classes+" "+(r?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));var o={labelStyle:"",shape:Ic[n.id].shape,labelText:Ic[n.id].description,classes:Ic[n.id].classes,style:"",id:n.id,dir:Ic[n.id].dir,domId:"state-"+n.id+"-"+Rc,type:Ic[n.id].type,padding:15};if(n.note){var s={labelStyle:"",shape:"note",labelText:n.note.text,classes:"statediagram-note",style:"",id:n.id+"----note-"+Rc,domId:"state-"+n.id+"----note-"+Rc,type:Ic[n.id].type,padding:15},c={labelStyle:"",shape:"noteGroup",labelText:n.note.text,classes:Ic[n.id].classes,style:"",id:n.id+"----parent",domId:"state-"+n.id+"----parent-"+Rc,type:"group",padding:0};Rc++,t.setNode(n.id+"----parent",c),t.setNode(s.id,s),t.setNode(n.id,o),t.setParent(n.id,n.id+"----parent"),t.setParent(s.id,n.id+"----parent");var l=n.id,u=s.id;"left of"===n.note.position&&(l=s.id,u=n.id),t.setEdge(l,u,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else t.setNode(n.id,o)}e&&"root"!==e.id&&(a.trace("Setting node ",n.id," to be child of its parent ",e.id),t.setParent(n.id,e.id)),n.doc&&(a.trace("Adding nodes children "),Pc(t,n,n.doc,!r))},Rc=0,Pc=function(t,e,n,r){a.trace("items",n),n.forEach((function(n){if("state"===n.stmt||"default"===n.stmt)Lc(t,e,n,r);else if("relation"===n.stmt){Lc(t,e,n.state1,r),Lc(t,e,n.state2,r);var i={id:"edge"+Rc,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:le.sanitizeText(n.description,Xt()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"},o=n.state1.id,a=n.state2.id;t.setEdge(o,a,i,Rc),Rc++}}))},jc=function(t,e){var n=e||"TB";if(t.doc)for(var r=0;r<t.doc.length;r++){var i=t.doc[r];"dir"===i.stmt&&(n=i.value)}return n};const zc={setConf:function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Bc[e[n]]=t[e[n]]},getClasses:function(t,e){return a.trace("Extracting classes"),e.sb.clear(),e.parser.parse(t),e.sb.getClasses()},draw:function(t,e,n,r){a.info("Drawing state diagram (v2)",e),Ic={};var i=r.db.getDirection();void 0===i&&(i="LR");var o=Xt().state,s=o.nodeSpacing||50,c=o.rankSpacing||50,u=Xt().securityLevel;a.info(r.db.getRootDocV2()),r.db.extract(r.db.getRootDocV2()),a.info(r.db.getRootDocV2());var h,d=new(gr().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:jc(r.db.getRootDocV2()),nodesep:s,ranksep:c,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));Lc(d,void 0,r.db.getRootDocV2(),!0),"sandbox"===u&&(h=(0,l.select)("#i"+e));var f="sandbox"===u?(0,l.select)(h.nodes()[0].contentDocument.body):(0,l.select)("body"),p=("sandbox"===u?h.nodes()[0].contentDocument:document,f.select('[id="'.concat(e,'"]'))),g=f.select("#"+e+" g");mi(g,d,["barb"],"statediagram",e);var m=p.node().getBBox(),y=m.width+16,b=m.height+16;p.attr("class","statediagram");var v=p.node().getBBox();kn(p,b,1.75*y,o.useMaxWidth);var _="".concat(v.x-8," ").concat(v.y-8," ").concat(y," ").concat(b);a.debug("viewBox ".concat(_)),p.attr("viewBox",_);for(var x=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label'),w=0;w<x.length;w++){var k=x[w],D=k.getBBox(),C=document.createElementNS("http://www.w3.org/2000/svg","rect");C.setAttribute("rx",0),C.setAttribute("ry",0),C.setAttribute("width",D.width),C.setAttribute("height",D.height),k.insertBefore(C,k.firstChild)}Tn(r.db,p,e)}};function $c(t){return function(t){if(Array.isArray(t))return Yc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Yc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yc(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wc="",Uc=[],qc=[],Vc=[],Hc=function(){for(var t=!0,e=0;e<Vc.length;e++)Vc[e].processed,t=t&&Vc[e].processed;return t};const Gc={parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},getConfig:function(){return Xt().journey},clear:function(){Uc.length=0,qc.length=0,Wc="",Vc.length=0,pe()},setDiagramTitle:ve,getDiagramTitle:_e,setAccTitle:ge,getAccTitle:me,setAccDescription:ye,getAccDescription:be,addSection:function(t){Wc=t,Uc.push(t)},getSections:function(){return Uc},getTasks:function(){for(var t=Hc(),e=0;!t&&e<100;)t=Hc(),e++;return qc.push.apply(qc,Vc),qc},addTask:function(t,e){var n=e.substr(1).split(":"),r=0,i=[];1===n.length?(r=Number(n[0]),i=[]):(r=Number(n[0]),i=n[1].split(","));var o=i.map((function(t){return t.trim()})),a={section:Wc,type:Wc,people:o,task:t,score:r};Vc.push(a)},addTaskOrg:function(t){var e={section:Wc,type:Wc,description:t,task:t,classes:[]};qc.push(e)},getActors:function(){return t=[],qc.forEach((function(e){e.people&&t.push.apply(t,$c(e.people))})),$c(new Set(t)).sort();var t}};var Xc=function(t,e){var n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},Jc=function(t,e){var n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),void 0!==n.class&&n.attr("class",n.class),void 0!==e.title&&n.append("title").text(e.title),n},Kc=-1,Zc=function(){function t(t,e,n,i,o,a,s,c){r(e.append("text").attr("x",n+o/2).attr("y",i+a/2+5).style("font-color",c).style("text-anchor","middle").text(t),s)}function e(t,e,n,i,o,a,s,c,l){for(var u=c.taskFontSize,h=c.taskFontFamily,d=t.split(/<br\s*\/?>/gi),f=0;f<d.length;f++){var p=f*u-u*(d.length-1)/2,g=e.append("text").attr("x",n+o/2).attr("y",i).attr("fill",l).style("text-anchor","middle").style("font-size",u).style("font-family",h);g.append("tspan").attr("x",n+o/2).attr("dy",p).text(d[f]),g.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(g,s)}}function n(t,n,i,o,a,s,c,l){var u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,a,s,c,l),r(h,c)}function r(t,e){for(var n in e)n in e&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}();const Qc=Jc,tl=function(t,e,n){var r=t.append("g"),i={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=n.width,i.height=n.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,Xc(r,i),Zc(n)(e.text,r,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},n,e.colour)},el=function(t,e){var n=e.text.replace(/<br\s*\/?>/gi," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.attr("class","legend"),r.style("text-anchor",e.anchor),void 0!==e.class&&r.attr("class",e.class);var i=r.append("tspan");return i.attr("x",e.x+2*e.textMargin),i.text(n),r},nl=function(t,e,n){var r,i,o,a=e.x+n.width/2,s=t.append("g");Kc++,s.append("line").attr("id","task"+Kc).attr("x1",a).attr("y1",e.y).attr("x2",a).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),r=s,i={cx:a,cy:300+30*(5-e.score),score:e.score},r.append("circle").attr("cx",i.cx).attr("cy",i.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),(o=r.append("g")).append("circle").attr("cx",i.cx-5).attr("cy",i.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),o.append("circle").attr("cx",i.cx+5).attr("cy",i.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.score>3?function(t){var e=(0,l.arc)().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(15/2.2);t.append("path").attr("class","mouth").attr("d",e).attr("transform","translate("+i.cx+","+(i.cy+2)+")")}(o):i.score<3?function(t){var e=(0,l.arc)().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(15/2.2);t.append("path").attr("class","mouth").attr("d",e).attr("transform","translate("+i.cx+","+(i.cy+7)+")")}(o):function(t){t.append("line").attr("class","mouth").attr("stroke",2).attr("x1",i.cx-5).attr("y1",i.cy+7).attr("x2",i.cx+5).attr("y2",i.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}(o);var c={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};c.x=e.x,c.y=e.y,c.fill=e.fill,c.width=n.width,c.height=n.height,c.class="task task-type-"+e.num,c.rx=3,c.ry=3,Xc(s,c);var u=e.x+14;e.people.forEach((function(t){var n=e.actors[t].color,r={cx:u,cy:e.y,r:7,fill:n,stroke:"#000",title:t,pos:e.actors[t].position};Jc(s,r),u+=10})),Zc(n)(e.task,s,c.x,c.y,c.width,c.height,{class:"task"},n,e.colour)};var rl={},il=Xt().journey,ol=Xt().journey.leftMargin,al={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,r){void 0===t[e]?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){var i=Xt().journey,o=this,a=0;this.sequenceItems.forEach((function(s){a++;var c=o.sequenceItems.length-a+1;o.updateVal(s,"starty",e-c*i.boxMargin,Math.min),o.updateVal(s,"stopy",r+c*i.boxMargin,Math.max),o.updateVal(al.data,"startx",t-c*i.boxMargin,Math.min),o.updateVal(al.data,"stopx",n+c*i.boxMargin,Math.max),o.updateVal(s,"startx",t-c*i.boxMargin,Math.min),o.updateVal(s,"stopx",n+c*i.boxMargin,Math.max),o.updateVal(al.data,"starty",e-c*i.boxMargin,Math.min),o.updateVal(al.data,"stopy",r+c*i.boxMargin,Math.max)}))},insert:function(t,e,n,r){var i=Math.min(t,n),o=Math.max(t,n),a=Math.min(e,r),s=Math.max(e,r);this.updateVal(al.data,"startx",i,Math.min),this.updateVal(al.data,"starty",a,Math.min),this.updateVal(al.data,"stopx",o,Math.max),this.updateVal(al.data,"stopy",s,Math.max),this.updateBounds(i,a,o,s)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},sl=il.sectionFills,cl=il.sectionColours;const ll={setConf:function(t){Object.keys(t).forEach((function(e){il[e]=t[e]}))},draw:function(t,e,n,r){var i=Xt().journey;r.db.clear(),r.parser.parse(t+"\n");var o,a=Xt().securityLevel;"sandbox"===a&&(o=(0,l.select)("#i"+e));var s="sandbox"===a?(0,l.select)(o.nodes()[0].contentDocument.body):(0,l.select)("body");al.init();var c=s.select("#"+e);c.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z");var u=r.db.getTasks(),h=r.db.getDiagramTitle(),d=r.db.getActors();for(var f in rl)delete rl[f];var p=0;d.forEach((function(t){rl[t]={color:i.actorColours[p%i.actorColours.length],position:p},p++})),function(t){var e=Xt().journey,n=60;Object.keys(rl).forEach((function(r){var i=rl[r].color,o={cx:20,cy:n,r:7,fill:i,stroke:"#000",pos:rl[r].position};Qc(t,o);var a={x:40,y:n+7,fill:"#666",text:r,textMargin:5|e.boxTextMargin};el(t,a),n+=20}))}(c),al.insert(0,0,ol,50*Object.keys(rl).length),function(t,e,n){for(var r=Xt().journey,i="",o=n+(2*r.height+r.diagramMarginY),a=0,s="#CCC",c="black",l=0,u=0;u<e.length;u++){var h=e[u];if(i!==h.section){s=sl[a%sl.length],l=a%sl.length,c=cl[a%cl.length];var d={x:u*r.taskMargin+u*r.width+ol,y:50,text:h.section,fill:s,num:l,colour:c};tl(t,d,r),i=h.section,a++}var f=h.people.reduce((function(t,e){return rl[e]&&(t[e]=rl[e]),t}),{});h.x=u*r.taskMargin+u*r.width+ol,h.y=o,h.width=r.diagramMarginX,h.height=r.diagramMarginY,h.colour=c,h.fill=s,h.num=l,h.actors=f,nl(t,h,r),al.insert(h.x,h.y,h.x+h.width+r.taskMargin,450)}}(c,u,0);var g=al.getBounds();h&&c.append("text").text(h).attr("x",ol).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);var m=g.stopy-g.starty+2*i.diagramMarginY,y=ol+g.stopx+2*i.diagramMarginX;kn(c,m,y,i.useMaxWidth),c.append("line").attr("x1",ol).attr("y1",4*i.height).attr("x2",y-ol-4).attr("y2",4*i.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");var b=h?70:0;c.attr("viewBox","".concat(g.startx," -25 ").concat(y," ").concat(m+b)),c.attr("preserveAspectRatio","xMinYMin meet"),c.attr("height",m+b+25),Tn(r.db,c,e)}};var ul=n(9763),hl=n.n(ul),dl={c4:{db:Re,renderer:Xn,parser:qe(),init:function(t){Xn.setConf(t.c4)}},class:{db:hr,renderer:Sr,parser:xi(),init:function(t){t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,hr.clear()}},classDiagram:{db:hr,renderer:vi,parser:xi(),init:function(t){t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,hr.clear()}},er:{db:Ci,renderer:Fi,parser:Ni()},flowchart:{db:so,renderer:Ao,parser:Io(),init:function(t){Ao.setConf(t.flowchart),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,so.clear(),so.setGen("gen-1")}},"flowchart-v2":{db:so,renderer:No,parser:Io(),init:function(t){No.setConf(t.flowchart),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,so.clear(),so.setGen("gen-2")}},gantt:{db:fa,renderer:ma,parser:ba(),init:function(t){ma.setConf(t.gantt)}},info:{db:xa,renderer:wa,parser:Da()},pie:{db:Aa,renderer:Oa,parser:Ea()},requirement:{db:za,renderer:Xa,parser:Ba()},sequence:{db:ms,renderer:ac,parser:Za(),init:function(t){t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,t.sequenceDiagram&&(ac.setConf(Object.assign(t.sequence,t.sequenceDiagram)),console.error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.")),ms.setWrap(t.wrap),ac.setConf(t.sequence)}},state:{db:kc,renderer:Nc,parser:cc(),init:function(t){t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,kc.clear()}},stateDiagram:{db:kc,renderer:zc,parser:cc(),init:function(t){t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,kc.clear()}},journey:{db:Gc,renderer:ll,parser:hl(),init:function(t){ll.setConf(t.journey),Gc.clear()}}},fl=function(){return dl};function pl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pl(Object(n),!0).forEach((function(e){ml(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ml(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yl=Xt().gitGraph.mainBranchName,bl=Xt().gitGraph.mainBranchOrder,vl={},_l=null,xl={};xl[yl]={name:yl,order:bl};var wl={};wl[yl]=_l;var kl=yl,Dl="LR",Cl=0;function El(){return gn({length:7})}var Sl={},Tl=function(t){if(t=le.sanitizeText(t,Xt()),void 0===wl[t]){var e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}var n=wl[kl=t];_l=vl[n]};function Al(t,e,n){var r=t.indexOf(e);-1===r?t.push(n):t.splice(r,1,n)}function Ml(t){var e=t.reduce((function(t,e){return t.seq>e.seq?t:e}),t[0]),n="";t.forEach((function(t){n+=t===e?"\t*":"\t|"}));var r,i,o,s=[n,e.id,e.seq];for(var c in wl)wl[c]===e.id&&s.push(c);if(a.debug(s.join(" ")),e.parents&&2==e.parents.length){var l=vl[e.parents[0]];Al(t,e,l),t.push(vl[e.parents[1]])}else{if(0==e.parents.length)return;var u=vl[e.parents];Al(t,e,u)}r=t,i=function(t){return t.id},o=Object.create(null),Ml(t=r.reduce((function(t,e){var n=i(e);return o[n]||(o[n]=!0,t.push(e)),t}),[]))}var Fl=function(){var t=Object.keys(vl).map((function(t){return vl[t]}));return t.forEach((function(t){a.debug(t.id)})),t.sort((function(t,e){return t.seq-e.seq})),t},Ol={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4};const Nl={parseDirective:function(t,e,n){su.parseDirective(this,t,e,n)},getConfig:function(){return Xt().gitGraph},setDirection:function(t){Dl=t},setOptions:function(t){a.debug("options str",t),t=(t=t&&t.trim())||"{}";try{Sl=JSON.parse(t)}catch(t){a.error("error while parsing gitGraph options",t.message)}},getOptions:function(){return Sl},commit:function(t,e,n,r){a.debug("Entering commit:",t,e,n,r),e=le.sanitizeText(e,Xt()),t=le.sanitizeText(t,Xt()),r=le.sanitizeText(r,Xt());var i={id:e||Cl+"-"+El(),message:t,seq:Cl++,type:n||Ol.NORMAL,tag:r||"",parents:null==_l?[]:[_l.id],branch:kl};_l=i,vl[i.id]=i,wl[kl]=i.id,a.debug("in pushCommit "+i.id)},branch:function(t,e){if(t=le.sanitizeText(t,Xt()),void 0!==wl[t]){var n=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw n.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},n}wl[t]=null!=_l?_l.id:null,xl[t]={name:t,order:e?parseInt(e,10):null},Tl(t),a.debug("in createBranch")},merge:function(t,e){t=le.sanitizeText(t,Xt());var n=vl[wl[kl]],r=vl[wl[t]];if(kl===t){var i=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw i.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},i}if(void 0===n||!n){var o=new Error('Incorrect usage of "merge". Current branch ('+kl+")has no commits");throw o.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},o}if(void 0===wl[t]){var s=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw s.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},s}if(void 0===r||!r){var c=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw c.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},c}if(n===r){var l=new Error('Incorrect usage of "merge". Both branches have same head');throw l.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},l}var u={id:Cl+"-"+El(),message:"merged branch "+t+" into "+kl,seq:Cl++,parents:[null==_l?null:_l.id,wl[t]],branch:kl,type:Ol.MERGE,tag:e||""};_l=u,vl[u.id]=u,wl[kl]=u.id,a.debug(wl),a.debug("in mergeBranch")},cherryPick:function(t,e){if(t=le.sanitizeText(t,Xt()),e=le.sanitizeText(e,Xt()),!t||void 0===vl[t]){var n=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}var r=vl[t],i=r.branch;if(r.type===Ol.MERGE){var o=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw o.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}if(!e||void 0===vl[e]){if(i===kl){var s=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw s.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}var c=vl[wl[kl]];if(void 0===c||!c){var l=new Error('Incorrect usage of "cherry-pick". Current branch ('+kl+")has no commits");throw l.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},l}var u={id:Cl+"-"+El(),message:"cherry-picked "+r+" into "+kl,seq:Cl++,parents:[null==_l?null:_l.id,r.id],branch:kl,type:Ol.CHERRY_PICK,tag:"cherry-pick:"+r.id};_l=u,vl[u.id]=u,wl[kl]=u.id,a.debug(wl),a.debug("in cheeryPick")}},checkout:Tl,prettyPrint:function(){a.debug(vl),Ml([Fl()[0]])},clear:function(){vl={},_l=null;var t=Xt().gitGraph.mainBranchName,e=Xt().gitGraph.mainBranchOrder;(wl={})[t]=null,(xl={})[t]={name:t,order:e},kl=t,Cl=0,pe()},getBranchesAsObjArray:function(){return Object.values(xl).map((function(t,e){return null!==t.order?t:gl(gl({},t),{},{order:parseFloat("0.".concat(e),10)})})).sort((function(t,e){return t.order-e.order})).map((function(t){return{name:t.name}}))},getBranches:function(){return wl},getCommits:function(){return vl},getCommitsArray:Fl,getCurrentBranch:function(){return kl},getDirection:function(){return Dl},getHead:function(){return _l},setAccTitle:ge,getAccTitle:me,getAccDescription:be,setAccDescription:ye,commitType:Ol};var Bl={},Il={},Ll={},Rl=[],Pl=0,jl=function(t,e,n){var r=Xt().gitGraph,i=t.append("g").attr("class","commit-bullets"),o=t.append("g").attr("class","commit-labels"),a=0;Object.keys(e).sort((function(t,n){return e[t].seq-e[n].seq})).forEach((function(t,s){var c=e[t],l=Il[c.branch].pos,u=a+10;if(n){var h;switch(c.type){case 0:default:h="commit-normal";break;case 1:h="commit-reverse";break;case 2:h="commit-highlight";break;case 3:h="commit-merge";break;case 4:h="commit-cherry-pick"}if(2===c.type){var d=i.append("rect");d.attr("x",u-10),d.attr("y",l-10),d.attr("height",20),d.attr("width",20),d.attr("class","commit ".concat(c.id," commit-highlight").concat(Il[c.branch].index%8," ").concat(h,"-outer")),i.append("rect").attr("x",u-6).attr("y",l-6).attr("height",12).attr("width",12).attr("class","commit ".concat(c.id," commit").concat(Il[c.branch].index%8," ").concat(h,"-inner"))}else if(4===c.type)i.append("circle").attr("cx",u).attr("cy",l).attr("r",10).attr("class","commit ".concat(c.id," ").concat(h)),i.append("circle").attr("cx",u-3).attr("cy",l+2).attr("r",2.75).attr("fill","#fff").attr("class","commit ".concat(c.id," ").concat(h)),i.append("circle").attr("cx",u+3).attr("cy",l+2).attr("r",2.75).attr("fill","#fff").attr("class","commit ".concat(c.id," ").concat(h)),i.append("line").attr("x1",u+3).attr("y1",l+1).attr("x2",u).attr("y2",l-5).attr("stroke","#fff").attr("class","commit ".concat(c.id," ").concat(h)),i.append("line").attr("x1",u-3).attr("y1",l+1).attr("x2",u).attr("y2",l-5).attr("stroke","#fff").attr("class","commit ".concat(c.id," ").concat(h));else{var f=i.append("circle");if(f.attr("cx",u),f.attr("cy",l),f.attr("r",3===c.type?9:10),f.attr("class","commit ".concat(c.id," commit").concat(Il[c.branch].index%8)),3===c.type){var p=i.append("circle");p.attr("cx",u),p.attr("cy",l),p.attr("r",6),p.attr("class","commit ".concat(h," ").concat(c.id," commit").concat(Il[c.branch].index%8))}1===c.type&&i.append("path").attr("d","M ".concat(u-5,",").concat(l-5,"L").concat(u+5,",").concat(l+5,"M").concat(u-5,",").concat(l+5,"L").concat(u+5,",").concat(l-5)).attr("class","commit ".concat(h," ").concat(c.id," commit").concat(Il[c.branch].index%8))}}if(Ll[c.id]={x:a+10,y:l},n){if(4!==c.type&&3!==c.type&&r.showCommitLabel){var g=o.append("g"),m=g.insert("rect").attr("class","commit-label-bkg"),y=g.append("text").attr("x",a).attr("y",l+25).attr("class","commit-label").text(c.id),b=y.node().getBBox();if(m.attr("x",a+10-b.width/2-2).attr("y",l+13.5).attr("width",b.width+4).attr("height",b.height+4),y.attr("x",a+10-b.width/2),r.rotateCommitLabel){var v=-7.5-(b.width+10)/25*9.5,_=10+b.width/25*8.5;g.attr("transform","translate("+v+", "+_+") rotate(-45, "+a+", "+l+")")}}if(c.tag){var x=o.insert("polygon"),w=o.append("circle"),k=o.append("text").attr("y",l-16).attr("class","tag-label").text(c.tag),D=k.node().getBBox();k.attr("x",a+10-D.width/2);var C=D.height/2,E=l-19.2;x.attr("class","tag-label-bkg").attr("points","\n          ".concat(a-D.width/2-2,",").concat(E+2,"\n          ").concat(a-D.width/2-2,",").concat(E-2,"\n          ").concat(a+10-D.width/2-4,",").concat(E-C-2,"\n          ").concat(a+10+D.width/2+4,",").concat(E-C-2,"\n          ").concat(a+10+D.width/2+4,",").concat(E+C+2,"\n          ").concat(a+10-D.width/2-4,",").concat(E+C+2)),w.attr("cx",a-D.width/2+2).attr("cy",E).attr("r",1.5).attr("class","tag-hole")}}(a+=50)>Pl&&(Pl=a)}))},zl=function t(e,n,r){var i=r||0,o=e+Math.abs(e-n)/2;if(i>5)return o;for(var a=!0,s=0;s<Rl.length;s++)Math.abs(Rl[s]-o)<10&&(a=!1);return a?(Rl.push(o),o):t(e,n-Math.abs(e-n)/5,i)};const $l={draw:function(t,e,n,r){Il={},Ll={},Bl={},Pl=0,Rl=[];var i=Xt(),o=Xt().gitGraph;a.debug("in gitgraph renderer",t+"\n","id:",e,n),Bl=r.db.getCommits();var s=r.db.getBranchesAsObjArray(),c=0;s.forEach((function(t,e){Il[t.name]={pos:c,index:e},c+=50+(o.rotateCommitLabel?40:0)}));var u=(0,l.select)('[id="'.concat(e,'"]'));Tn(r.db,u,e),jl(u,Bl,!1),o.showBranches&&function(t,e){var n=Xt().gitGraph,r=t.append("g");e.forEach((function(t,e){var i=e%8,o=Il[t.name].pos,a=r.append("line");a.attr("x1",0),a.attr("y1",o),a.attr("x2",Pl),a.attr("y2",o),a.attr("class","branch branch"+i),Rl.push(o);var s=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","text"),n=[];n="string"==typeof t?t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?t:[];for(var r=0;r<n.length;r++){var i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n[r].trim(),e.appendChild(i)}return e}(t.name),c=r.insert("rect"),l=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+i);l.node().appendChild(s);var u=s.getBBox();c.attr("class","branchLabelBkg label"+i).attr("rx",4).attr("ry",4).attr("x",-u.width-4-(!0===n.rotateCommitLabel?30:0)).attr("y",-u.height/2+8).attr("width",u.width+18).attr("height",u.height+4),l.attr("transform","translate("+(-u.width-14-(!0===n.rotateCommitLabel?30:0))+", "+(o-u.height/2-1)+")"),c.attr("transform","translate(-19, "+(o-u.height/2)+")")}))}(u,s),function(t,e){var n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach((function(t,r){var i=e[t];i.parents&&i.parents.length>0&&i.parents.forEach((function(t){!function(t,e,n,r){var i=Xt(),o=Ll[e.id],a=Ll[n.id],s=function(t,e,n){return Ll[e.id],Ll[t.id],Object.keys(n).filter((function(r){return n[r].branch===e.branch&&n[r].seq>t.seq&&n[r].seq<e.seq})).length>0}(e,n,r);i.arrowMarkerAbsolute&&(window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(").replace(/\)/g,"\\)");var c,l="",u="",h=0,d=0,f=Il[n.branch].index;if(s){l="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",h=10,d=10,f=Il[n.branch].index;var p=o.y<a.y?zl(o.y,a.y):zl(a.y,o.y);c=o.y<a.y?"M ".concat(o.x," ").concat(o.y," L ").concat(o.x," ").concat(p-h," ").concat(l," ").concat(o.x+d," ").concat(p," L ").concat(a.x-h," ").concat(p," ").concat(u," ").concat(a.x," ").concat(p+d," L ").concat(a.x," ").concat(a.y):"M ".concat(o.x," ").concat(o.y," L ").concat(o.x," ").concat(p+h," ").concat(u," ").concat(o.x+d," ").concat(p," L ").concat(a.x-h," ").concat(p," ").concat(l," ").concat(a.x," ").concat(p-d," L ").concat(a.x," ").concat(a.y)}else o.y<a.y&&(l="A 20 20, 0, 0, 0,",h=20,d=20,f=Il[n.branch].index,c="M ".concat(o.x," ").concat(o.y," L ").concat(o.x," ").concat(a.y-h," ").concat(l," ").concat(o.x+d," ").concat(a.y," L ").concat(a.x," ").concat(a.y)),o.y>a.y&&(l="A 20 20, 0, 0, 0,",h=20,d=20,f=Il[e.branch].index,c="M ".concat(o.x," ").concat(o.y," L ").concat(a.x-h," ").concat(o.y," ").concat(l," ").concat(a.x," ").concat(o.y-d," L ").concat(a.x," ").concat(a.y)),o.y===a.y&&(f=Il[e.branch].index,c="M ".concat(o.x," ").concat(o.y," L ").concat(o.x," ").concat(a.y-h," ").concat(l," ").concat(o.x+d," ").concat(a.y," L ").concat(a.x," ").concat(a.y));t.append("path").attr("d",c).attr("class","arrow arrow"+f%8)}(n,e[t],i,e)}))}))}(u,Bl),jl(u,Bl,!0);var h=o.diagramPadding,d=u.node().getBBox(),f=d.width+2*h,p=d.height+2*h;kn(u,p,f,i.useMaxWidth);var g="".concat(d.x-h-(o.showBranches&&!0===o.rotateCommitLabel?30:0)," ").concat(d.y-h," ").concat(f," ").concat(p);u.attr("viewBox",g)}};var Yl=n(2553),Wl=n.n(Yl);const Ul=function(t){return t.match(/^\s*gitGraph/)?"gitGraph":null},ql=function(){var t,e,n,r,i,o;t="gitGraph",e=Wl(),n=Nl,r=$l,i=void 0,o=Ul,dl[t]={parser:e,db:n,renderer:r,init:i},function(t,e){Ge[t]={detector:e}}(t,o)};function Vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gl=function(){function t(e){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Hl(this,"type","graph"),Hl(this,"parser",void 0),Hl(this,"renderer",void 0),Hl(this,"db",void 0);var i=fl(),o=Xt();this.txt=e,this.type=Xe(e,o),a.debug("Type "+this.type),this.db=i[this.type].db,null===(n=(r=this.db).clear)||void 0===n||n.call(r),this.renderer=i[this.type].renderer,this.parser=i[this.type].parser,this.parser.parser.yy=this.db,"function"==typeof i[this.type].init&&(i[this.type].init(o),a.debug("Initialized diagram "+this.type,o)),this.txt=this.txt+"\n",this.parser.parser.yy.graphType=this.type,this.parser.parser.yy.parseError=function(t,e){throw{str:t,hash:e}},this.parser.parse(this.txt)}var e,r;return e=t,(r=[{key:"parse",value:function(t){var e=!1;try{t+="\n",this.db.clear(),this.parser.parse(t)}catch(t){if(e=!0,!n.g.mermaid.parseError)throw t;null!=t.str?n.g.mermaid.parseError(t.str,t.hash):n.g.mermaid.parseError(t)}return!e}},{key:"getParser",value:function(){return this.parser}},{key:"getType",value:function(){return this.type}}])&&Vl(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Xl=Gl;var Jl={};const Kl=function(t){return"g.classGroup text {\n  fill: ".concat(t.nodeBorder,";\n  fill: ").concat(t.classText,";\n  stroke: none;\n  font-family: ").concat(t.fontFamily,";\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ").concat(t.classText,";\n}\n.edgeLabel .label rect {\n  fill: ").concat(t.mainBkg,";\n}\n.label text {\n  fill: ").concat(t.classText,";\n}\n.edgeLabel .label span {\n  background: ").concat(t.mainBkg,";\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(t.mainBkg,";\n    stroke: ").concat(t.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ").concat(t.nodeBorder,";\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ").concat(t.mainBkg,";\n  stroke: ").concat(t.nodeBorder,";\n}\n\ng.classGroup line {\n  stroke: ").concat(t.nodeBorder,";\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(t.mainBkg,";\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ").concat(t.nodeBorder,";\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ").concat(t.lineColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n#compositionStart, .composition {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ").concat(t.mainBkg," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ").concat(t.mainBkg," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n")},Zl=function(t){return".label {\n    font-family: ".concat(t.fontFamily,";\n    color: ").concat(t.nodeTextColor||t.textColor,";\n  }\n  .cluster-label text {\n    fill: ").concat(t.titleColor,";\n  }\n  .cluster-label span {\n    color: ").concat(t.titleColor,";\n  }\n\n  .label text,span {\n    fill: ").concat(t.nodeTextColor||t.textColor,";\n    color: ").concat(t.nodeTextColor||t.textColor,";\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(t.mainBkg,";\n    stroke: ").concat(t.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(t.arrowheadColor,";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(t.lineColor,";\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(t.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(t.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n      background-color: ").concat(t.edgeLabelBackground,";\n      fill: ").concat(t.edgeLabelBackground,";\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ").concat(t.clusterBkg,";\n    stroke: ").concat(t.clusterBorder,";\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .cluster span {\n    color: ").concat(t.titleColor,";\n  }\n  /* .cluster div {\n    color: ").concat(t.titleColor,";\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ").concat(t.fontFamily,";\n    font-size: 12px;\n    background: ").concat(t.tertiaryColor,";\n    border: 1px solid ").concat(t.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n")},Ql=function(t){return"\ndefs #statediagram-barbEnd {\n    fill: ".concat(t.transitionColor,";\n    stroke: ").concat(t.transitionColor,";\n  }\ng.stateGroup text {\n  fill: ").concat(t.nodeBorder,";\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ").concat(t.textColor,";\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ").concat(t.stateLabelColor,";\n}\n\ng.stateGroup rect {\n  fill: ").concat(t.mainBkg,";\n  stroke: ").concat(t.nodeBorder,";\n}\n\ng.stateGroup line {\n  stroke: ").concat(t.lineColor,";\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ").concat(t.transitionColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ").concat(t.background,";\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ").concat(t.noteBorderColor,";\n  fill: ").concat(t.noteBkgColor,";\n\n  text {\n    fill: ").concat(t.noteTextColor,";\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(t.mainBkg,";\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ").concat(t.labelBackgroundColor,";\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ").concat(t.transitionLabelColor||t.tertiaryTextColor,";\n}\n.label div .edgeLabel {\n  color: ").concat(t.transitionLabelColor||t.tertiaryTextColor,";\n}\n\n.stateLabel text {\n  fill: ").concat(t.stateLabelColor,";\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ").concat(t.specialStateColor,";\n  stroke: ").concat(t.specialStateColor,";\n}\n\n.node .fork-join {\n  fill: ").concat(t.specialStateColor,";\n  stroke: ").concat(t.specialStateColor,";\n}\n\n.node circle.state-end {\n  fill: ").concat(t.innerEndBackground,";\n  stroke: ").concat(t.background,";\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ").concat(t.compositeBackground||t.background,";\n  // stroke: ").concat(t.background,";\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ").concat(t.stateBkg||t.mainBkg,";\n  stroke: ").concat(t.stateBorder||t.nodeBorder,";\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ").concat(t.mainBkg,";\n  stroke: ").concat(t.stateBorder||t.nodeBorder,";;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ").concat(t.lineColor,";\n}\n\n.statediagram-cluster rect {\n  fill: ").concat(t.compositeTitleBackground,";\n  stroke: ").concat(t.stateBorder||t.nodeBorder,";\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ").concat(t.stateLabelColor,";\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ").concat(t.stateBorder||t.nodeBorder,";\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ").concat(t.compositeBackground||t.background,";\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ").concat(t.altBackground?t.altBackground:"#efefef",";\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ").concat(t.altBackground?t.altBackground:"#efefef",";\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ").concat(t.noteBkgColor,";\n  stroke: ").concat(t.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ").concat(t.noteBkgColor,";\n  stroke: ").concat(t.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ").concat(t.noteTextColor,";\n}\n\n.statediagram-note .nodeLabel {\n  color: ").concat(t.noteTextColor,";\n}\n.statediagram .edgeLabel {\n  color: red; // ").concat(t.noteTextColor,";\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ").concat(t.lineColor,";\n  stroke: ").concat(t.lineColor,";\n  stroke-width: 1;\n}\n")};var tu={flowchart:Zl,"flowchart-v2":Zl,sequence:function(t){return".actor {\n    stroke: ".concat(t.actorBorder,";\n    fill: ").concat(t.actorBkg,";\n  }\n\n  text.actor > tspan {\n    fill: ").concat(t.actorTextColor,";\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ").concat(t.actorLineColor,";\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ").concat(t.signalColor,";\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(t.signalColor,";\n  }\n\n  #arrowhead path {\n    fill: ").concat(t.signalColor,";\n    stroke: ").concat(t.signalColor,";\n  }\n\n  .sequenceNumber {\n    fill: ").concat(t.sequenceNumberColor,";\n  }\n\n  #sequencenumber {\n    fill: ").concat(t.signalColor,";\n  }\n\n  #crosshead path {\n    fill: ").concat(t.signalColor,";\n    stroke: ").concat(t.signalColor,";\n  }\n\n  .messageText {\n    fill: ").concat(t.signalTextColor,";\n    stroke: ").concat(t.signalTextColor,";\n  }\n\n  .labelBox {\n    stroke: ").concat(t.labelBoxBorderColor,";\n    fill: ").concat(t.labelBoxBkgColor,";\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ").concat(t.labelTextColor,";\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ").concat(t.loopTextColor,";\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(t.labelBoxBorderColor,";\n    fill: ").concat(t.labelBoxBorderColor,";\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ").concat(t.noteBorderColor,";\n    fill: ").concat(t.noteBkgColor,";\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ").concat(t.noteTextColor,";\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ").concat(t.activationBkgColor,";\n    stroke: ").concat(t.activationBorderColor,";\n  }\n\n  .activation1 {\n    fill: ").concat(t.activationBkgColor,";\n    stroke: ").concat(t.activationBorderColor,";\n  }\n\n  .activation2 {\n    fill: ").concat(t.activationBkgColor,";\n    stroke: ").concat(t.activationBorderColor,";\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ").concat(t.actorBkg,";\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ").concat(t.actorBorder,";\n    fill: ").concat(t.actorBkg,";\n  }\n  .actor-man circle, line {\n    stroke: ").concat(t.actorBorder,";\n    fill: ").concat(t.actorBkg,";\n    stroke-width: 2px;\n  }\n")},gantt:function(t){return'\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: '.concat(t.excludeBkgColor,";\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ").concat(t.sectionBkgColor,";\n  }\n\n  .section2 {\n    fill: ").concat(t.sectionBkgColor2,";\n  }\n\n  .section1,\n  .section3 {\n    fill: ").concat(t.altSectionBkgColor,";\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .sectionTitle1 {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .sectionTitle2 {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .sectionTitle3 {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ").concat(t.ganttFontSize,";\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ").concat(t.gridColor,";\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ").concat(t.fontFamily,";\n      fill: ").concat(t.textColor,";\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ").concat(t.todayLineColor,";\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ").concat(t.ganttFontSize,";\n  // }\n\n  .taskTextOutsideRight {\n    fill: ").concat(t.taskTextDarkColor,";\n    text-anchor: start;\n    // font-size: ").concat(t.ganttFontSize,";\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ").concat(t.taskTextDarkColor,";\n    text-anchor: end;\n    // font-size: ").concat(t.ganttFontSize,";\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ").concat(t.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ").concat(t.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ").concat(t.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ").concat(t.taskTextColor,";\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ").concat(t.taskBkgColor,";\n    stroke: ").concat(t.taskBorderColor,";\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ").concat(t.taskTextOutsideColor,";\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ").concat(t.taskTextOutsideColor,";\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ").concat(t.activeTaskBkgColor,";\n    stroke: ").concat(t.activeTaskBorderColor,";\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ").concat(t.taskTextDarkColor," !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ").concat(t.doneTaskBorderColor,";\n    fill: ").concat(t.doneTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ").concat(t.taskTextDarkColor," !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ").concat(t.critBorderColor,";\n    fill: ").concat(t.critBkgColor,";\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ").concat(t.critBorderColor,";\n    fill: ").concat(t.activeTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ").concat(t.critBorderColor,";\n    fill: ").concat(t.doneTaskBkgColor,";\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ").concat(t.taskTextDarkColor," !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ").concat(t.taskTextDarkColor," !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ").concat(t.textColor,"    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n")},classDiagram:Kl,"classDiagram-v2":Kl,class:Kl,stateDiagram:Ql,state:Ql,gitGraph:function(t){return"\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ".concat([0,1,2,3,4,5,6,7].map((function(e){return"\n        .branch-label".concat(e," { fill: ").concat(t["gitBranchLabel"+e],"; }\n        .commit").concat(e," { stroke: ").concat(t["git"+e],"; fill: ").concat(t["git"+e],"; }\n        .commit-highlight").concat(e," { stroke: ").concat(t["gitInv"+e],"; fill: ").concat(t["gitInv"+e],"; }\n        .label").concat(e,"  { fill: ").concat(t["git"+e],"; }\n        .arrow").concat(e," { stroke: ").concat(t["git"+e],"; }\n        ")})).join("\n"),"\n\n  .branch {\n    stroke-width: 1;\n    stroke: ").concat(t.lineColor,";\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ").concat(t.commitLabelFontSize,"; fill: ").concat(t.commitLabelColor,";}\n  .commit-label-bkg { font-size: ").concat(t.commitLabelFontSize,"; fill: ").concat(t.commitLabelBackground,"; opacity: 0.5; }\n  .tag-label { font-size: ").concat(t.tagLabelFontSize,"; fill: ").concat(t.tagLabelColor,";}\n  .tag-label-bkg { fill: ").concat(t.tagLabelBackground,"; stroke: ").concat(t.tagLabelBorder,"; }\n  .tag-hole { fill: ").concat(t.textColor,"; }\n\n  .commit-merge {\n    stroke: ").concat(t.primaryColor,";\n    fill: ").concat(t.primaryColor,";\n  }\n  .commit-reverse {\n    stroke: ").concat(t.primaryColor,";\n    fill: ").concat(t.primaryColor,";\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ").concat(t.primaryColor,";\n    fill: ").concat(t.primaryColor,";\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  }\n")},info:function(){return""},pie:function(t){return"\n  .pieCircle{\n    stroke: ".concat(t.pieStrokeColor,";\n    stroke-width : ").concat(t.pieStrokeWidth,";\n    opacity : ").concat(t.pieOpacity,";\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ").concat(t.pieTitleTextSize,";\n    fill: ").concat(t.pieTitleTextColor,";\n    font-family: ").concat(t.fontFamily,";\n  }\n  .slice {\n    font-family: ").concat(t.fontFamily,";\n    fill: ").concat(t.pieSectionTextColor,";\n    font-size:").concat(t.pieSectionTextSize,";\n    // fill: white;\n  }\n  .legend text {\n    fill: ").concat(t.pieLegendTextColor,";\n    font-family: ").concat(t.fontFamily,";\n    font-size: ").concat(t.pieLegendTextSize,";\n  }\n")},er:function(t){return"\n  .entityBox {\n    fill: ".concat(t.mainBkg,";\n    stroke: ").concat(t.nodeBorder,";\n  }\n\n  .attributeBoxOdd {\n    fill: #ffffff;\n    stroke: ").concat(t.nodeBorder,";\n  }\n\n  .attributeBoxEven {\n    fill: #f2f2f2;\n    stroke: ").concat(t.nodeBorder,";\n  }\n\n  .relationshipLabelBox {\n    fill: ").concat(t.tertiaryColor,";\n    opacity: 0.7;\n    background-color: ").concat(t.tertiaryColor,";\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ").concat(t.lineColor,";\n    }\n")},journey:function(t){return".label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ".concat(t.textColor,";\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ").concat(t.textColor,"\n  }\n\n  .legend {\n    fill: ").concat(t.textColor,";\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ").concat(t.textColor,"\n  }\n\n  .face {\n    ").concat(t.faceColor?"fill: ".concat(t.faceColor):"fill: #FFF8DC",";\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(t.mainBkg,";\n    stroke: ").concat(t.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(t.arrowheadColor,";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(t.lineColor,";\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(t.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(t.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ").concat(t.titleColor,";\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ").concat(t.tertiaryColor,";\n    border: 1px solid ").concat(t.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType0):"",";\n  }\n  .task-type-1, .section-type-1  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType1):"",";\n  }\n  .task-type-2, .section-type-2  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType2):"",";\n  }\n  .task-type-3, .section-type-3  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType3):"",";\n  }\n  .task-type-4, .section-type-4  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType4):"",";\n  }\n  .task-type-5, .section-type-5  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType5):"",";\n  }\n  .task-type-6, .section-type-6  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType6):"",";\n  }\n  .task-type-7, .section-type-7  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType7):"",";\n  }\n\n  .actor-0 {\n    ").concat(t.actor0?"fill: ".concat(t.actor0):"",";\n  }\n  .actor-1 {\n    ").concat(t.actor1?"fill: ".concat(t.actor1):"",";\n  }\n  .actor-2 {\n    ").concat(t.actor2?"fill: ".concat(t.actor2):"",";\n  }\n  .actor-3 {\n    ").concat(t.actor3?"fill: ".concat(t.actor3):"",";\n  }\n  .actor-4 {\n    ").concat(t.actor4?"fill: ".concat(t.actor4):"",";\n  }\n  .actor-5 {\n    ").concat(t.actor5?"fill: ".concat(t.actor5):"",";\n  }\n\n  }\n")},requirement:function(t){return"\n\n  marker {\n    fill: ".concat(t.relationColor,";\n    stroke: ").concat(t.relationColor,";\n  }\n\n  marker.cross {\n    stroke: ").concat(t.lineColor,";\n  }\n\n  svg {\n    font-family: ").concat(t.fontFamily,";\n    font-size: ").concat(t.fontSize,";\n  }\n\n  .reqBox {\n    fill: ").concat(t.requirementBackground,";\n    fill-opacity: 100%;\n    stroke: ").concat(t.requirementBorderColor,";\n    stroke-width: ").concat(t.requirementBorderSize,";\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ").concat(t.requirementTextColor,";\n  }\n  .reqLabelBox {\n    fill: ").concat(t.relationLabelBackground,";\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ").concat(t.requirementBorderColor,";\n    stroke-width: ").concat(t.requirementBorderSize,";\n  }\n  .relationshipLine {\n    stroke: ").concat(t.relationColor,";\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ").concat(t.relationLabelColor,";\n  }\n\n")},c4:function(t){return".person {\n    stroke: ".concat(t.personBorder,";\n    fill: ").concat(t.personBkg,";\n  }\n")}};function eu(t){return eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(t)}var nu=!1,ru=function(t){var e=t;return(e=(e=e.replace(//g,(function(){return"&#"}))).replace(//g,(function(){return"&"}))).replace(//g,(function(){return";"}))},iu={};function ou(t){var e;Ao.setConf(t.flowchart),No.setConf(t.flowchart),void 0!==t.sequenceDiagram&&ac.setConf(K(t.sequence,t.sequenceDiagram)),ac.setConf(t.sequence),ma.setConf(t.gantt),Nc.setConf(t.state),zc.setConf(t.state),ll.setConf(t.journey),e=t.class,Object.keys(e).forEach((function(t){Jl[t]=e[t]}))}var au=Object.freeze({render:function(t,e,n,r){Zt();var i=e.replace(/\r\n?/g,"\n"),o=Sn.detectInit(i);o&&(Cn(o),Kt(o));var s=Xt();a.debug(s),e.length>s.maxTextSize&&(i="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");var c=(0,l.select)("body");if(void 0!==r){if("sandbox"===s.securityLevel){var u=(0,l.select)("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");(c=(0,l.select)(u.nodes()[0].contentDocument.body)).node().style.margin=0}if(r.innerHTML="","sandbox"===s.securityLevel){var h=(0,l.select)(r).append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");(c=(0,l.select)(h.nodes()[0].contentDocument.body)).node().style.margin=0}else c=(0,l.select)(r);c.append("div").attr("id","d"+t).attr("style","font-family: "+s.fontFamily).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{var d,f=document.getElementById(t);if(f&&f.remove(),(d="sandbox"!==s.securityLevel?document.querySelector("#d"+t):document.querySelector("#i"+t))&&d.remove(),"sandbox"===s.securityLevel){var p=(0,l.select)("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");(c=(0,l.select)(p.nodes()[0].contentDocument.body)).node().style.margin=0}else c=(0,l.select)("body");c.append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}i=i.replace(/style.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})).replace(/classDef.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})).replace(/#\w+;/g,(function(t){var e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?""+e+"":""+e+""}));var g=new Xl(i),m=c.select("#d"+t).node(),y=g.type,b=m.firstChild,v=b.firstChild,_="";if(void 0!==s.themeCSS&&(_+="\n".concat(s.themeCSS)),void 0!==s.fontFamily&&(_+="\n:root { --mermaid-font-family: ".concat(s.fontFamily,"}")),void 0!==s.altFontFamily&&(_+="\n:root { --mermaid-alt-font-family: ".concat(s.altFontFamily,"}")),"flowchart"===y||"flowchart-v2"===y||"graph"===y){var x=Ao.getClasses(i,g),w=s.htmlLabels||s.flowchart.htmlLabels;for(var C in x)w?(_+="\n.".concat(C," > * { ").concat(x[C].styles.join(" !important; ")," !important; }"),_+="\n.".concat(C," span { ").concat(x[C].styles.join(" !important; ")," !important; }")):(_+="\n.".concat(C," path { ").concat(x[C].styles.join(" !important; ")," !important; }"),_+="\n.".concat(C," rect { ").concat(x[C].styles.join(" !important; ")," !important; }"),_+="\n.".concat(C," polygon { ").concat(x[C].styles.join(" !important; ")," !important; }"),_+="\n.".concat(C," ellipse { ").concat(x[C].styles.join(" !important; ")," !important; }"),_+="\n.".concat(C," circle { ").concat(x[C].styles.join(" !important; ")," !important; }"),x[C].textStyles&&(_+="\n.".concat(C," tspan { ").concat(x[C].textStyles.join(" !important; ")," !important; }")))}var E=function(t,e){return k(U("".concat(t,"{").concat(e,"}")),D)}("#".concat(t),function(t,e,n){return" {\n    font-family: ".concat(n.fontFamily,";\n    font-size: ").concat(n.fontSize,";\n    fill: ").concat(n.textColor,"\n  }\n\n  /* Classes common for multiple diagrams */\n\n  .error-icon {\n    fill: ").concat(n.errorBkgColor,";\n  }\n  .error-text {\n    fill: ").concat(n.errorTextColor,";\n    stroke: ").concat(n.errorTextColor,";\n  }\n\n  .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  .marker {\n    fill: ").concat(n.lineColor,";\n    stroke: ").concat(n.lineColor,";\n  }\n  .marker.cross {\n    stroke: ").concat(n.lineColor,";\n  }\n\n  svg {\n    font-family: ").concat(n.fontFamily,";\n    font-size: ").concat(n.fontSize,";\n  }\n\n  ").concat(tu[t](n),"\n\n  ").concat(e,"\n")}(y,_,s.themeVariables)),S=document.createElement("style");S.innerHTML="#".concat(t," ")+E,b.insertBefore(S,v);try{g.renderer.draw(i,t,X,g)}catch(e){throw function(t,e){try{a.debug("Renering svg for syntax error\n");var n=(0,l.select)("#"+t),r=n.append("g");r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1240).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),r.append("text").attr("class","error-text").attr("x",1050).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+e),n.attr("height",100),n.attr("width",400),n.attr("viewBox","768 0 512 512")}catch(t){a.error("Error while rendering info diagram"),a.error(t.message)}}(t,X),e}c.select('[id="'.concat(t,'"]')).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");var T=c.select("#d"+t).node().innerHTML;if(a.debug("cnf.arrowMarkerAbsolute",s.arrowMarkerAbsolute),s.arrowMarkerAbsolute&&"false"!==s.arrowMarkerAbsolute||"sandbox"===s.arrowMarkerAbsolute||(T=T.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),T=(T=ru(T)).replace(/<br>/g,"<br/>"),"sandbox"===s.securityLevel){var A=c.select("#d"+t+" svg").node(),M="100%";A&&(M=A.viewBox.baseVal.height+"px"),T='<iframe style="width:'.concat("100%",";height:").concat(M,';border:0;margin:0;" src="data:text/html;base64,').concat(btoa('<body style="margin:0">'+T+"</body>"),'" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The iframe tag is not supported by your browser.\n</iframe>')}else"loose"!==s.securityLevel&&(T=te().sanitize(T,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(void 0!==n)switch(y){case"flowchart":case"flowchart-v2":n(T,so.bindFunctions);break;case"gantt":n(T,fa.bindFunctions);break;case"class":case"classDiagram":n(T,hr.bindFunctions);break;default:n(T)}else a.debug("CB = undefined!");ys.forEach((function(t){t()})),ys=[];var F="sandbox"===s.securityLevel?"#i"+t:"#d"+t,O=(0,l.select)(F).node();return null!==O&&"function"==typeof O.remove&&(0,l.select)(F).node().remove(),T},parse:function(t,e){nu||(ql(),nu=!0);var n=!1;try{var r=e||new Xl(t);return r.db.clear(),r.parse(t)}catch(t){if(n=!0,!hu.parseError)throw t;null!=t.str?hu.parseError(t.str,t.hash):hu.parseError(t)}return!n},parseDirective:function(t,e,n,r){try{if(void 0!==e)switch(e=e.trim(),n){case"open_directive":iu={};break;case"type_directive":iu.type=e.toLowerCase();break;case"arg_directive":iu.args=JSON.parse(e);break;case"close_directive":(function(t,e,n){switch(a.debug("Directive type=".concat(e.type," with args:"),e.args),e.type){case"init":case"initialize":["config"].forEach((function(t){void 0!==e.args[t]&&("flowchart-v2"===n&&(n="flowchart"),e.args[n]=e.args[t],delete e.args[t])})),a.debug("sanitize in handleDirective",e.args),Cn(e.args),a.debug("sanitize in handleDirective (done)",e.args),Kt(e.args);break;case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap("wrap"===e.type);break;case"themeCss":a.warn("themeCss encountered");break;default:a.warn("Unhandled directive: source: '%%{".concat(e.type,": ").concat(JSON.stringify(e.args?e.args:{}),"}%%"),e)}})(t,iu,r),iu=null}}catch(t){a.error("Error while rendering sequenceDiagram directive: ".concat(e," jison context: ").concat(n)),a.error(t.message)}},initialize:function(t){var e;null!=t&&t.fontFamily&&(null!==(e=t.themeVariables)&&void 0!==e&&e.fontFamily||(t.themeVariables={fontFamily:t.fontFamily})),function(t){Yt=K({},t)}(t),null!=t&&t.theme&&Bt[t.theme]?t.themeVariables=Bt[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Bt.default.getThemeVariables(t.themeVariables));var n="object"===eu(t)?function(t){return Ut=K({},Wt),Ut=K(Ut,t),t.theme&&Bt[t.theme]&&(Ut.themeVariables=Bt[t.theme].getThemeVariables(t.themeVariables)),Vt=Ht(Ut,qt),Ut}(t):Gt();ou(n),s(n.logLevel),nu||(ql(),nu=!0)},getConfig:Xt,setConfig:function(t){return K(Vt,t),Xt()},getSiteConfig:Gt,updateSiteConfig:function(t){return Ut=K(Ut,t),Ht(Ut,qt),Ut},reset:function(){Zt()},globalReset:function(){Zt(),ou(Xt())},defaultConfig:Wt});s(Xt().logLevel),Zt(Xt());const su=au;var cu=function(){var t,e,n=su.getConfig();arguments.length>=2?(void 0!==arguments[0]&&(uu.sequenceConfig=arguments[0]),t=arguments[1]):t=arguments[0],"function"==typeof arguments[arguments.length-1]?(e=arguments[arguments.length-1],a.debug("Callback function found")):void 0!==n.mermaid&&("function"==typeof n.mermaid.callback?(e=n.mermaid.callback,a.debug("Callback function found")):a.debug("No Callback function found")),t=void 0===t?document.querySelectorAll(".mermaid"):"string"==typeof t?document.querySelectorAll(t):t instanceof window.Node?[t]:t,a.debug("Start On Load before: "+uu.startOnLoad),void 0!==uu.startOnLoad&&(a.debug("Start On Load inner: "+uu.startOnLoad),su.updateSiteConfig({startOnLoad:uu.startOnLoad})),void 0!==uu.ganttConfig&&su.updateSiteConfig({gantt:uu.ganttConfig});for(var r,i=new Sn.initIdGenerator(n.deterministicIds,n.deterministicIDSeed),o=function(n){var o=t[n];if(o.getAttribute("data-processed"))return"continue";o.setAttribute("data-processed",!0);var s="mermaid-".concat(i.next());r=o.innerHTML,r=Sn.entityDecode(r).trim().replace(/<br\s*\/?>/gi,"<br/>");var c=Sn.detectInit(r);c&&a.debug("Detected early reinit: ",c);try{su.render(s,r,(function(t,n){o.innerHTML=t,void 0!==e&&e(s),n&&n(o)}),o)}catch(t){throw a.warn("Catching Error (bootstrap)"),{error:t,message:t.str}}},s=0;s<t.length;s++)o(s)},lu=function(){uu.startOnLoad?su.getConfig().startOnLoad&&uu.init():void 0===uu.startOnLoad&&(a.debug("In start, no config"),su.getConfig().startOnLoad&&uu.init())};"undefined"!=typeof document&&window.addEventListener("load",(function(){lu()}),!1);var uu={startOnLoad:!0,htmlLabels:!0,diagrams:{},mermaidAPI:su,parse:null!=su?su.parse:null,render:null!=su?su.render:null,init:function(){try{cu.apply(void 0,arguments)}catch(t){a.warn("Syntax Error rendering"),a.warn(t.str),this.parseError&&this.parseError(t)}},initThrowsErrors:cu,initialize:function(t){void 0!==t.mermaid&&(void 0!==t.mermaid.startOnLoad&&(uu.startOnLoad=t.mermaid.startOnLoad),void 0!==t.mermaid.htmlLabels&&(uu.htmlLabels="false"!==t.mermaid.htmlLabels&&!1!==t.mermaid.htmlLabels)),su.initialize(t)},contentLoaded:lu,setParseErrorHandler:function(t){uu.parseError=t}};const hu=uu},4949:(t,e,n)=>{t.exports={graphlib:n(6614),dagre:n(6478),intersect:n(8114),render:n(5787),util:n(8355),version:n(5689)}},9144:(t,e,n)=>{var r=n(8355);function i(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}t.exports={default:i,normal:i,vee:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])},undirected:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}}},5632:(t,e,n)=>{var r=n(8355),i=n(4322),o=n(1322);t.exports=function(t,e){var n,a=e.nodes().filter((function(t){return r.isSubgraph(e,t)})),s=t.selectAll("g.cluster").data(a,(function(t){return t}));return s.selectAll("*").remove(),s.enter().append("g").attr("class","cluster").attr("id",(function(t){return e.node(t).id})).style("opacity",0),s=t.selectAll("g.cluster"),r.applyTransition(s,e).style("opacity",1),s.each((function(t){var n=e.node(t),r=i.select(this);i.select(this).append("rect");var a=r.append("g").attr("class","label");o(a,n,n.clusterLabelPos)})),s.selectAll("rect").each((function(t){var n=e.node(t),o=i.select(this);r.applyStyle(o,n.style)})),n=s.exit?s.exit():s.selectAll(null),r.applyTransition(n,e).style("opacity",0).remove(),s}},6315:(t,e,n)=>{var r=n(1034),i=n(1322),o=n(8355),a=n(4322);t.exports=function(t,e){var n,s=t.selectAll("g.edgeLabel").data(e.edges(),(function(t){return o.edgeToId(t)})).classed("update",!0);return s.exit().remove(),s.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(s=t.selectAll("g.edgeLabel")).each((function(t){var n=a.select(this);n.select(".label").remove();var o=e.edge(t),s=i(n,e.edge(t),0,0).classed("label",!0),c=s.node().getBBox();o.labelId&&s.attr("id",o.labelId),r.has(o,"width")||(o.width=c.width),r.has(o,"height")||(o.height=c.height)})),n=s.exit?s.exit():s.selectAll(null),o.applyTransition(n,e).style("opacity",0).remove(),s}},940:(t,e,n)=>{var r=n(1034),i=n(3042),o=n(8355),a=n(4322);function s(t,e){var n=(a.line||a.svg.line)().x((function(t){return t.x})).y((function(t){return t.y}));return(n.curve||n.interpolate)(t.curve),n(e)}t.exports=function(t,e,n){var c=t.selectAll("g.edgePath").data(e.edges(),(function(t){return o.edgeToId(t)})).classed("update",!0),l=function(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",(function(t){var n=e.edge(t),i=e.node(t.v).elem;return s(n,r.range(n.points.length).map((function(){return e=(t=i).getBBox(),{x:(n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2)).e,y:n.f};var t,e,n})))})),n.append("defs"),n}(c,e);!function(t,e){var n=t.exit();o.applyTransition(n,e).style("opacity",0).remove()}(c,e);var u=void 0!==c.merge?c.merge(l):c;return o.applyTransition(u,e).style("opacity",1),u.each((function(t){var n=a.select(this),r=e.edge(t);r.elem=this,r.id&&n.attr("id",r.id),o.applyClass(n,r.class,(n.classed("update")?"update ":"")+"edgePath")})),u.selectAll("path.path").each((function(t){var n=e.edge(t);n.arrowheadId=r.uniqueId("arrowhead");var c=a.select(this).attr("marker-end",(function(){return"url("+(t=location.href,e=n.arrowheadId,t.split("#")[0]+"#"+e+")");var t,e})).style("fill","none");o.applyTransition(c,e).attr("d",(function(t){return function(t,e){var n=t.edge(e),r=t.node(e.v),o=t.node(e.w),a=n.points.slice(1,n.points.length-1);return a.unshift(i(r,a[0])),a.push(i(o,a[a.length-1])),s(n,a)}(e,t)})),o.applyStyle(c,n.style)})),u.selectAll("defs *").remove(),u.selectAll("defs").each((function(t){var r=e.edge(t);(0,n[r.arrowhead])(a.select(this),r.arrowheadId,r,"arrowhead")})),u}},607:(t,e,n)=>{var r=n(1034),i=n(1322),o=n(8355),a=n(4322);t.exports=function(t,e,n){var s,c=e.nodes().filter((function(t){return!o.isSubgraph(e,t)})),l=t.selectAll("g.node").data(c,(function(t){return t})).classed("update",!0);return l.exit().remove(),l.enter().append("g").attr("class","node").style("opacity",0),(l=t.selectAll("g.node")).each((function(t){var s=e.node(t),c=a.select(this);o.applyClass(c,s.class,(c.classed("update")?"update ":"")+"node"),c.select("g.label").remove();var l=c.append("g").attr("class","label"),u=i(l,s),h=n[s.shape],d=r.pick(u.node().getBBox(),"width","height");s.elem=this,s.id&&c.attr("id",s.id),s.labelId&&l.attr("id",s.labelId),r.has(s,"width")&&(d.width=s.width),r.has(s,"height")&&(d.height=s.height),d.width+=s.paddingLeft+s.paddingRight,d.height+=s.paddingTop+s.paddingBottom,l.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")");var f=a.select(this);f.select(".label-container").remove();var p=h(f,d,s).classed("label-container",!0);o.applyStyle(p,s.style);var g=p.node().getBBox();s.width=g.width,s.height=g.height})),s=l.exit?l.exit():l.selectAll(null),o.applyTransition(s,e).style("opacity",0).remove(),l}},4322:(t,e,n)=>{var r;if(!r)try{r=n(7543)}catch(t){}r||(r=window.d3),t.exports=r},6478:(t,e,n)=>{var r;try{r=n(681)}catch(t){}r||(r=window.dagre),t.exports=r},6614:(t,e,n)=>{var r;try{r=n(8282)}catch(t){}r||(r=window.graphlib),t.exports=r},8114:(t,e,n)=>{t.exports={node:n(3042),circle:n(6587),ellipse:n(3260),polygon:n(5337),rect:n(8049)}},6587:(t,e,n)=>{var r=n(3260);t.exports=function(t,e,n){return r(t,e,e,n)}},3260:t=>{t.exports=function(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,s=o-r.y,c=Math.sqrt(e*e*s*s+n*n*a*a),l=Math.abs(e*n*a/c);r.x<i&&(l=-l);var u=Math.abs(e*n*s/c);return r.y<o&&(u=-u),{x:i+l,y:o+u}}},6808:t=>{function e(t,e){return t*e>0}t.exports=function(t,n,r,i){var o,a,s,c,l,u,h,d,f,p,g,m,y;if(o=n.y-t.y,s=t.x-n.x,l=n.x*t.y-t.x*n.y,f=o*r.x+s*r.y+l,p=o*i.x+s*i.y+l,!(0!==f&&0!==p&&e(f,p)||(a=i.y-r.y,c=r.x-i.x,u=i.x*r.y-r.x*i.y,h=a*t.x+c*t.y+u,d=a*n.x+c*n.y+u,0!==h&&0!==d&&e(h,d)||0==(g=o*c-a*s))))return m=Math.abs(g/2),{x:(y=s*u-c*l)<0?(y-m)/g:(y+m)/g,y:(y=a*l-o*u)<0?(y-m)/g:(y+m)/g}}},3042:t=>{t.exports=function(t,e){return t.intersect(e)}},5337:(t,e,n)=>{var r=n(6808);t.exports=function(t,e,n){var i=t.x,o=t.y,a=[],s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;e.forEach((function(t){s=Math.min(s,t.x),c=Math.min(c,t.y)}));for(var l=i-t.width/2-s,u=o-t.height/2-c,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=r(t,n,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort((function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,s=e.y-n.y,c=Math.sqrt(a*a+s*s);return o<c?-1:o===c?0:1})),a[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}},8049:t=>{t.exports=function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,c=t.width/2,l=t.height/2;return Math.abs(s)*c>Math.abs(a)*l?(s<0&&(l=-l),n=0===s?0:l*a/s,r=l):(a<0&&(c=-c),n=c,r=0===a?0:c*s/a),{x:i+n,y:o+r}}},8284:(t,e,n)=>{var r=n(8355);t.exports=function(t,e){var n=t.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var o=e.label;switch(typeof o){case"function":i.insert(o);break;case"object":i.insert((function(){return o}));break;default:i.html(o)}r.applyStyle(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var a=i.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n}},1322:(t,e,n)=>{var r=n(7318),i=n(8284),o=n(8287);t.exports=function(t,e,n){var a=e.label,s=t.append("g");"svg"===e.labelType?o(s,e):"string"!=typeof a||"html"===e.labelType?i(s,e):r(s,e);var c,l=s.node().getBBox();switch(n){case"top":c=-e.height/2;break;case"bottom":c=e.height/2-l.height;break;default:c=-l.height/2}return s.attr("transform","translate("+-l.width/2+","+c+")"),s}},8287:(t,e,n)=>{var r=n(8355);t.exports=function(t,e){var n=t;return n.node().appendChild(e.label),r.applyStyle(n,e.labelStyle),n}},7318:(t,e,n)=>{var r=n(8355);t.exports=function(t,e){for(var n=t.append("text"),i=function(t){for(var e,n="",r=!1,i=0;i<t.length;++i)e=t[i],r?(n+="n"===e?"\n":e,r=!1):"\\"===e?r=!0:n+=e;return n}(e.label).split("\n"),o=0;o<i.length;o++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[o]);return r.applyStyle(n,e.labelStyle),n}},1034:(t,e,n)=>{var r;try{r={defaults:n(1747),each:n(6073),isFunction:n(3560),isPlainObject:n(8630),pick:n(9722),has:n(8721),range:n(6026),uniqueId:n(3955)}}catch(t){}r||(r=window._),t.exports=r},6381:(t,e,n)=>{var r=n(8355),i=n(4322);t.exports=function(t,e){var n=t.filter((function(){return!i.select(this).classed("update")}));function o(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}n.attr("transform",o),r.applyTransition(t,e).style("opacity",1).attr("transform",o),r.applyTransition(n.selectAll("rect"),e).attr("width",(function(t){return e.node(t).width})).attr("height",(function(t){return e.node(t).height})).attr("x",(function(t){return-e.node(t).width/2})).attr("y",(function(t){return-e.node(t).height/2}))}},4577:(t,e,n)=>{var r=n(8355),i=n(4322),o=n(1034);t.exports=function(t,e){function n(t){var n=e.edge(t);return o.has(n,"x")?"translate("+n.x+","+n.y+")":""}t.filter((function(){return!i.select(this).classed("update")})).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},4849:(t,e,n)=>{var r=n(8355),i=n(4322);t.exports=function(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}t.filter((function(){return!i.select(this).classed("update")})).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},5787:(t,e,n)=>{var r=n(1034),i=n(4322),o=n(6478).layout;t.exports=function(){var t=n(607),e=n(5632),i=n(6315),l=n(940),u=n(4849),h=n(4577),d=n(6381),f=n(4418),p=n(9144),g=function(n,g){!function(t){t.nodes().forEach((function(e){var n=t.node(e);r.has(n,"label")||t.children(e).length||(n.label=e),r.has(n,"paddingX")&&r.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),r.has(n,"paddingY")&&r.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),r.has(n,"padding")&&r.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),r.defaults(n,a),r.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(t){n[t]=Number(n[t])})),r.has(n,"width")&&(n._prevWidth=n.width),r.has(n,"height")&&(n._prevHeight=n.height)})),t.edges().forEach((function(e){var n=t.edge(e);r.has(n,"label")||(n.label=""),r.defaults(n,s)}))}(g);var m=c(n,"output"),y=c(m,"clusters"),b=c(m,"edgePaths"),v=i(c(m,"edgeLabels"),g),_=t(c(m,"nodes"),g,f);o(g),u(_,g),h(v,g),l(b,g,p);var x=e(y,g);d(x,g),function(t){r.each(t.nodes(),(function(e){var n=t.node(e);r.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,r.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight}))}(g)};return g.createNodes=function(e){return arguments.length?(t=e,g):t},g.createClusters=function(t){return arguments.length?(e=t,g):e},g.createEdgeLabels=function(t){return arguments.length?(i=t,g):i},g.createEdgePaths=function(t){return arguments.length?(l=t,g):l},g.shapes=function(t){return arguments.length?(f=t,g):f},g.arrows=function(t){return arguments.length?(p=t,g):p},g};var a={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},s={arrowhead:"normal",curve:i.curveLinear};function c(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}},4418:(t,e,n)=>{var r=n(8049),i=n(3260),o=n(6587),a=n(5337);t.exports={rect:function(t,e,n){var i=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return r(n,t)},i},ellipse:function(t,e,n){var r=e.width/2,o=e.height/2,a=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",o);return n.intersect=function(t){return i(n,r,o,t)},a},circle:function(t,e,n){var r=Math.max(e.width,e.height)/2,i=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(t){return o(n,r,t)},i},diamond:function(t,e,n){var r=e.width*Math.SQRT2/2,i=e.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],s=t.insert("polygon",":first-child").attr("points",o.map((function(t){return t.x+","+t.y})).join(" "));return n.intersect=function(t){return a(n,o,t)},s}}},8355:(t,e,n)=>{var r=n(1034);t.exports={isSubgraph:function(t,e){return!!t.children(e).length},edgeToId:function(t){return o(t.v)+":"+o(t.w)+":"+o(t.name)},applyStyle:function(t,e){e&&t.attr("style",e)},applyClass:function(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))},applyTransition:function(t,e){var n=e.graph();if(r.isPlainObject(n)){var i=n.transition;if(r.isFunction(i))return i(t)}return t}};var i=/:/g;function o(t){return t?String(t).replace(i,"\\:"):""}},5689:t=>{t.exports="0.6.4"},681:(t,e,n)=>{t.exports={graphlib:n(574),layout:n(8123),debug:n(7570),util:{time:n(1138).time,notime:n(1138).notime},version:n(8177)}},2188:(t,e,n)=>{var r=n(8436),i=n(4079);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?i(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},i={};return r.forEach(t.nodes(),(function o(a){r.has(i,a)||(i[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):o(t.w)})),delete n[a])})),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},1133:(t,e,n)=>{var r=n(8436),i=n(1138);function o(t,e,n,r,o,a){var s={width:0,height:0,rank:a,borderType:e},c=o[e][a-1],l=i.addDummyNode(t,"border",s,n);o[e][a]=l,t.setParent(l,r),c&&t.setEdge(c,l,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var i=t.children(n),a=t.node(n);if(i.length&&r.forEach(i,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,c=a.maxRank+1;s<c;++s)o(t,"borderLeft","_bl",n,a,s),o(t,"borderRight","_br",n,a,s)}}))}},3258:(t,e,n)=>{var r=n(8436);function i(t){r.forEach(t.nodes(),(function(e){o(t.node(e))})),r.forEach(t.edges(),(function(e){o(t.edge(e))}))}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t),"lr"!==e&&"rl"!==e||(function(t){r.forEach(t.nodes(),(function(e){s(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(t),i(t))}}},7822:t=>{function e(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function r(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=e,e.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},e.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},e.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,r)),n=n._prev;return"["+t.join(", ")+"]"}},7570:(t,e,n)=>{var r=n(8436),i=n(1138),o=n(574).Graph;t.exports={debugOrdering:function(t){var e=i.buildLayerMatrix(t),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var i="layer"+e;n.setNode(i,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},574:(t,e,n)=>{var r;try{r=n(8282)}catch(t){}r||(r=window.graphlib),t.exports=r},4079:(t,e,n)=>{var r=n(8436),i=n(574).Graph,o=n(7822);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new i,a=0,s=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,i=e(t),o=r+i;n.setEdge(t.v,t.w,o),s=Math.max(s,n.node(t.v).out+=i),a=Math.max(a,n.node(t.w).in+=i)}));var l=r.range(s+a+3).map((function(){return new o})),u=a+1;return r.forEach(n.nodes(),(function(t){c(l,u,n.node(t))})),{graph:n,buckets:l,zeroIdx:u}}(t,e||a),l=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)s(t,e,n,r);for(;r=o.dequeue();)s(t,e,n,r);if(t.nodeCount())for(var c=e.length-2;c>0;--c)if(r=e[c].dequeue()){i=i.concat(s(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(l,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function s(t,e,n,i,o){var a=o?[]:void 0;return r.forEach(t.inEdges(i.v),(function(r){var i=t.edge(r),s=t.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,c(e,n,s)})),r.forEach(t.outEdges(i.v),(function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,c(e,n,a)})),t.removeNode(i.v),a}function c(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},8123:(t,e,n)=>{var r=n(8436),i=n(2188),o=n(5995),a=n(8093),s=n(1138).normalizeRanks,c=n(4219),l=n(1138).removeEmptyRanks,u=n(2981),h=n(1133),d=n(3258),f=n(3408),p=n(7873),g=n(1138),m=n(574).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new m({multigraph:!0,compound:!0}),n=E(t.graph());return e.setGraph(r.merge({},b,C(n,y),r.pick(n,v))),r.forEach(t.nodes(),(function(n){var i=E(t.node(n));e.setNode(n,r.defaults(C(i,_),x)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var i=E(t.edge(n));e.setEdge(n,r.merge({},k,C(i,w),r.pick(i,D)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){i.run(t)})),e("    nestingGraph.run",(function(){u.run(t)})),e("    rank",(function(){a(g.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};g.addDummyNode(t,"edge-proxy",i,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){l(t)})),e("    nestingGraph.cleanup",(function(){u.cleanup(t)})),e("    normalizeRanks",(function(){s(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=r.max(e,i.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){o.run(t)})),e("    parentDummyChains",(function(){c(t)})),e("    addBorderSegments",(function(){h(t)})),e("    order",(function(){f(t)})),e("    insertSelfEdges",(function(){!function(t){var e=g.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,i){var o=t.node(e);o.order=i+n,r.forEach(o.selfEdges,(function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:i+ ++n,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){d.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),o=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-i.y),n.x=a.x+n.width/2,n.y=i.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){o.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){d.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,c=a.marginy||0;function l(t){var r=t.x,a=t.y,s=t.width,c=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,a-c/2),o=Math.max(o,a+c/2)}r.forEach(t.nodes(),(function(e){l(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&l(n)})),e-=s,i-=c,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=i})),r.forEach(t.edges(),(function(n){var o=t.edge(n);r.forEach(o.points,(function(t){t.x-=e,t.y-=i})),r.has(o,"x")&&(o.x-=e),r.has(o,"y")&&(o.y-=i)})),a.width=n-e+s,a.height=o-i+c}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(g.intersectRect(o,n)),i.points.push(g.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){i.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))})),r.forEach(t.edges(),(function(n){var i=t.edge(n),o=e.edge(n);i.points=o.points,r.has(o,"x")&&(i.x=o.x,i.y=o.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},v=["acyclicer","ranker","rankdir","align"],_=["width","height"],x={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function C(t,e){return r.mapValues(r.pick(t,e),Number)}function E(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},8436:(t,e,n)=>{var r;try{r={cloneDeep:n(361),constant:n(5703),defaults:n(1747),each:n(6073),filter:n(3105),find:n(3311),flatten:n(5564),forEach:n(4486),forIn:n(2620),has:n(8721),isUndefined:n(2353),last:n(928),map:n(5161),mapValues:n(6604),max:n(6162),merge:n(3857),min:n(3632),minBy:n(2762),now:n(7771),pick:n(9722),range:n(6026),reduce:n(4061),sortBy:n(9734),uniqueId:n(3955),values:n(2628),zipObject:n(7287)}}catch(t){}r||(r=window._),t.exports=r},2981:(t,e,n)=>{var r=n(8436),i=n(1138);function o(t,e,n,a,s,c,l){var u=t.children(l);if(u.length){var h=i.addBorderNode(t,"_bt"),d=i.addBorderNode(t,"_bb"),f=t.node(l);t.setParent(h,l),f.borderTop=h,t.setParent(d,l),f.borderBottom=d,r.forEach(u,(function(r){o(t,e,n,a,s,c,r);var i=t.node(r),u=i.borderTop?i.borderTop:r,f=i.borderBottom?i.borderBottom:r,p=i.borderTop?a:2*a,g=u!==f?1:s-c[l]+1;t.setEdge(h,u,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(f,d,{weight:p,minlen:g,nestingEdge:!0})})),t.parent(l)||t.setEdge(e,h,{weight:0,minlen:s+c[l]})}else l!==e&&t.setEdge(e,l,{weight:0,minlen:n})}t.exports={run:function(t){var e=i.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};function n(i,o){var a=t.children(i);a&&a.length&&r.forEach(a,(function(t){n(t,o+1)})),e[i]=o}return r.forEach(t.children(),(function(t){n(t,1)})),e}(t),a=r.max(r.values(n))-1,s=2*a+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=s}));var c=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(r){o(t,e,s,c,a,n,r)})),t.graph().nodeRankFactor=s},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},5995:(t,e,n)=>{var r=n(8436),i=n(1138);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,o,a=e.v,s=t.node(a).rank,c=e.w,l=t.node(c).rank,u=e.name,h=t.edge(e),d=h.labelRank;if(l!==s+1){for(t.removeEdge(e),o=0,++s;s<l;++o,++s)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:e,rank:s},n=i.addDummyNode(t,"edge",r,"_d"),s===d&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),t.setEdge(a,n,{weight:h.weight},u),0===o&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,c,{weight:h.weight},u)}}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)}))}}},5093:(t,e,n)=>{var r=n(8436);t.exports=function(t,e,n){var i,o={};r.forEach(n,(function(n){for(var r,a,s=t.parent(n);s;){if((r=t.parent(s))?(a=o[r],o[r]=s):(a=i,i=s),a&&a!==s)return void e.setEdge(a,s);s=r}}))}},5439:(t,e,n)=>{var r=n(8436);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,(function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}}))}},3128:(t,e,n)=>{var r=n(8436),i=n(574).Graph;t.exports=function(t,e,n){var o=function(t){for(var e;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(i){var s=t.node(i),c=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(i),a.setParent(i,c||o),r.forEach(t[n](i),(function(e){var n=e.v===i?e.w:e.v,o=a.edge(n,i),s=r.isUndefined(o)?0:o.weight;a.setEdge(n,i,{weight:t.edge(e).weight+s})})),r.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}},6630:(t,e,n)=>{var r=n(8436);function i(t,e,n){for(var i=r.zipObject(n,r.map(n,(function(t,e){return e}))),o=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:i[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var c=r.map(new Array(s),(function(){return 0})),l=0;return r.forEach(o.forEach((function(t){var e=t.pos+a;c[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=c[e+1]),c[e=e-1>>1]+=t.weight;l+=t.weight*n}))),l}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=i(t,e[r-1],e[r]);return n}},3408:(t,e,n)=>{var r=n(8436),i=n(2588),o=n(6630),a=n(1026),s=n(3128),c=n(5093),l=n(574).Graph,u=n(1138);function h(t,e,n){return r.map(e,(function(e){return s(t,e,n)}))}function d(t,e){var n=new l;r.forEach(t,(function(t){var i=t.graph().root,o=a(t,i,n,e);r.forEach(o.vs,(function(e,n){t.node(e).order=n})),c(t,n,o.vs)}))}function f(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=u.maxRank(t),n=h(t,r.range(1,e+1),"inEdges"),a=h(t,r.range(e-1,-1,-1),"outEdges"),s=i(t);f(t,s);for(var c,l=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){d(p%2?n:a,p%4>=2),s=u.buildLayerMatrix(t);var m=o(t,s);m<l&&(g=0,c=r.cloneDeep(s),l=m)}f(t,c)}},2588:(t,e,n)=>{var r=n(8436);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),i=r.max(r.map(n,(function(e){return t.node(e).rank}))),o=r.map(r.range(i+1),(function(){return[]})),a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(i){if(!r.has(e,i)){e[i]=!0;var a=t.node(i);o[a.rank].push(i),r.forEach(t.successors(i),n)}})),o}},9567:(t,e,n)=>{var r=n(8436);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],i=n[t.w];r.isUndefined(e)||r.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){var n,i,o,a;e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&(i=e,o=0,a=0,(n=t).weight&&(o+=n.barycenter*n.weight,a+=n.weight),i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),n.vs=i.vs.concat(n.vs),n.barycenter=o/a,n.weight=a,n.i=Math.min(i.i,n.i),i.merged=!0)}}function i(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var o=t.pop();e.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,i(o))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},1026:(t,e,n)=>{var r=n(8436),i=n(5439),o=n(9567),a=n(7304);t.exports=function t(e,n,s,c){var l=e.children(n),u=e.node(n),h=u?u.borderLeft:void 0,d=u?u.borderRight:void 0,f={};h&&(l=r.filter(l,(function(t){return t!==h&&t!==d})));var p=i(e,l);r.forEach(p,(function(n){if(e.children(n.v).length){var i=t(e,n.v,s,c);f[n.v]=i,r.has(i,"barycenter")&&(o=n,a=i,r.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var g=o(p,s);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(g,f);var m=a(g,c);if(h&&(m.vs=r.flatten([h,m.vs,d],!0),e.predecessors(h).length)){var y=e.node(e.predecessors(h)[0]),b=e.node(e.predecessors(d)[0]);r.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.order+b.order)/(m.weight+2),m.weight+=2}return m}},7304:(t,e,n)=>{var r=n(8436),i=n(1138);function o(t,e,n){for(var i;e.length&&(i=r.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}t.exports=function(t,e){var n,a=i.partition(t,(function(t){return r.has(t,"barycenter")})),s=a.lhs,c=r.sortBy(a.rhs,(function(t){return-t.i})),l=[],u=0,h=0,d=0;s.sort((n=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i})),d=o(l,c,d),r.forEach(s,(function(t){d+=t.vs.length,l.push(t.vs),u+=t.barycenter*t.weight,h+=t.weight,d=o(l,c,d)}));var f={vs:r.flatten(l,!0)};return h&&(f.barycenter=u/h,f.weight=h),f}},4219:(t,e,n)=>{var r=n(8436);t.exports=function(t){var e=function(t){var e={},n=0;return r.forEach(t.children(),(function i(o){var a=n;r.forEach(t.children(o),i),e[o]={low:a,lim:n++}})),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],c=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>c||l>e[i].lim));for(o=i,i=r;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,c=0,l=a[c],u=!0;n!==i.w;){if(r=t.node(n),u){for(;(l=a[c])!==s&&t.node(l).maxRank<r.rank;)c++;l===s&&(u=!1)}if(!u){for(;c<a.length-1&&t.node(l=a[c+1]).minRank<=r.rank;)c++;l=a[c]}t.setParent(n,l),n=t.successors(n)[0]}}))}},3573:(t,e,n)=>{var r=n(8436),i=n(574).Graph,o=n(1138);function a(t,e){var n={};return r.reduce(e,(function(e,i){var o=0,a=0,s=e.length,l=r.last(i);return r.forEach(i,(function(e,u){var h=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),d=h?t.node(h).order:s;(h||e===l)&&(r.forEach(i.slice(a,u+1),(function(e){r.forEach(t.predecessors(e),(function(r){var i=t.node(r),a=i.order;!(a<o||d<a)||i.dummy&&t.node(e).dummy||c(n,r,e)}))})),a=u+1,o=d)})),i})),n}function s(t,e){var n={};function i(e,i,o,a,s){var l;r.forEach(r.range(i,o),(function(i){l=e[i],t.node(l).dummy&&r.forEach(t.predecessors(l),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>s)&&c(n,e,l)}))}))}return r.reduce(e,(function(e,n){var o,a=-1,s=0;return r.forEach(n,(function(r,c){if("border"===t.node(r).dummy){var l=t.predecessors(r);l.length&&(o=t.node(l[0]).order,i(n,s,c,a,o),s=c,a=o)}i(n,s,n.length,o,e.length)})),n})),n}function c(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function l(t,e,n){if(e>n){var i=e;e=n,n=i}return r.has(t[e],n)}function u(t,e,n,i){var o={},a={},s={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){o[t]=t,a[t]=t,s[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var c=i(t);if(c.length){c=r.sortBy(c,(function(t){return s[t]}));for(var u=(c.length-1)/2,h=Math.floor(u),d=Math.ceil(u);h<=d;++h){var f=c[h];a[t]===t&&e<s[f]&&!l(n,t,f)&&(a[f]=t,a[t]=o[t]=o[f],e=s[f])}}}))})),{root:o,align:a}}function h(t,e,n,o,a){var s={},c=function(t,e,n,o){var a=new i,s=t.graph(),c=function(t,e,n){return function(i,o,a){var s,c=i.node(o),l=i.node(a),u=0;if(u+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=-c.width/2;break;case"r":s=c.width/2}if(s&&(u+=n?s:-s),s=0,u+=(c.dummy?e:t)/2,u+=(l.dummy?e:t)/2,u+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=l.width/2;break;case"r":s=-l.width/2}return s&&(u+=n?s:-s),s=0,u}}(s.nodesep,s.edgesep,o);return r.forEach(e,(function(e){var i;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),i){var o=n[i],s=a.edge(o,r);a.setEdge(o,r,Math.max(c(t,e,i),s||0))}i=e}))})),a}(t,e,n,a),l=a?"borderLeft":"borderRight";function u(t,e){for(var n=c.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return u((function(t){s[t]=c.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+c.edge(e))}),0)}),c.predecessors.bind(c)),u((function(e){var n=c.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-c.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==l&&(s[e]=Math.max(s[e],n))}),c.successors.bind(c)),r.forEach(o,(function(t){s[t]=s[n[t]]})),s}function d(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var o=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+o,n),i=Math.min(e-o,i)})),n-i}))}function f(t,e){var n=r.values(e),i=r.min(n),o=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,c=n+a,l=t[c];if(l!==e){var u=r.values(l);(s="l"===a?i-r.min(u):o-r.max(u))&&(t[c]=r.mapValues(l,(function(t){return t+s})))}}))}))}function p(t,e){return r.mapValues(t.ul,(function(n,i){if(e)return t[e.toLowerCase()][i];var o=r.sortBy(r.map(t,i));return(o[1]+o[2])/2}))}t.exports={positionX:function(t){var e,n=o.buildLayerMatrix(t),i=r.merge(a(t,n),s(t,n)),c={};r.forEach(["u","d"],(function(o){e="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===o?t.predecessors:t.successors).bind(t),s=u(0,e,i,a),l=h(t,e,s.root,s.align,"r"===n);"r"===n&&(l=r.mapValues(l,(function(t){return-t}))),c[o+n]=l}))}));var l=d(t,c);return f(c,l),p(c,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:c,hasConflict:l,verticalAlignment:u,horizontalCompaction:h,alignCoordinates:f,findSmallestWidthAlignment:d,balance:p}},7873:(t,e,n)=>{var r=n(8436),i=n(1138),o=n(3573).positionX;t.exports=function(t){(function(t){var e=i.buildLayerMatrix(t),n=t.graph().ranksep,o=0;r.forEach(e,(function(e){var i=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=o+i/2})),o+=i+n}))})(t=i.asNonCompoundGraph(t)),r.forEach(o(t),(function(e,n){t.node(n).x=e}))}},300:(t,e,n)=>{var r=n(8436),i=n(574).Graph,o=n(6681).slack;function a(t,e){return r.forEach(t.nodes(),(function n(i){r.forEach(e.nodeEdges(i),(function(r){var a=r.v,s=i===a?r.w:a;t.hasNode(s)||o(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))}))})),t.nodeCount()}function s(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return o(e,n)}))}function c(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new i({directed:!1}),l=t.nodes()[0],u=t.nodeCount();for(r.setNode(l,{});a(r,t)<u;)e=s(r,t),n=r.hasNode(e.v)?o(t,e):-o(t,e),c(r,t,n);return r}},8093:(t,e,n)=>{var r=n(6681).longestPath,i=n(300),o=n(2472);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":default:!function(t){o(t)}(t);break;case"tight-tree":!function(t){r(t),i(t)}(t);break;case"longest-path":a(t)}};var a=r},2472:(t,e,n)=>{var r=n(8436),i=n(300),o=n(6681).slack,a=n(6681).longestPath,s=n(574).alg.preorder,c=n(574).alg.postorder,l=n(1138).simplify;function u(t){t=l(t),a(t);var e,n=i(t);for(f(n),h(n,t);e=g(n);)y(n,t,e,m(n,t,e))}function h(t,e){var n=c(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=d(t,e,n)}(t,e,n)}))}function d(t,e,n){var i=t.node(n).parent,o=!0,a=e.edge(n,i),s=0;return a||(o=!1,a=e.edge(i,n)),s=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,c,l=r.v===n,u=l?r.w:r.v;if(u!==i){var h=l===o,d=e.edge(r).weight;if(s+=h?d:-d,a=n,c=u,t.hasEdge(a,c)){var f=t.edge(n,u).cutvalue;s+=h?-f:f}}})),s}function f(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,n,i,o){var a=n,s=t.node(i);return e[i]=!0,r.forEach(t.neighbors(i),(function(o){r.has(e,o)||(n=p(t,e,n,o,i))})),s.low=a,s.lim=n++,o?s.parent=o:delete s.parent,n}function g(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function m(t,e,n){var i=n.v,a=n.w;e.hasEdge(i,a)||(i=n.w,a=n.v);var s=t.node(i),c=t.node(a),l=s,u=!1;s.lim>c.lim&&(l=c,u=!0);var h=r.filter(e.edges(),(function(e){return u===b(0,t.node(e.v),l)&&u!==b(0,t.node(e.w),l)}));return r.minBy(h,(function(t){return o(e,t)}))}function y(t,e,n,i){var o=n.v,a=n.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),f(t),h(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),i=s(t,n);i=i.slice(1),r.forEach(i,(function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)}))}(t,e)}function b(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=u,u.initLowLimValues=f,u.initCutValues=h,u.calcCutValue=d,u.leaveEdge=g,u.enterEdge=m,u.exchangeEdges=y},6681:(t,e,n)=>{var r=n(8436);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(i){var o=t.node(i);if(r.has(e,i))return o.rank;e[i]=!0;var a=r.min(r.map(t.outEdges(i),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),o.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},1138:(t,e,n)=>{var r=n(8436),i=n(574).Graph;function o(t,e,n,i){var o;do{o=r.uniqueId(i)}while(t.hasNode(o));return n.dummy=e,t.setNode(o,n),o}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:o,simplify:function(t){var e=(new i).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),e},asNonCompoundGraph:function(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,c=t.width/2,l=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*c>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(c=-c),n=c,r=c*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var i=t.node(n),o=i.rank;r.isUndefined(o)||(e[o][i.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var i=t.node(n);r.has(i,"rank")&&(i.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)}));var i=0,o=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%o!=0?--i:i&&r.forEach(e,(function(e){t.node(e).rank+=i}))}))},addBorderNode:function(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),o(t,"border",i,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},8177:t=>{t.exports="0.8.5"},7856:function(t){t.exports=function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function r(t,i,o){return r=n()?Reflect.construct:function(t,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(t,i));return r&&e(o,r.prototype),o},r.apply(null,arguments)}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a=Object.hasOwnProperty,s=Object.setPrototypeOf,c=Object.isFrozen,l=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,h=Object.freeze,d=Object.seal,f=Object.create,p="undefined"!=typeof Reflect&&Reflect,g=p.apply,m=p.construct;g||(g=function(t,e,n){return t.apply(e,n)}),h||(h=function(t){return t}),d||(d=function(t){return t}),m||(m=function(t,e){return r(t,i(e))});var y,b=T(Array.prototype.forEach),v=T(Array.prototype.pop),_=T(Array.prototype.push),x=T(String.prototype.toLowerCase),w=T(String.prototype.match),k=T(String.prototype.replace),D=T(String.prototype.indexOf),C=T(String.prototype.trim),E=T(RegExp.prototype.test),S=(y=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m(y,e)});function T(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return g(t,e,r)}}function A(t,e,n){n=n||x,s&&s(t,null);for(var r=e.length;r--;){var i=e[r];if("string"==typeof i){var o=n(i);o!==i&&(c(e)||(e[r]=o),i=o)}t[i]=!0}return t}function M(t){var e,n=f(null);for(e in t)g(a,t,[e])&&(n[e]=t[e]);return n}function F(t,e){for(;null!==t;){var n=u(t,e);if(n){if(n.get)return T(n.get);if("function"==typeof n.value)return T(n.value)}t=l(t)}return function(t){return console.warn("fallback value for",t),null}}var O=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),B=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=h(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),R=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=h(["#text"]),j=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Y=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=d(/<%[\w\W]*|[\w\W]*%>/gm),q=d(/^data-[\-\w.\u00B7-\uFFFF]/),V=d(/^aria-[\-\w]+$/),H=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=d(/^(?:\w+script|data):/i),X=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=d(/^html$/i),K=function(){return"undefined"==typeof window?null:window},Z=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(),r=function(t){return e(t)};if(r.version="2.3.10",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;var o=n.document,a=n.document,s=n.DocumentFragment,c=n.HTMLTemplateElement,l=n.Node,u=n.Element,d=n.NodeFilter,f=n.NamedNodeMap,p=void 0===f?n.NamedNodeMap||n.MozNamedAttrMap:f,g=n.HTMLFormElement,m=n.DOMParser,y=n.trustedTypes,T=u.prototype,Q=F(T,"cloneNode"),tt=F(T,"nextSibling"),et=F(T,"childNodes"),nt=F(T,"parentNode");if("function"==typeof c){var rt=a.createElement("template");rt.content&&rt.content.ownerDocument&&(a=rt.content.ownerDocument)}var it=Z(y,o),ot=it?it.createHTML(""):"",at=a,st=at.implementation,ct=at.createNodeIterator,lt=at.createDocumentFragment,ut=at.getElementsByTagName,ht=o.importNode,dt={};try{dt=M(a).documentMode?a.documentMode:{}}catch(t){}var ft={};r.isSupported="function"==typeof nt&&st&&void 0!==st.createHTMLDocument&&9!==dt;var pt,gt,mt=W,yt=U,bt=q,vt=V,_t=G,xt=X,wt=H,kt=null,Dt=A({},[].concat(i(O),i(N),i(B),i(L),i(P))),Ct=null,Et=A({},[].concat(i(j),i(z),i($),i(Y))),St=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tt=null,At=null,Mt=!0,Ft=!0,Ot=!1,Nt=!1,Bt=!1,It=!1,Lt=!1,Rt=!1,Pt=!1,jt=!1,zt=!0,$t=!0,Yt=!1,Wt={},Ut=null,qt=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Vt=null,Ht=A({},["audio","video","img","source","image","track"]),Gt=null,Xt=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Jt="http://www.w3.org/1998/Math/MathML",Kt="http://www.w3.org/2000/svg",Zt="http://www.w3.org/1999/xhtml",Qt=Zt,te=!1,ee=["application/xhtml+xml","text/html"],ne="text/html",re=null,ie=a.createElement("form"),oe=function(t){return t instanceof RegExp||t instanceof Function},ae=function(e){re&&re===e||(e&&"object"===t(e)||(e={}),e=M(e),pt=pt=-1===ee.indexOf(e.PARSER_MEDIA_TYPE)?ne:e.PARSER_MEDIA_TYPE,gt="application/xhtml+xml"===pt?function(t){return t}:x,kt="ALLOWED_TAGS"in e?A({},e.ALLOWED_TAGS,gt):Dt,Ct="ALLOWED_ATTR"in e?A({},e.ALLOWED_ATTR,gt):Et,Gt="ADD_URI_SAFE_ATTR"in e?A(M(Xt),e.ADD_URI_SAFE_ATTR,gt):Xt,Vt="ADD_DATA_URI_TAGS"in e?A(M(Ht),e.ADD_DATA_URI_TAGS,gt):Ht,Ut="FORBID_CONTENTS"in e?A({},e.FORBID_CONTENTS,gt):qt,Tt="FORBID_TAGS"in e?A({},e.FORBID_TAGS,gt):{},At="FORBID_ATTR"in e?A({},e.FORBID_ATTR,gt):{},Wt="USE_PROFILES"in e&&e.USE_PROFILES,Mt=!1!==e.ALLOW_ARIA_ATTR,Ft=!1!==e.ALLOW_DATA_ATTR,Ot=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Nt=e.SAFE_FOR_TEMPLATES||!1,Bt=e.WHOLE_DOCUMENT||!1,Rt=e.RETURN_DOM||!1,Pt=e.RETURN_DOM_FRAGMENT||!1,jt=e.RETURN_TRUSTED_TYPE||!1,Lt=e.FORCE_BODY||!1,zt=!1!==e.SANITIZE_DOM,$t=!1!==e.KEEP_CONTENT,Yt=e.IN_PLACE||!1,wt=e.ALLOWED_URI_REGEXP||wt,Qt=e.NAMESPACE||Zt,e.CUSTOM_ELEMENT_HANDLING&&oe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(St.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&oe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(St.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(St.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Nt&&(Ft=!1),Pt&&(Rt=!0),Wt&&(kt=A({},i(P)),Ct=[],!0===Wt.html&&(A(kt,O),A(Ct,j)),!0===Wt.svg&&(A(kt,N),A(Ct,z),A(Ct,Y)),!0===Wt.svgFilters&&(A(kt,B),A(Ct,z),A(Ct,Y)),!0===Wt.mathMl&&(A(kt,L),A(Ct,$),A(Ct,Y))),e.ADD_TAGS&&(kt===Dt&&(kt=M(kt)),A(kt,e.ADD_TAGS,gt)),e.ADD_ATTR&&(Ct===Et&&(Ct=M(Ct)),A(Ct,e.ADD_ATTR,gt)),e.ADD_URI_SAFE_ATTR&&A(Gt,e.ADD_URI_SAFE_ATTR,gt),e.FORBID_CONTENTS&&(Ut===qt&&(Ut=M(Ut)),A(Ut,e.FORBID_CONTENTS,gt)),$t&&(kt["#text"]=!0),Bt&&A(kt,["html","head","body"]),kt.table&&(A(kt,["tbody"]),delete Tt.tbody),h&&h(e),re=e)},se=A({},["mi","mo","mn","ms","mtext"]),ce=A({},["foreignobject","desc","title","annotation-xml"]),le=A({},["title","style","font","a","script"]),ue=A({},N);A(ue,B),A(ue,I);var he=A({},L);A(he,R);var de=function(t){var e=nt(t);e&&e.tagName||(e={namespaceURI:Zt,tagName:"template"});var n=x(t.tagName),r=x(e.tagName);return t.namespaceURI===Kt?e.namespaceURI===Zt?"svg"===n:e.namespaceURI===Jt?"svg"===n&&("annotation-xml"===r||se[r]):Boolean(ue[n]):t.namespaceURI===Jt?e.namespaceURI===Zt?"math"===n:e.namespaceURI===Kt?"math"===n&&ce[r]:Boolean(he[n]):t.namespaceURI===Zt&&!(e.namespaceURI===Kt&&!ce[r])&&!(e.namespaceURI===Jt&&!se[r])&&!he[n]&&(le[n]||!ue[n])},fe=function(t){_(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=ot}catch(e){t.remove()}}},pe=function(t,e){try{_(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){_(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Ct[t])if(Rt||Pt)try{fe(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ge=function(t){var e,n;if(Lt)t="<remove></remove>"+t;else{var r=w(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===pt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var i=it?it.createHTML(t):t;if(Qt===Zt)try{e=(new m).parseFromString(i,pt)}catch(t){}if(!e||!e.documentElement){e=st.createDocument(Qt,"template",null);try{e.documentElement.innerHTML=te?"":i}catch(t){}}var o=e.body||e.documentElement;return t&&n&&o.insertBefore(a.createTextNode(n),o.childNodes[0]||null),Qt===Zt?ut.call(e,Bt?"html":"body")[0]:Bt?e.documentElement:o},me=function(t){return ct.call(t.ownerDocument||t,t,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},ye=function(t){return t instanceof g&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof p)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},be=function(e){return"object"===t(l)?e instanceof l:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ve=function(t,e,n){ft[t]&&b(ft[t],(function(t){t.call(r,e,n,re)}))},_e=function(t){var e;if(ve("beforeSanitizeElements",t,null),ye(t))return fe(t),!0;if(E(/[\u0080-\uFFFF]/,t.nodeName))return fe(t),!0;var n=gt(t.nodeName);if(ve("uponSanitizeElement",t,{tagName:n,allowedTags:kt}),t.hasChildNodes()&&!be(t.firstElementChild)&&(!be(t.content)||!be(t.content.firstElementChild))&&E(/<[/\w]/g,t.innerHTML)&&E(/<[/\w]/g,t.textContent))return fe(t),!0;if("select"===n&&E(/<template/i,t.innerHTML))return fe(t),!0;if(!kt[n]||Tt[n]){if(!Tt[n]&&we(n)){if(St.tagNameCheck instanceof RegExp&&E(St.tagNameCheck,n))return!1;if(St.tagNameCheck instanceof Function&&St.tagNameCheck(n))return!1}if($t&&!Ut[n]){var i=nt(t)||t.parentNode,o=et(t)||t.childNodes;if(o&&i)for(var a=o.length-1;a>=0;--a)i.insertBefore(Q(o[a],!0),tt(t))}return fe(t),!0}return t instanceof u&&!de(t)?(fe(t),!0):"noscript"!==n&&"noembed"!==n||!E(/<\/no(script|embed)/i,t.innerHTML)?(Nt&&3===t.nodeType&&(e=t.textContent,e=k(e,mt," "),e=k(e,yt," "),t.textContent!==e&&(_(r.removed,{element:t.cloneNode()}),t.textContent=e)),ve("afterSanitizeElements",t,null),!1):(fe(t),!0)},xe=function(t,e,n){if(zt&&("id"===e||"name"===e)&&(n in a||n in ie))return!1;if(Ft&&!At[e]&&E(bt,e));else if(Mt&&E(vt,e));else if(!Ct[e]||At[e]){if(!(we(t)&&(St.tagNameCheck instanceof RegExp&&E(St.tagNameCheck,t)||St.tagNameCheck instanceof Function&&St.tagNameCheck(t))&&(St.attributeNameCheck instanceof RegExp&&E(St.attributeNameCheck,e)||St.attributeNameCheck instanceof Function&&St.attributeNameCheck(e))||"is"===e&&St.allowCustomizedBuiltInElements&&(St.tagNameCheck instanceof RegExp&&E(St.tagNameCheck,n)||St.tagNameCheck instanceof Function&&St.tagNameCheck(n))))return!1}else if(Gt[e]);else if(E(wt,k(n,xt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==D(n,"data:")||!Vt[t])if(Ot&&!E(_t,k(n,xt,"")));else if(n)return!1;return!0},we=function(t){return t.indexOf("-")>0},ke=function(e){var n,i,o,a;ve("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ct};for(a=s.length;a--;){var l=n=s[a],u=l.name,h=l.namespaceURI;if(i="value"===u?n.value:C(n.value),o=gt(u),c.attrName=o,c.attrValue=i,c.keepAttr=!0,c.forceKeepAttr=void 0,ve("uponSanitizeAttribute",e,c),i=c.attrValue,!c.forceKeepAttr&&(pe(u,e),c.keepAttr))if(E(/\/>/i,i))pe(u,e);else{Nt&&(i=k(i,mt," "),i=k(i,yt," "));var d=gt(e.nodeName);if(xe(d,o,i)){if(it&&"object"===t(y)&&"function"==typeof y.getAttributeType)if(h);else switch(y.getAttributeType(d,o)){case"TrustedHTML":i=it.createHTML(i);break;case"TrustedScriptURL":i=it.createScriptURL(i)}try{h?e.setAttributeNS(h,u,i):e.setAttribute(u,i),v(r.removed)}catch(t){}}}}ve("afterSanitizeAttributes",e,null)}},De=function t(e){var n,r=me(e);for(ve("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ve("uponSanitizeShadowNode",n,null),_e(n)||(n.content instanceof s&&t(n.content),ke(n));ve("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(e,i){var a,c,u,h,d;if((te=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!be(e)){if("function"!=typeof e.toString)throw S("toString is not a function");if("string"!=typeof(e=e.toString()))throw S("dirty is not a string, aborting")}if(!r.isSupported){if("object"===t(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof e)return n.toStaticHTML(e);if(be(e))return n.toStaticHTML(e.outerHTML)}return e}if(It||ae(i),r.removed=[],"string"==typeof e&&(Yt=!1),Yt){if(e.nodeName){var f=gt(e.nodeName);if(!kt[f]||Tt[f])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)1===(c=(a=ge("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?a=c:a.appendChild(c);else{if(!Rt&&!Nt&&!Bt&&-1===e.indexOf("<"))return it&&jt?it.createHTML(e):e;if(!(a=ge(e)))return Rt?null:jt?ot:""}a&&Lt&&fe(a.firstChild);for(var p=me(Yt?e:a);u=p.nextNode();)3===u.nodeType&&u===h||_e(u)||(u.content instanceof s&&De(u.content),ke(u),h=u);if(h=null,Yt)return e;if(Rt){if(Pt)for(d=lt.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return Ct.shadowroot&&(d=ht.call(o,d,!0)),d}var g=Bt?a.outerHTML:a.innerHTML;return Bt&&kt["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&E(J,a.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+g),Nt&&(g=k(g,mt," "),g=k(g,yt," ")),it&&jt?it.createHTML(g):g},r.setConfig=function(t){ae(t),It=!0},r.clearConfig=function(){re=null,It=!1},r.isValidAttribute=function(t,e,n){re||ae({});var r=gt(t),i=gt(e);return xe(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(ft[t]=ft[t]||[],_(ft[t],e))},r.removeHook=function(t){if(ft[t])return v(ft[t])},r.removeHooks=function(t){ft[t]&&(ft[t]=[])},r.removeAllHooks=function(){ft={}},r}()}()},8282:(t,e,n)=>{var r=n(2354);t.exports={Graph:r.Graph,json:n(8974),alg:n(2440),version:r.version}},2842:(t,e,n)=>{var r=n(9126);t.exports=function(t){var e,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,e.push(i),r.each(t.successors(i),o),r.each(t.predecessors(i),o))}return r.each(t.nodes(),(function(t){e=[],o(t),e.length&&i.push(e)})),i}},3984:(t,e,n)=>{var r=n(9126);function i(t,e,n,o,a,s){r.has(o,e)||(o[e]=!0,n||s.push(e),r.each(a(e),(function(e){i(t,e,n,o,a,s)})),n&&s.push(e))}t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],s={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);i(t,e,"post"===n,s,o,a)})),a}},4847:(t,e,n)=>{var r=n(3763),i=n(9126);t.exports=function(t,e,n){return i.transform(t.nodes(),(function(i,o){i[o]=r(t,o,e,n)}),{})}},3763:(t,e,n)=>{var r=n(9126),i=n(9675);t.exports=function(t,e,n,r){return function(t,e,n,r){var o,a,s={},c=new i,l=function(t){var e=t.v!==o?t.v:t.w,r=s[e],i=n(t),l=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);l<r.distance&&(r.distance=l,r.predecessor=o,c.decrease(e,l))};for(t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},c.add(t,n)}));c.size()>0&&(o=c.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(l);return s}(t,String(e),n||o,r||function(e){return t.outEdges(e)})};var o=r.constant(1)},9096:(t,e,n)=>{var r=n(9126),i=n(5023);t.exports=function(t){return r.filter(i(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},8924:(t,e,n)=>{var r=n(9126);t.exports=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach((function(t){r[t]={},r[t][t]={distance:0},i.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}}))})),i.forEach((function(t){var e=r[t];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(t,e||i,n||function(e){return t.outEdges(e)})};var i=r.constant(1)},2440:(t,e,n)=>{t.exports={components:n(2842),dijkstra:n(3763),dijkstraAll:n(4847),findCycles:n(9096),floydWarshall:n(8924),isAcyclic:n(2707),postorder:n(8828),preorder:n(2648),prim:n(514),tarjan:n(5023),topsort:n(2166)}},2707:(t,e,n)=>{var r=n(2166);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},8828:(t,e,n)=>{var r=n(3984);t.exports=function(t,e){return r(t,e,"post")}},2648:(t,e,n)=>{var r=n(3984);t.exports=function(t,e){return r(t,e,"pre")}},514:(t,e,n)=>{var r=n(9126),i=n(771),o=n(9675);t.exports=function(t,e){var n,a=new i,s={},c=new o;function l(t){var r=t.v===n?t.w:t.v,i=c.priority(r);if(void 0!==i){var o=e(t);o<i&&(s[r]=n,c.decrease(r,o))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){c.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),c.decrease(t.nodes()[0],0);for(var u=!1;c.size()>0;){if(n=c.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(u)throw new Error("Input graph is not connected: "+t);u=!0}t.nodeEdges(n).forEach(l)}return a}},5023:(t,e,n)=>{var r=n(9126);t.exports=function(t){var e=0,n=[],i={},o=[];function a(s){var c=i[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){r.has(i,t)?i[t].onStack&&(c.lowlink=Math.min(c.lowlink,i[t].index)):(a(t),c.lowlink=Math.min(c.lowlink,i[t].lowlink))})),c.lowlink===c.index){var l,u=[];do{l=n.pop(),i[l].onStack=!1,u.push(l)}while(s!==l);o.push(u)}}return t.nodes().forEach((function(t){r.has(i,t)||a(t)})),o}},2166:(t,e,n)=>{var r=n(9126);function i(t){var e={},n={},i=[];if(r.each(t.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),a),delete n[s],i.push(s))})),r.size(e)!==t.nodeCount())throw new o;return i}function o(){}t.exports=i,i.CycleException=o,o.prototype=new Error},9675:(t,e,n)=>{var r=n(9126);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},i.prototype.has=function(t){return r.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var i=this._arr,o=i.length;return n[t]=o,i.push({key:t,priority:e}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},i.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},771:(t,e,n)=>{var r=n(9126);t.exports=o;var i="\0";function o(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]?t[e]++:t[e]=1}function s(t,e){--t[e]||delete t[e]}function c(t,e,n,i){var o=""+e,a=""+n;if(!t&&o>a){var s=o;o=a,a=s}return o+""+a+""+(r.isUndefined(i)?"\0":i)}function l(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function u(t,e){return c(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var n=arguments,i=this;return r.each(t,(function(t){n.length>1?i.setNode(t,e):i.setNode(t)})),this},o.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=i,this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return r.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=i;else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==i)return e}},o.prototype.children=function(t){if(r.isUndefined(t)&&(t=i),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===i)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var i={};function o(t){var r=n.parent(t);return void 0===r||e.hasNode(r)?(i[t]=r,r):r in i?i[r]:o(r)}return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,o(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var n=this,i=arguments;return r.reduce(t,(function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},o.prototype.setEdge=function(){var t,e,n,i,o=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,n=s.name,2===arguments.length&&(i=arguments[1],o=!0)):(t=s,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var u=c(this._isDirected,t,e,n);if(r.has(this._edgeLabels,u))return o&&(this._edgeLabels[u]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[u]=o?i:this._defaultEdgeLabelFn(t,e,n);var h=l(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[u]=h,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][u]=h,this._out[t][u]=h,this._edgeCount++,this},o.prototype.edge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):c(this._isDirected,t,e,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(t,e,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):c(this._isDirected,t,e,n);return r.has(this._edgeLabels,i)},o.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):c(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[e],t),s(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=r.values(n);return e?r.filter(i,(function(t){return t.v===e})):i}},o.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=r.values(n);return e?r.filter(i,(function(t){return t.w===e})):i}},o.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},2354:(t,e,n)=>{t.exports={Graph:n(771),version:n(9631)}},8974:(t,e,n)=>{var r=n(9126),i=n(771);function o(t){return r.map(t.nodes(),(function(e){var n=t.node(e),i=t.parent(e),o={v:e};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),i={v:e.v,w:e.w};return r.isUndefined(e.name)||(i.name=e.name),r.isUndefined(n)||(i.value=n),i}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:o(t),edges:a(t)};return r.isUndefined(t.graph())||(e.value=r.clone(t.graph())),e},read:function(t){var e=new i(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},9126:(t,e,n)=>{var r;try{r={clone:n(6678),constant:n(5703),each:n(6073),filter:n(3105),has:n(8721),isArray:n(1469),isEmpty:n(1609),isFunction:n(3560),isUndefined:n(2353),keys:n(3674),map:n(5161),reduce:n(4061),size:n(4238),transform:n(8718),union:n(3386),values:n(2628)}}catch(t){}r||(r=window._),t.exports=r},9631:t=>{t.exports="2.1.8"},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327),s=n(1866);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},8407:(t,e,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7518),s=n(4705);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916),s=n(5265);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),i=n(619),o=n(2385);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},6384:(t,e,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758),c=n(4309);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,t.exports=l},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},7412:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},7443:(t,e,n)=>{var r=n(2118);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},4636:(t,e,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),c=n(6719),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),h=!n&&!u&&a(t),d=!n&&!u&&!h&&c(t),f=n||u||h||d,p=f?r(t.length,String):[],g=p.length;for(var m in t)!e&&!l.call(t,m)||f&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2663:t=>{t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},8983:(t,e,n)=>{var r=n(371)("length");t.exports=r},6556:(t,e,n)=>{var r=n(9465),i=n(7813);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},4865:(t,e,n)=>{var r=n(9465),i=n(7813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var r=n(8363),i=n(3674);t.exports=function(t,e){return t&&r(e,i(e),t)}},3886:(t,e,n)=>{var r=n(8363),i=n(1704);t.exports=function(t,e){return t&&r(e,i(e),t)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var r=n(6384),i=n(7412),o=n(4865),a=n(4037),s=n(3886),c=n(4626),l=n(278),u=n(8805),h=n(1911),d=n(8234),f=n(6904),p=n(4160),g=n(3824),m=n(9148),y=n(8517),b=n(1469),v=n(4144),_=n(6688),x=n(3218),w=n(2928),k=n(3674),D=n(1704),C="[object Arguments]",E="[object Function]",S="[object Object]",T={};T[C]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[S]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[E]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,A,M,F,O){var N,B=1&n,I=2&n,L=4&n;if(A&&(N=F?A(e,M,F,O):A(e)),void 0!==N)return N;if(!x(e))return e;var R=b(e);if(R){if(N=g(e),!B)return l(e,N)}else{var P=p(e),j=P==E||"[object GeneratorFunction]"==P;if(v(e))return c(e,B);if(P==S||P==C||j&&!F){if(N=I||j?{}:y(e),!B)return I?h(e,s(N,e)):u(e,a(N,e))}else{if(!T[P])return F?e:{};N=m(e,P,B)}}O||(O=new r);var z=O.get(e);if(z)return z;O.set(e,N),w(e)?e.forEach((function(r){N.add(t(r,n,A,r,e,O))})):_(e)&&e.forEach((function(r,i){N.set(i,t(r,n,A,i,e,O))}));var $=R?void 0:(L?I?f:d:I?D:k)(e);return i($||e,(function(r,i){$&&(r=e[i=r]),o(N,i,t(r,n,A,i,e,O))})),N}},3118:(t,e,n)=>{var r=n(3218),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},9881:(t,e,n)=>{var r=n(7816),i=n(9291)(r);t.exports=i},6029:(t,e,n)=>{var r=n(3448);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===c?s==s&&!r(s):n(s,c)))var c=s,l=a}return l}},760:(t,e,n)=>{var r=n(9881);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},1848:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},1078:(t,e,n)=>{var r=n(2488),i=n(7285);t.exports=function t(e,n,o,a,s){var c=-1,l=e.length;for(o||(o=i),s||(s=[]);++c<l;){var u=e[c];n>0&&o(u)?n>1?t(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},8483:(t,e,n)=>{var r=n(5063)();t.exports=r},7816:(t,e,n)=>{var r=n(8483),i=n(3674);t.exports=function(t,e){return t&&r(t,e,i)}},7786:(t,e,n)=>{var r=n(1811),i=n(327);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},8866:(t,e,n)=>{var r=n(2488),i=n(1469);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},4239:(t,e,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},3325:t=>{t.exports=function(t,e){return t>e}},8565:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return null!=t&&e.call(t,n)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2118:(t,e,n)=>{var r=n(1848),i=n(2722),o=n(2351);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},9454:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},939:(t,e,n)=>{var r=n(2492),i=n(7005);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},2492:(t,e,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),c=n(1469),l=n(4144),u=n(6719),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,m,y){var b=c(t),v=c(e),_=b?d:s(t),x=v?d:s(e),w=(_=_==h?f:_)==f,k=(x=x==h?f:x)==f,D=_==x;if(D&&l(t)){if(!l(e))return!1;b=!0,w=!1}if(D&&!w)return y||(y=new r),b||u(t)?i(t,e,n,g,m,y):o(t,e,_,n,g,m,y);if(!(1&n)){var C=w&&p.call(t,"__wrapped__"),E=k&&p.call(e,"__wrapped__");if(C||E){var S=C?t.value():t,T=E?e.value():e;return y||(y=new r),m(S,T,n,g,y)}}return!!D&&(y||(y=new r),a(t,e,n,g,m,y))}},5588:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},2958:(t,e,n)=>{var r=n(6384),i=n(939);t.exports=function(t,e,n,o){var a=n.length,s=a,c=!o;if(null==t)return!s;for(t=Object(t);a--;){var l=n[a];if(c&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){var u=(l=n[a])[0],h=t[u],d=l[1];if(c&&l[2]){if(void 0===h&&!(u in t))return!1}else{var f=new r;if(o)var p=o(h,d,u,t,e,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,h=l.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},9221:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},8749:(t,e,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},7206:(t,e,n)=>{var r=n(1573),i=n(6432),o=n(6557),a=n(1469),s=n(9601);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},280:(t,e,n)=>{var r=n(5726),i=n(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var r=n(3218),i=n(5726),o=n(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},433:t=>{t.exports=function(t,e){return t<e}},9199:(t,e,n)=>{var r=n(9881),i=n(8612);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},1573:(t,e,n)=>{var r=n(2958),i=n(1499),o=n(2634);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},6432:(t,e,n)=>{var r=n(939),i=n(7361),o=n(9095),a=n(5403),s=n(9162),c=n(2634),l=n(327);t.exports=function(t,e){return a(t)&&s(e)?c(l(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},2980:(t,e,n)=>{var r=n(6384),i=n(6556),o=n(8483),a=n(9783),s=n(3218),c=n(1704),l=n(6390);t.exports=function t(e,n,u,h,d){e!==n&&o(n,(function(o,c){if(d||(d=new r),s(o))a(e,n,c,u,t,h,d);else{var f=h?h(l(e,c),o,c+"",e,n,d):void 0;void 0===f&&(f=o),i(e,c,f)}}),c)}},9783:(t,e,n)=>{var r=n(6556),i=n(4626),o=n(7133),a=n(278),s=n(8517),c=n(5694),l=n(1469),u=n(9246),h=n(4144),d=n(3560),f=n(3218),p=n(8630),g=n(6719),m=n(6390),y=n(3678);t.exports=function(t,e,n,b,v,_,x){var w=m(t,n),k=m(e,n),D=x.get(k);if(D)r(t,n,D);else{var C=_?_(w,k,n+"",t,e,x):void 0,E=void 0===C;if(E){var S=l(k),T=!S&&h(k),A=!S&&!T&&g(k);C=k,S||T||A?l(w)?C=w:u(w)?C=a(w):T?(E=!1,C=i(k,!0)):A?(E=!1,C=o(k,!0)):C=[]:p(k)||c(k)?(C=w,c(w)?C=y(w):f(w)&&!d(w)||(C=s(k))):E=!1}E&&(x.set(k,C),v(C,k,b,_,x),x.delete(k)),r(t,n,C)}}},9556:(t,e,n)=>{var r=n(9932),i=n(7786),o=n(7206),a=n(9199),s=n(1131),c=n(1717),l=n(5022),u=n(6557),h=n(1469);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return h(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var d=-1;e=r(e,c(o));var f=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++d,value:t}}));return s(f,(function(t,e){return l(t,e,n)}))}},5970:(t,e,n)=>{var r=n(3012),i=n(9095);t.exports=function(t,e){return r(t,e,(function(e,n){return i(t,n)}))}},3012:(t,e,n)=>{var r=n(7786),i=n(611),o=n(1811);t.exports=function(t,e,n){for(var a=-1,s=e.length,c={};++a<s;){var l=e[a],u=r(t,l);n(u,l)&&i(c,o(l,t),u)}return c}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(t){return function(e){return r(e,t)}}},98:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,i,o){for(var a=-1,s=n(e((r-t)/(i||1)),0),c=Array(s);s--;)c[o?s:++a]=t,t+=i;return c}},107:t=>{t.exports=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}},5976:(t,e,n)=>{var r=n(6557),i=n(5357),o=n(61);t.exports=function(t,e){return o(i(t,e,r),t+"")}},611:(t,e,n)=>{var r=n(4865),i=n(1811),o=n(5776),a=n(3218),s=n(327);t.exports=function(t,e,n,c){if(!a(t))return t;for(var l=-1,u=(e=i(e,t)).length,h=u-1,d=t;null!=d&&++l<u;){var f=s(e[l]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(l!=h){var g=d[f];void 0===(p=c?c(g,f,d):void 0)&&(p=a(g)?g:o(e[l+1])?[]:{})}r(d,f,p),d=d[f]}return t}},6560:(t,e,n)=>{var r=n(5703),i=n(8777),o=n(6557),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},1131:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},531:(t,e,n)=>{var r=n(2705),i=n(9932),o=n(1469),a=n(3448),s=r?r.prototype:void 0,c=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:(t,e,n)=>{var r=n(7990),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},5652:(t,e,n)=>{var r=n(8668),i=n(7443),o=n(1196),a=n(4757),s=n(3593),c=n(1814);t.exports=function(t,e,n){var l=-1,u=i,h=t.length,d=!0,f=[],p=f;if(n)d=!1,u=o;else if(h>=200){var g=e?null:s(t);if(g)return c(g);d=!1,u=a,p=new r}else p=e?[]:f;t:for(;++l<h;){var m=t[l],y=e?e(m):m;if(m=n||0!==m?m:0,d&&y==y){for(var b=p.length;b--;)if(p[b]===y)continue t;e&&p.push(y),f.push(m)}else u(p,y,n)||(p!==f&&p.push(y),f.push(m))}return f}},7415:(t,e,n)=>{var r=n(9932);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},1757:t=>{t.exports=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}},4757:t=>{t.exports=function(t,e){return t.has(e)}},4290:(t,e,n)=>{var r=n(6557);t.exports=function(t){return"function"==typeof t?t:r}},1811:(t,e,n)=>{var r=n(1469),i=n(5403),o=n(5514),a=n(9833);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var r=n(2705),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},6393:(t,e,n)=>{var r=n(3448);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,c=null===e,l=e==e,u=r(e);if(!c&&!u&&!a&&t>e||a&&s&&l&&!c&&!u||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||c&&n&&o||!s&&o||!l)return-1}return 0}},5022:(t,e,n)=>{var r=n(6393);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,c=n.length;++i<s;){var l=r(o[i],a[i]);if(l)return i>=c?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),i=n(9465);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var l=e[s],u=o?o(n[l],t[l],l,n,t):void 0;void 0===u&&(u=t[l]),a?i(n,l,u):r(n,l,u)}return n}},8805:(t,e,n)=>{var r=n(8363),i=n(9551);t.exports=function(t,e){return r(t,i(t),e)}},1911:(t,e,n)=>{var r=n(8363),i=n(1442);t.exports=function(t,e){return r(t,i(t),e)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},1463:(t,e,n)=>{var r=n(5976),i=n(6612);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,a)}return e}))}},9291:(t,e,n)=>{var r=n(8612);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5063:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++i];if(!1===n(o[c],c,o))break}return e}}},7740:(t,e,n)=>{var r=n(7206),i=n(8612),o=n(3674);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var c=r(n,3);e=o(e),n=function(t){return c(s[t],t,s)}}var l=t(e,n,a);return l>-1?s[c?e[l]:l]:void 0}}},7445:(t,e,n)=>{var r=n(98),i=n(6612),o=n(8601);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},3593:(t,e,n)=>{var r=n(8525),i=n(308),o=n(1814),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},8777:(t,e,n)=>{var r=n(852),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},7114:(t,e,n)=>{var r=n(8668),i=n(2908),o=n(4757);t.exports=function(t,e,n,a,s,c){var l=1&n,u=t.length,h=e.length;if(u!=h&&!(l&&h>u))return!1;var d=c.get(t),f=c.get(e);if(d&&f)return d==e&&f==t;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(t,e),c.set(e,t);++p<u;){var y=t[p],b=e[p];if(a)var v=l?a(b,y,p,e,t,c):a(y,b,p,t,e,c);if(void 0!==v){if(v)continue;g=!1;break}if(m){if(!i(e,(function(t,e){if(!o(m,e)&&(y===t||s(y,t,n,a,c)))return m.push(e)}))){g=!1;break}}else if(y!==b&&!s(y,b,n,a,c)){g=!1;break}}return c.delete(t),c.delete(e),g}},8351:(t,e,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),c=n(1814),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,h,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=c),t.size!=e.size&&!p)return!1;var g=d.get(t);if(g)return g==e;r|=2,d.set(t,e);var m=a(f(t),f(e),r,l,h,d);return d.delete(t),m;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},6096:(t,e,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var c=1&n,l=r(t),u=l.length;if(u!=r(e).length&&!c)return!1;for(var h=u;h--;){var d=l[h];if(!(c?d in e:i.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var m=c;++h<u;){var y=t[d=l[h]],b=e[d];if(o)var v=c?o(b,y,d,e,t,s):o(y,b,d,t,e,s);if(!(void 0===v?y===b||a(y,b,n,o,s):v)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var _=t.constructor,x=e.constructor;_==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(t),s.delete(e),g}},9021:(t,e,n)=>{var r=n(5564),i=n(5357),o=n(61);t.exports=function(t){return o(i(t,void 0,r),t+"")}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),i=n(9551),o=n(3674);t.exports=function(t){return r(t,o,i)}},6904:(t,e,n)=>{var r=n(8866),i=n(1442),o=n(1704);t.exports=function(t){return r(t,o,i)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},1499:(t,e,n)=>{var r=n(9162),i=n(3674);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},852:(t,e,n)=>{var r=n(8458),i=n(7801);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},9551:(t,e,n)=>{var r=n(4963),i=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},1442:(t,e,n)=>{var r=n(2488),i=n(5924),o=n(9551),a=n(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},4160:(t,e,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),c=n(4239),l=n(346),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=l(r),m=l(i),y=l(o),b=l(a),v=l(s),_=c;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=u||o&&_(o.resolve())!=h||a&&_(new a)!=d||s&&_(new s)!=f)&&(_=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case m:return u;case y:return h;case b:return d;case v:return f}return e}),t.exports=_},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,n)=>{var r=n(1811),i=n(5694),o=n(1469),a=n(5776),s=n(1780),c=n(327);t.exports=function(t,e,n){for(var l=-1,u=(e=r(e,t)).length,h=!1;++l<u;){var d=c(e[l]);if(!(h=null!=t&&n(t,d)))break;t=t[d]}return h||++l!=u?h:!!(u=null==t?0:t.length)&&s(u)&&a(d,u)&&(o(t)||i(t))}},2689:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:(t,e,n)=>{var r=n(4318),i=n(7157),o=n(3147),a=n(419),s=n(7133);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},8517:(t,e,n)=>{var r=n(3118),i=n(5924),o=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},7285:(t,e,n)=>{var r=n(2705),i=n(5694),o=n(1469),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:(t,e,n)=>{var r=n(7813),i=n(8612),o=n(5776),a=n(3218);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},5403:(t,e,n)=>{var r=n(1469),i=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,i=n(4429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(t){return t==t&&!r(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),i=n(8407),o=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},2634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var r=n(6874),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),c=Array(s);++a<s;)c[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=n(c),r(t,this,l)}}},5639:(t,e,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},6390:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},61:(t,e,n)=>{var r=n(6560),i=n(1275)(r);t.exports=i},1275:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),i=n(7071),o=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},2351:t=>{t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},8016:(t,e,n)=>{var r=n(8983),i=n(2689),o=n(1903);t.exports=function(t){return i(t)?o(t):r(t)}},5514:(t,e,n)=>{var r=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},327:(t,e,n)=>{var r=n(3448);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},1903:t=>{var e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+e+"|"+n+")?",s="[\\ufe0e\\ufe0f]?",c=s+a+"(?:\\u200d(?:"+[r,i,o].join("|")+")"+s+a+")*",l="(?:"+[r+e+"?",e,i,o,"[\\ud800-\\udfff]"].join("|")+")",u=RegExp(n+"(?="+n+")|"+l+c,"g");t.exports=function(t){for(var e=u.lastIndex=0;u.test(t);)++e;return e}},6678:(t,e,n)=>{var r=n(5990);t.exports=function(t){return r(t,4)}},361:(t,e,n)=>{var r=n(5990);t.exports=function(t){return r(t,5)}},5703:t=>{t.exports=function(t){return function(){return t}}},1747:(t,e,n)=>{var r=n(5976),i=n(7813),o=n(6612),a=n(1704),s=Object.prototype,c=s.hasOwnProperty,l=r((function(t,e){t=Object(t);var n=-1,r=e.length,l=r>2?e[2]:void 0;for(l&&o(e[0],e[1],l)&&(r=1);++n<r;)for(var u=e[n],h=a(u),d=-1,f=h.length;++d<f;){var p=h[d],g=t[p];(void 0===g||i(g,s[p])&&!c.call(t,p))&&(t[p]=u[p])}return t}));t.exports=l},6073:(t,e,n)=>{t.exports=n(4486)},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},3105:(t,e,n)=>{var r=n(4963),i=n(760),o=n(7206),a=n(1469);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},3311:(t,e,n)=>{var r=n(7740)(n(998));t.exports=r},998:(t,e,n)=>{var r=n(1848),i=n(7206),o=n(554),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=a(s+c,0)),r(t,i(e,3),c)}},5564:(t,e,n)=>{var r=n(1078);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},4486:(t,e,n)=>{var r=n(7412),i=n(9881),o=n(4290),a=n(1469);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},2620:(t,e,n)=>{var r=n(8483),i=n(4290),o=n(1704);t.exports=function(t,e){return null==t?t:r(t,i(e),o)}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},8721:(t,e,n)=>{var r=n(8565),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,r)}},9095:(t,e,n)=>{var r=n(13),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,r)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var r=n(9454),i=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),i=n(1780);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},9246:(t,e,n)=>{var r=n(8612),i=n(7005);t.exports=function(t){return i(t)&&r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=n(5062),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c},1609:(t,e,n)=>{var r=n(280),i=n(4160),o=n(5694),a=n(1469),s=n(8612),c=n(4144),l=n(5726),u=n(6719),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||u(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(l(t))return!r(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}},3560:(t,e,n)=>{var r=n(4239),i=n(3218);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),i=n(1717),o=n(1167),a=o&&o.isMap,s=a?i(a):r;t.exports=s},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,n)=>{var r=n(4239),i=n(5924),o=n(7005),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},2928:(t,e,n)=>{var r=n(9221),i=n(1717),o=n(1167),a=o&&o.isSet,s=a?i(a):r;t.exports=s},7037:(t,e,n)=>{var r=n(4239),i=n(1469),o=n(7005);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},3448:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},6719:(t,e,n)=>{var r=n(8749),i=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},2353:t=>{t.exports=function(t){return void 0===t}},3674:(t,e,n)=>{var r=n(4636),i=n(280),o=n(8612);t.exports=function(t){return o(t)?r(t):i(t)}},1704:(t,e,n)=>{var r=n(4636),i=n(313),o=n(8612);t.exports=function(t){return o(t)?r(t,!0):i(t)}},928:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},5161:(t,e,n)=>{var r=n(9932),i=n(7206),o=n(9199),a=n(1469);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},6604:(t,e,n)=>{var r=n(9465),i=n(7816),o=n(7206);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},6162:(t,e,n)=>{var r=n(6029),i=n(3325),o=n(6557);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},8306:(t,e,n)=>{var r=n(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},3857:(t,e,n)=>{var r=n(2980),i=n(1463)((function(t,e,n){r(t,e,n)}));t.exports=i},3632:(t,e,n)=>{var r=n(6029),i=n(433),o=n(6557);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},2762:(t,e,n)=>{var r=n(6029),i=n(7206),o=n(433);t.exports=function(t,e){return t&&t.length?r(t,i(e,2),o):void 0}},308:t=>{t.exports=function(){}},7771:(t,e,n)=>{var r=n(5639);t.exports=function(){return r.Date.now()}},9722:(t,e,n)=>{var r=n(5970),i=n(9021)((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},9601:(t,e,n)=>{var r=n(371),i=n(9152),o=n(5403),a=n(327);t.exports=function(t){return o(t)?r(a(t)):i(t)}},6026:(t,e,n)=>{var r=n(7445)();t.exports=r},4061:(t,e,n)=>{var r=n(2663),i=n(9881),o=n(7206),a=n(107),s=n(1469);t.exports=function(t,e,n){var c=s(t)?r:a,l=arguments.length<3;return c(t,o(e,4),n,l,i)}},4238:(t,e,n)=>{var r=n(280),i=n(4160),o=n(8612),a=n(7037),s=n(8016);t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},9734:(t,e,n)=>{var r=n(1078),i=n(9556),o=n(5976),a=n(6612),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(t){return t?1/0===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,n)=>{var r=n(8601);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},4841:(t,e,n)=>{var r=n(7561),i=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},3678:(t,e,n)=>{var r=n(8363),i=n(1704);t.exports=function(t){return r(t,i(t))}},9833:(t,e,n)=>{var r=n(531);t.exports=function(t){return null==t?"":r(t)}},8718:(t,e,n)=>{var r=n(7412),i=n(3118),o=n(7816),a=n(7206),s=n(5924),c=n(1469),l=n(4144),u=n(3560),h=n(3218),d=n(6719);t.exports=function(t,e,n){var f=c(t),p=f||l(t)||d(t);if(e=a(e,4),null==n){var g=t&&t.constructor;n=p?f?new g:[]:h(t)&&u(g)?i(s(t)):{}}return(p?r:o)(t,(function(t,r,i){return e(n,t,r,i)})),n}},3386:(t,e,n)=>{var r=n(1078),i=n(5976),o=n(5652),a=n(9246),s=i((function(t){return o(r(t,1,a,!0))}));t.exports=s},3955:(t,e,n)=>{var r=n(9833),i=0;t.exports=function(t){var e=++i;return r(t)+e}},2628:(t,e,n)=>{var r=n(7415),i=n(3674);t.exports=function(t){return null==t?[]:r(t,i(t))}},7287:(t,e,n)=>{var r=n(4865),i=n(1757);t.exports=function(t,e){return i(t||[],e||[],r)}},9234:()=>{},1748:(t,e,n)=>{var r={"./locale":9234,"./locale.js":9234};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=1748},1941:function(t,e,n){(t=n.nmd(t)).exports=function(){var e,r;function i(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var n in e)h(e,n)&&(t[n]=e[n]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return ve(t,e,n,r,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=p(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function m(t){var e=f(NaN);return null!=t?d(p(e),t):p(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var y=i.momentProperties=[];function b(t,e){var n,r,i;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=p(e)),s(e._locale)||(t._locale=e._locale),0<y.length)for(n=0;n<y.length;n++)s(i=e[r=y[n]])||(t[r]=i);return t}var v=!1;function _(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,i.updateOffset(this),v=!1)}function x(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function k(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function D(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&k(t[r])!==k(e[r]))&&a++;return a+o}function C(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,e){var n=!0;return d((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}C(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var S,T={};function A(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),T[t]||(C(e),T[t]=!0)}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function F(t,e){var n,r=d({},t);for(n in e)h(e,n)&&(a(t[n])&&a(e[n])?(r[n]={},d(r[n],t[n]),d(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)h(t,n)&&!h(e,n)&&a(t[n])&&(r[n]=d({},r[n]));return r}function O(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)h(t,e)&&n.push(e);return n};var N={};function B(t,e){var n=t.toLowerCase();N[n]=N[n+"s"]=N[e]=t}function I(t){return"string"==typeof t?N[t]||N[t.toLowerCase()]:void 0}function L(t){var e,n,r={};for(n in t)h(t,n)&&(e=I(n))&&(r[e]=t[n]);return r}var R={};function P(t,e){R[t]=e}function j(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},W={};function U(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(W[t]=i),e&&(W[e[0]]=function(){return j(i.apply(this,arguments),e[1],e[2])}),n&&(W[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function q(t,e){return t.isValid()?(e=V(e,t.localeData()),Y[e]=Y[e]||function(t){var e,n,r,i=t.match(z);for(e=0,n=i.length;e<n;e++)W[i[e]]?i[e]=W[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=M(i[r])?i[r].call(e,t):i[r];return o}}(e),Y[e](t)):t.localeData().invalidDate()}function V(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for($.lastIndex=0;0<=n&&$.test(t);)t=t.replace($,r),$.lastIndex=0,n-=1;return t}var H=/\d/,G=/\d\d/,X=/\d{3}/,J=/\d{4}/,K=/[+-]?\d{6}/,Z=/\d\d?/,Q=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,et=/\d{1,3}/,nt=/\d{1,4}/,rt=/[+-]?\d{1,6}/,it=/\d+/,ot=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,ct=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ut(t,e,n){lt[t]=M(e)?e:function(t,r){return t&&n?n:e}}function ht(t,e){return h(lt,t)?lt[t](e._strict,e._locale):new RegExp(dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function pt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),c(e)&&(r=function(t,n){n[e]=k(t)}),n=0;n<t.length;n++)ft[t[n]]=r}function gt(t,e){pt(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function mt(t){return yt(t)?366:365}function yt(t){return t%4==0&&t%100!=0||t%400==0}U("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),B("year","y"),P("year",1),ut("Y",ot),ut("YY",Z,G),ut("YYYY",nt,J),ut("YYYYY",rt,K),ut("YYYYYY",rt,K),pt(["YYYYY","YYYYYY"],0),pt("YYYY",(function(t,e){e[0]=2===t.length?i.parseTwoDigitYear(t):k(t)})),pt("YY",(function(t,e){e[0]=i.parseTwoDigitYear(t)})),pt("Y",(function(t,e){e[0]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return k(t)+(68<k(t)?1900:2e3)};var bt,vt=_t("FullYear",!0);function _t(t,e){return function(n){return null!=n?(wt(this,t,n),i.updateOffset(this,e),this):xt(this,t)}}function xt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function wt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&yt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),kt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?yt(t)?29:28:31-n%7%2}bt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),U("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),B("month","M"),P("month",8),ut("M",Z),ut("MM",Z,G),ut("MMM",(function(t,e){return e.monthsShortRegex(t)})),ut("MMMM",(function(t,e){return e.monthsRegex(t)})),pt(["M","MM"],(function(t,e){e[1]=k(t)-1})),pt(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[1]=i:p(n).invalidMonth=t}));var Dt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function St(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=k(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Tt(t){return null!=t?(St(this,t),i.updateOffset(this,!0),this):xt(this,"Month")}var At=ct,Mt=ct;function Ft(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=f([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=dt(r[e]),i[e]=dt(i[e]);for(e=0;e<24;e++)o[e]=dt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ot(t){var e;if(t<100&&0<=t){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Nt(t,e,n){var r=7+e-n;return-(7+Ot(t,0,r).getUTCDay()-e)%7+r-1}function Bt(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+Nt(t,r,i);return a=s<=0?mt(o=t-1)+s:s>mt(t)?(o=t+1,s-mt(t)):(o=t,s),{year:o,dayOfYear:a}}function It(t,e,n){var r,i,o=Nt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+Lt(i=t.year()-1,e,n):a>Lt(t.year(),e,n)?(r=a-Lt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Lt(t,e,n){var r=Nt(t,e,n),i=Nt(t+1,e,n);return(mt(t)-r+i)/7}function Rt(t,e){return t.slice(e,7).concat(t.slice(0,e))}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),P("week",5),P("isoWeek",5),ut("w",Z),ut("ww",Z,G),ut("W",Z),ut("WW",Z,G),gt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=k(t)})),U("d",0,"do","day"),U("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),U("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),U("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),ut("d",Z),ut("e",Z),ut("E",Z),ut("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ut("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ut("dddd",(function(t,e){return e.weekdaysRegex(t)})),gt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:p(n).invalidWeekday=t})),gt(["d","e","E"],(function(t,e,n,r){e[r]=k(t)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$t=ct,Yt=ct,Wt=ct;function Ut(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],c=[],l=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),c.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(t),s.sort(t),c.sort(t),l.sort(t),e=0;e<7;e++)s[e]=dt(s[e]),c[e]=dt(c[e]),l[e]=dt(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function qt(){return this.hours()%12||12}function Vt(t,e){U(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Ht(t,e){return e._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,qt),U("k",["kk",2],0,(function(){return this.hours()||24})),U("hmm",0,0,(function(){return""+qt.apply(this)+j(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+qt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),Vt("a",!0),Vt("A",!1),B("hour","h"),P("hour",13),ut("a",Ht),ut("A",Ht),ut("H",Z),ut("h",Z),ut("k",Z),ut("HH",Z,G),ut("hh",Z,G),ut("kk",Z,G),ut("hmm",Q),ut("hmmss",tt),ut("Hmm",Q),ut("Hmmss",tt),pt(["H","HH"],3),pt(["k","kk"],(function(t,e,n){var r=k(t);e[3]=24===r?0:r})),pt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),pt(["h","hh"],(function(t,e,n){e[3]=k(t),p(n).bigHour=!0})),pt("hmm",(function(t,e,n){var r=t.length-2;e[3]=k(t.substr(0,r)),e[4]=k(t.substr(r)),p(n).bigHour=!0})),pt("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=k(t.substr(0,r)),e[4]=k(t.substr(r,2)),e[5]=k(t.substr(i)),p(n).bigHour=!0})),pt("Hmm",(function(t,e,n){var r=t.length-2;e[3]=k(t.substr(0,r)),e[4]=k(t.substr(r))})),pt("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=k(t.substr(0,r)),e[4]=k(t.substr(r,2)),e[5]=k(t.substr(i))}));var Gt,Xt=_t("Hours",!0),Jt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ct,monthsShort:Et,week:{dow:0,doy:6},weekdays:Pt,weekdaysMin:zt,weekdaysShort:jt,meridiemParse:/[ap]\.?m?\.?/i},Kt={},Zt={};function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function te(e){var r=null;if(!Kt[e]&&t&&t.exports)try{r=Gt._abbr,n(1748)("./"+e),ee(r)}catch(e){}return Kt[e]}function ee(t,e){var n;return t&&((n=s(e)?re(t):ne(t,e))?Gt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Gt._abbr}function ne(t,e){if(null===e)return delete Kt[t],null;var n,r=Jt;if(e.abbr=t,null!=Kt[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Kt[t]._config;else if(null!=e.parentLocale)if(null!=Kt[e.parentLocale])r=Kt[e.parentLocale]._config;else{if(null==(n=te(e.parentLocale)))return Zt[e.parentLocale]||(Zt[e.parentLocale]=[]),Zt[e.parentLocale].push({name:t,config:e}),null;r=n._config}return Kt[t]=new O(F(r,e)),Zt[t]&&Zt[t].forEach((function(t){ne(t.name,t.config)})),ee(t),Kt[t]}function re(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Gt;if(!o(t)){if(e=te(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=Qt(t[o]).split("-")).length,n=(n=Qt(t[o+1]))?n.split("-"):null;0<e;){if(r=te(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&D(i,n,!0)>=e-1)break;e--}o++}return Gt}(t)}function ie(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[1]<0||11<n[1]?1:n[2]<1||n[2]>kt(n[0],n[1])?2:n[3]<0||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||59<n[4]?4:n[5]<0||59<n[5]?5:n[6]<0||999<n[6]?6:-1,p(t)._overflowDayOfYear&&(e<0||2<e)&&(e=2),p(t)._overflowWeeks&&-1===e&&(e=7),p(t)._overflowWeekday&&-1===e&&(e=8),p(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ae(t){var e,n,r,o,a,s=[];if(!t._d){var c,l;for(c=t,l=new Date(i.now()),r=c._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,i,o,a,s,c;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=oe(e.GG,t._a[0],It(_e(),1,4).year),r=oe(e.W,1),((i=oe(e.E,1))<1||7<i)&&(c=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=It(_e(),o,a);n=oe(e.gg,t._a[0],l.year),r=oe(e.w,l.week),null!=e.d?((i=e.d)<0||6<i)&&(c=!0):null!=e.e?(i=e.e+o,(e.e<0||6<e.e)&&(c=!0)):i=o}r<1||r>Lt(n,o,a)?p(t)._overflowWeeks=!0:null!=c?p(t)._overflowWeekday=!0:(s=Bt(n,r,i,o,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=oe(t._a[0],r[0]),(t._dayOfYear>mt(a)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=Ot(a,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Ot:function(t,e,n,r,i,o,a){var s;return t<100&&0<=t?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(p(t).weekdayMismatch=!0)}}var se=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ce=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,le=/Z|[+-]\d\d(?::?\d\d)?/,ue=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],he=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],de=/^\/?Date\((\-?\d+)/i;function fe(t){var e,n,r,i,o,a,s=t._i,c=se.exec(s)||ce.exec(s);if(c){for(p(t).iso=!0,e=0,n=ue.length;e<n;e++)if(ue[e][1].exec(c[1])){i=ue[e][0],r=!1!==ue[e][2];break}if(null==i)return void(t._isValid=!1);if(c[3]){for(e=0,n=he.length;e<n;e++)if(he[e][1].exec(c[3])){o=(c[2]||" ")+he[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(c[4]){if(!le.exec(c[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),ye(t)}else t._isValid=!1}var pe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ge={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function me(t){var e,n,r,i=pe.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var o=function(t,e,n,r,i,o){var a=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),Et.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}(i[4],i[3],i[2],i[5],i[6],i[7]);if(n=o,r=t,(e=i[1])&&jt.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()&&(p(r).weekdayMismatch=!0,!(r._isValid=!1)))return;t._a=o,t._tzm=function(t,e,n){if(t)return ge[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(i[8],i[9],i[10]),t._d=Ot.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function ye(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],p(t).empty=!0;var e,n,r,o,a,s,c,l,u=""+t._i,d=u.length,f=0;for(r=V(t._f,t._locale).match(z)||[],e=0;e<r.length;e++)o=r[e],(n=(u.match(ht(o,t))||[])[0])&&(0<(a=u.substr(0,u.indexOf(n))).length&&p(t).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),f+=n.length),W[o]?(n?p(t).empty=!1:p(t).unusedTokens.push(o),s=o,l=t,null!=(c=n)&&h(ft,s)&&ft[s](c,l._a,l,s)):t._strict&&!n&&p(t).unusedTokens.push(o);p(t).charsLeftOver=d-f,0<u.length&&p(t).unusedInput.push(u),t._a[3]<=12&&!0===p(t).bigHour&&0<t._a[3]&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0)),e)}(t._locale,t._a[3],t._meridiem),ae(t),ie(t)}else me(t);else fe(t)}function be(t){var e,n,r,h,f=t._i,y=t._f;return t._locale=t._locale||re(t._l),null===f||void 0===y&&""===f?m({nullInput:!0}):("string"==typeof f&&(t._i=f=t._locale.preparse(f)),x(f)?new _(ie(f)):(l(f)?t._d=f:o(y)?function(t){var e,n,r,i,o;if(0===t._f.length)return p(t).invalidFormat=!0,t._d=new Date(NaN);for(i=0;i<t._f.length;i++)o=0,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ye(e),g(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==r||o<r)&&(r=o,n=e));d(t,n||e)}(t):y?ye(t):s(n=(e=t)._i)?e._d=new Date(i.now()):l(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(r=e,null===(h=de.exec(r._i))?(fe(r),!1===r._isValid&&(delete r._isValid,me(r),!1===r._isValid&&(delete r._isValid,i.createFromInputFallback(r)))):r._d=new Date(+h[1])):o(n)?(e._a=u(n.slice(0),(function(t){return parseInt(t,10)})),ae(e)):a(n)?function(t){if(!t._d){var e=L(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ae(t)}}(e):c(n)?e._d=new Date(n):i.createFromInputFallback(e),g(t)||(t._d=null),t))}function ve(t,e,n,r,i){var s,c={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=i,c._l=n,c._i=t,c._f=e,c._strict=r,(s=new _(ie(be(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function _e(t,e,n,r){return ve(t,e,n,r,!1)}i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var xe=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()})),we=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:m()}));function ke(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return _e();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var De=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ce(t){var e=L(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,c=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===bt.call(De,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<De.length;++r)if(t[De[r]]){if(n)return!1;parseFloat(t[De[r]])!==k(t[De[r]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=re(),this._bubble()}function Ee(t){return t instanceof Ce}function Se(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Te(t,e){U(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+j(~~(t/60),2)+e+j(~~t%60,2)}))}Te("Z",":"),Te("ZZ",""),ut("Z",st),ut("ZZ",st),pt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Me(st,t)}));var Ae=/([\+\-]|\d\d)/gi;function Me(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Ae)||["-",0,0],i=60*r[1]+k(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Fe(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(x(t)||l(t)?t.valueOf():_e(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):_e(t).local()}function Oe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ne(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Be=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ie=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Le(t,e){var n,r,i,o=t,a=null;return Ee(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Be.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:k(a[2])*n,h:k(a[3])*n,m:k(a[4])*n,s:k(a[5])*n,ms:k(Se(1e3*a[6]))*n}):(a=Ie.exec(t))?(n="-"===a[1]?-1:1,o={y:Re(a[2],n),M:Re(a[3],n),w:Re(a[4],n),d:Re(a[5],n),h:Re(a[6],n),m:Re(a[7],n),s:Re(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Fe(e,t),t.isBefore(e)?n=Pe(t,e):((n=Pe(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(_e(o.from),_e(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Ce(o),Ee(t)&&h(t,"_locale")&&(r._locale=t._locale),r}function Re(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Pe(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function je(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),ze(this,Le(n="string"==typeof n?+n:n,r),t),this}}function ze(t,e,n,r){var o=e._milliseconds,a=Se(e._days),s=Se(e._months);t.isValid()&&(r=null==r||r,s&&St(t,xt(t,"Month")+s*n),a&&wt(t,"Date",xt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&i.updateOffset(t,a||s))}Le.fn=Ce.prototype,Le.invalid=function(){return Le(NaN)};var $e=je(1,"add"),Ye=je(-1,"subtract");function We(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Ue(t){var e;return void 0===t?this._locale._abbr:(null!=(e=re(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var qe=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Ve(){return this._locale}var He=126227808e5;function Ge(t,e){return(t%e+e)%e}function Xe(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-He:new Date(t,e,n).valueOf()}function Je(t,e,n){return t<100&&0<=t?Date.UTC(t+400,e,n)-He:Date.UTC(t,e,n)}function Ke(t,e){U(0,[t,t.length],0,e)}function Ze(t,e,n,r,i){var o;return null==t?It(this,r,i).year:((o=Lt(t,r,i))<e&&(e=o),function(t,e,n,r,i){var o=Bt(t,e,n,r,i),a=Ot(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,r,i))}U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ke("gggg","weekYear"),Ke("ggggg","weekYear"),Ke("GGGG","isoWeekYear"),Ke("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),ut("G",ot),ut("g",ot),ut("GG",Z,G),ut("gg",Z,G),ut("GGGG",nt,J),ut("gggg",nt,J),ut("GGGGG",rt,K),ut("ggggg",rt,K),gt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=k(t)})),gt(["gg","GG"],(function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)})),U("Q",0,"Qo","quarter"),B("quarter","Q"),P("quarter",7),ut("Q",H),pt("Q",(function(t,e){e[1]=3*(k(t)-1)})),U("D",["DD",2],"Do","date"),B("date","D"),P("date",9),ut("D",Z),ut("DD",Z,G),ut("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),pt(["D","DD"],2),pt("Do",(function(t,e){e[2]=k(t.match(Z)[0])}));var Qe=_t("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),P("dayOfYear",4),ut("DDD",et),ut("DDDD",X),pt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=k(t)})),U("m",["mm",2],0,"minute"),B("minute","m"),P("minute",14),ut("m",Z),ut("mm",Z,G),pt(["m","mm"],4);var tn=_t("Minutes",!1);U("s",["ss",2],0,"second"),B("second","s"),P("second",15),ut("s",Z),ut("ss",Z,G),pt(["s","ss"],5);var en,nn=_t("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),B("millisecond","ms"),P("millisecond",16),ut("S",et,H),ut("SS",et,G),ut("SSS",et,X),en="SSSS";en.length<=9;en+="S")ut(en,it);function rn(t,e){e[6]=k(1e3*("0."+t))}for(en="S";en.length<=9;en+="S")pt(en,rn);var on=_t("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var an=_.prototype;function sn(t){return t}an.add=$e,an.calendar=function(t,e){var n=t||_e(),r=Fe(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=e&&(M(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,_e(n)))},an.clone=function(){return new _(this)},an.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Fe(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=I(e)){case"year":o=We(this,r)/12;break;case"month":o=We(this,r);break;case"quarter":o=We(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:w(o)},an.endOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Je:Xe;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ge(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ge(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ge(e,1e3)-1}return this._d.setTime(e),i.updateOffset(this,!0),this},an.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=q(this,t);return this.localeData().postformat(e)},an.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||_e(t).isValid())?Le({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},an.fromNow=function(t){return this.from(_e(),t)},an.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||_e(t).isValid())?Le({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},an.toNow=function(t){return this.to(_e(),t)},an.get=function(t){return M(this[t=I(t)])?this[t]():this},an.invalidAt=function(){return p(this).overflow},an.isAfter=function(t,e){var n=x(t)?t:_e(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},an.isBefore=function(t,e){var n=x(t)?t:_e(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},an.isBetween=function(t,e,n,r){var i=x(t)?t:_e(t),o=x(e)?e:_e(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},an.isSame=function(t,e){var n,r=x(t)?t:_e(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},an.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},an.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},an.isValid=function(){return g(this)},an.lang=qe,an.locale=Ue,an.localeData=Ve,an.max=we,an.min=xe,an.parsingFlags=function(){return d({},p(this))},an.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:R[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=L(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(M(this[t=I(t)]))return this[t](e);return this},an.startOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Je:Xe;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ge(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ge(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ge(e,1e3)}return this._d.setTime(e),i.updateOffset(this,!0),this},an.subtract=Ye,an.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},an.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},an.toDate=function(){return new Date(this.valueOf())},an.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?q(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},an.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},an.toJSON=function(){return this.isValid()?this.toISOString():null},an.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},an.unix=function(){return Math.floor(this.valueOf()/1e3)},an.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},an.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},an.year=vt,an.isLeapYear=function(){return yt(this.year())},an.weekYear=function(t){return Ze.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},an.isoWeekYear=function(t){return Ze.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},an.quarter=an.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},an.month=Tt,an.daysInMonth=function(){return kt(this.year(),this.month())},an.week=an.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},an.isoWeek=an.isoWeeks=function(t){var e=It(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},an.weeksInYear=function(){var t=this.localeData()._week;return Lt(this.year(),t.dow,t.doy)},an.isoWeeksInYear=function(){return Lt(this.year(),1,4)},an.date=Qe,an.day=an.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-r,"d")):r},an.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},an.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,n,r=(e=t,n=this.localeData(),"string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?r:r-7)},an.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},an.hour=an.hours=Xt,an.minute=an.minutes=tn,an.second=an.seconds=nn,an.millisecond=an.milliseconds=on,an.utcOffset=function(t,e,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?o:Oe(this);if("string"==typeof t){if(null===(t=Me(st,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Oe(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?ze(this,Le(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this},an.utc=function(t){return this.utcOffset(0,t)},an.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Oe(this),"m")),this},an.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Me(at,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},an.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?_e(t).utcOffset():0,(this.utcOffset()-t)%60==0)},an.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},an.isLocal=function(){return!!this.isValid()&&!this._isUTC},an.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},an.isUtc=Ne,an.isUTC=Ne,an.zoneAbbr=function(){return this._isUTC?"UTC":""},an.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},an.dates=E("dates accessor is deprecated. Use date instead.",Qe),an.months=E("months accessor is deprecated. Use month instead",Tt),an.years=E("years accessor is deprecated. Use year instead",vt),an.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),an.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(b(t,this),(t=be(t))._a){var e=t._isUTC?f(t._a):_e(t._a);this._isDSTShifted=this.isValid()&&0<D(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var cn=O.prototype;function ln(t,e,n,r){var i=re(),o=f().set(r,e);return i[n](o,t)}function un(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return ln(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ln(t,r,n,"month");return i}function hn(t,e,n,r){"boolean"==typeof t?c(e)&&(n=e,e=void 0):(e=t,t=!1,c(n=e)&&(n=e,e=void 0)),e=e||"";var i,o=re(),a=t?o._week.dow:0;if(null!=n)return ln(e,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=ln(e,(i+a)%7,r,"day");return s}cn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return M(r)?r.call(e,n):r},cn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},cn.invalidDate=function(){return this._invalidDate},cn.ordinal=function(t){return this._ordinal.replace("%d",t)},cn.preparse=sn,cn.postformat=sn,cn.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return M(i)?i(t,e,n,r):i.replace(/%d/i,t)},cn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)},cn.set=function(t){var e,n;for(n in t)M(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},cn.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Dt).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},cn.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Dt.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},cn.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=bt.call(this._shortMonthsParse,a))?i:null:-1!==(i=bt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=bt.call(this._shortMonthsParse,a))||-1!==(i=bt.call(this._longMonthsParse,a))?i:null:-1!==(i=bt.call(this._longMonthsParse,a))||-1!==(i=bt.call(this._shortMonthsParse,a))?i:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},cn.monthsRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Mt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},cn.monthsShortRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=At),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},cn.week=function(t){return It(t,this._week.dow,this._week.doy).week},cn.firstDayOfYear=function(){return this._week.doy},cn.firstDayOfWeek=function(){return this._week.dow},cn.weekdays=function(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Rt(n,this._week.dow):t?n[t.day()]:n},cn.weekdaysMin=function(t){return!0===t?Rt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},cn.weekdaysShort=function(t){return!0===t?Rt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},cn.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=bt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=bt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=bt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=bt.call(this._weekdaysParse,a))||-1!==(i=bt.call(this._shortWeekdaysParse,a))||-1!==(i=bt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=bt.call(this._shortWeekdaysParse,a))||-1!==(i=bt.call(this._weekdaysParse,a))||-1!==(i=bt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=bt.call(this._minWeekdaysParse,a))||-1!==(i=bt.call(this._weekdaysParse,a))||-1!==(i=bt.call(this._shortWeekdaysParse,a))?i:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},cn.weekdaysRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=$t),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},cn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Yt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},cn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Wt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},cn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},cn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},ee("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===k(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",ee),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",re);var dn=Math.abs;function fn(t,e,n,r){var i=Le(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function pn(t){return t<0?Math.floor(t):Math.ceil(t)}function gn(t){return 4800*t/146097}function mn(t){return 146097*t/4800}function yn(t){return function(){return this.as(t)}}var bn=yn("ms"),vn=yn("s"),_n=yn("m"),xn=yn("h"),wn=yn("d"),kn=yn("w"),Dn=yn("M"),Cn=yn("Q"),En=yn("y");function Sn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Tn=Sn("milliseconds"),An=Sn("seconds"),Mn=Sn("minutes"),Fn=Sn("hours"),On=Sn("days"),Nn=Sn("months"),Bn=Sn("years"),In=Math.round,Ln={ss:44,s:45,m:45,h:22,d:26,M:11},Rn=Math.abs;function Pn(t){return(0<t)-(t<0)||+t}function jn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Rn(this._milliseconds)/1e3,r=Rn(this._days),i=Rn(this._months);e=w((t=w(n/60))/60),n%=60,t%=60;var o=w(i/12),a=i%=12,s=r,c=e,l=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",f=Pn(this._months)!==Pn(h)?"-":"",p=Pn(this._days)!==Pn(h)?"-":"",g=Pn(this._milliseconds)!==Pn(h)?"-":"";return d+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(c||l||u?"T":"")+(c?g+c+"H":"")+(l?g+l+"M":"")+(u?g+u+"S":"")}var zn=Ce.prototype;return zn.isValid=function(){return this._isValid},zn.abs=function(){var t=this._data;return this._milliseconds=dn(this._milliseconds),this._days=dn(this._days),this._months=dn(this._months),t.milliseconds=dn(t.milliseconds),t.seconds=dn(t.seconds),t.minutes=dn(t.minutes),t.hours=dn(t.hours),t.months=dn(t.months),t.years=dn(t.years),this},zn.add=function(t,e){return fn(this,t,e,1)},zn.subtract=function(t,e){return fn(this,t,e,-1)},zn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=I(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+gn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(mn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},zn.asMilliseconds=bn,zn.asSeconds=vn,zn.asMinutes=_n,zn.asHours=xn,zn.asDays=wn,zn.asWeeks=kn,zn.asMonths=Dn,zn.asQuarters=Cn,zn.asYears=En,zn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},zn._bubble=function(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*pn(mn(s)+a),s=a=0),c.milliseconds=o%1e3,t=w(o/1e3),c.seconds=t%60,e=w(t/60),c.minutes=e%60,n=w(e/60),c.hours=n%24,s+=i=w(gn(a+=w(n/24))),a-=pn(mn(i)),r=w(s/12),s%=12,c.days=a,c.months=s,c.years=r,this},zn.clone=function(){return Le(this)},zn.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},zn.milliseconds=Tn,zn.seconds=An,zn.minutes=Mn,zn.hours=Fn,zn.days=On,zn.weeks=function(){return w(this.days()/7)},zn.months=Nn,zn.years=Bn,zn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,r,i,o,a,s,c,l,u,h=this.localeData(),d=(e=!t,n=h,r=Le(this).abs(),i=In(r.as("s")),o=In(r.as("m")),a=In(r.as("h")),s=In(r.as("d")),c=In(r.as("M")),l=In(r.as("y")),(u=i<=Ln.ss&&["s",i]||i<Ln.s&&["ss",i]||o<=1&&["m"]||o<Ln.m&&["mm",o]||a<=1&&["h"]||a<Ln.h&&["hh",a]||s<=1&&["d"]||s<Ln.d&&["dd",s]||c<=1&&["M"]||c<Ln.M&&["MM",c]||l<=1&&["y"]||["yy",l])[2]=e,u[3]=0<+this,u[4]=n,function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}.apply(null,u));return t&&(d=h.pastFuture(+this,d)),h.postformat(d)},zn.toISOString=jn,zn.toString=jn,zn.toJSON=jn,zn.locale=Ue,zn.localeData=Ve,zn.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jn),zn.lang=qe,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ut("x",ot),ut("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),pt("x",(function(t,e,n){n._d=new Date(k(t))})),i.version="2.24.0",e=_e,i.fn=an,i.min=function(){return ke("isBefore",[].slice.call(arguments,0))},i.max=function(){return ke("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=f,i.unix=function(t){return _e(1e3*t)},i.months=function(t,e){return un(t,e,"months")},i.isDate=l,i.locale=ee,i.invalid=m,i.duration=Le,i.isMoment=x,i.weekdays=function(t,e,n){return hn(t,e,n,"weekdays")},i.parseZone=function(){return _e.apply(null,arguments).parseZone()},i.localeData=re,i.isDuration=Ee,i.monthsShort=function(t,e){return un(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return hn(t,e,n,"weekdaysMin")},i.defineLocale=ne,i.updateLocale=function(t,e){if(null!=e){var n,r,i=Jt;null!=(r=te(t))&&(i=r._config),(n=new O(e=F(i,e))).parentLocale=Kt[t],Kt[t]=n,ee(t)}else null!=Kt[t]&&(null!=Kt[t].parentLocale?Kt[t]=Kt[t].parentLocale:null!=Kt[t]&&delete Kt[t]);return Kt[t]},i.locales=function(){return S(Kt)},i.weekdaysShort=function(t,e,n){return hn(t,e,n,"weekdaysShort")},i.normalizeUnits=I,i.relativeTimeRounding=function(t){return void 0===t?In:"function"==typeof t&&(In=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==Ln[t]&&(void 0===e?Ln[t]:(Ln[t]=e,"s"===t&&(Ln.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=an,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},6470:t=>{function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,e){for(var n,r="",i=0,o=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)n=t.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,s):r=t.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var t,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(r=a+"/"+r,i=47===a.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(t){if(e(t),0===t.length)return".";var r=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=n(t,!r)).length||r||(t="."),t.length>0&&i&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,n=0;n<arguments.length;++n){var i=arguments[n];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":r.normalize(t)},relative:function(t,n){if(e(t),e(n),t===n)return"";if((t=r.resolve(t))===(n=r.resolve(n)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,a=o-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var c=n.length-s,l=a<c?a:c,u=-1,h=0;h<=l;++h){if(h===l){if(c>l){if(47===n.charCodeAt(s+h))return n.slice(s+h+1);if(0===h)return n.slice(s+h)}else a>l&&(47===t.charCodeAt(i+h)?u=h:0===h&&(u=0));break}var d=t.charCodeAt(i+h);if(d!==n.charCodeAt(s+h))break;47===d&&(u=h)}var f="";for(h=i+u+1;h<=o;++h)h!==o&&47!==t.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(s+u):(s+=u,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var n=t.charCodeAt(0),r=47===n,i=-1,o=!0,a=t.length-1;a>=1;--a)if(47===(n=t.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":t.slice(0,i)},basename:function(t,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');e(t);var r,i=0,o=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var s=n.length-1,c=-1;for(r=t.length-1;r>=0;--r){var l=t.charCodeAt(r);if(47===l){if(!a){i=r+1;break}}else-1===c&&(a=!1,c=r+1),s>=0&&(l===n.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=c))}return i===o?o=c:-1===o&&(o=t.length),t.slice(i,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":t.slice(i,o)},extname:function(t){e(t);for(var n=-1,r=0,i=-1,o=!0,a=0,s=t.length-1;s>=0;--s){var c=t.charCodeAt(s);if(47!==c)-1===i&&(o=!1,i=s+1),46===c?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1);else if(!o){r=s+1;break}}return-1===n||-1===i||0===a||1===a&&n===i-1&&n===r+1?"":t.slice(n,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+"/"+r:r}(0,t)},parse:function(t){e(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;var r,i=t.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var a=-1,s=0,c=-1,l=!0,u=t.length-1,h=0;u>=r;--u)if(47!==(i=t.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===i?-1===a?a=u:1!==h&&(h=1):-1!==a&&(h=-1);else if(!l){s=u+1;break}return-1===a||-1===c||0===h||1===h&&a===c-1&&a===s+1?-1!==c&&(n.base=n.name=0===s&&o?t.slice(1,c):t.slice(s,c)):(0===s&&o?(n.name=t.slice(1,a),n.base=t.slice(1,c)):(n.name=t.slice(s,a),n.base=t.slice(s,c)),n.ext=t.slice(a,c)),s>0?n.dir=t.slice(0,s-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r},555:()=>{},8218:()=>{},8009:()=>{},5354:()=>{},6878:()=>{},8183:()=>{},1428:()=>{},4551:()=>{},8800:()=>{},1993:()=>{},3069:()=>{},9143:()=>{},7543:(t,e,n)=>{function r(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i(t){let e=t,n=t,i=t;function o(t,e,r=0,o=t.length){if(r<o){if(0!==n(e,e))return o;do{const n=r+o>>>1;i(t[n],e)<0?r=n+1:o=n}while(r<o)}return r}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=r,i=(e,n)=>r(t(e),n)),{left:o,center:function(t,n,r=0,i=t.length){const a=o(t,n,r,i-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r=0,o=t.length){if(r<o){if(0!==n(e,e))return o;do{const n=r+o>>>1;i(t[n],e)<=0?r=n+1:o=n}while(r<o)}return r}}}function o(t){return null===t?NaN:+t}n.r(e),n.d(e,{Adder:()=>x,Delaunay:()=>Ns,FormatSpecifier:()=>Ll,InternMap:()=>D,InternSet:()=>C,Node:()=>ng,Voronoi:()=>Ss,ZoomTransform:()=>sC,active:()=>to,arc:()=>Qw,area:()=>sk,areaRadial:()=>mk,ascending:()=>r,autoType:()=>lc,axisBottom:()=>ie,axisLeft:()=>oe,axisRight:()=>re,axisTop:()=>ne,bin:()=>it,bisect:()=>u,bisectCenter:()=>l,bisectLeft:()=>c,bisectRight:()=>s,bisector:()=>i,blob:()=>Wc,brush:()=>Oo,brushSelection:()=>Ao,brushX:()=>Mo,brushY:()=>Fo,buffer:()=>qc,chord:()=>Uo,chordDirected:()=>Vo,chordTranspose:()=>qo,cluster:()=>Xp,color:()=>tr,contourDensity:()=>is,contours:()=>Za,count:()=>h,create:()=>Ew,creator:()=>pn,cross:()=>g,csv:()=>Jc,csvFormat:()=>Js,csvFormatBody:()=>Ks,csvFormatRow:()=>Qs,csvFormatRows:()=>Zs,csvFormatValue:()=>tc,csvParse:()=>Gs,csvParseRows:()=>Xs,cubehelix:()=>Ya,cumsum:()=>m,curveBasis:()=>Xk,curveBasisClosed:()=>Kk,curveBasisOpen:()=>Qk,curveBumpX:()=>eD,curveBumpY:()=>nD,curveBundle:()=>iD,curveCardinal:()=>sD,curveCardinalClosed:()=>lD,curveCardinalOpen:()=>hD,curveCatmullRom:()=>pD,curveCatmullRomClosed:()=>mD,curveCatmullRomOpen:()=>bD,curveLinear:()=>rk,curveLinearClosed:()=>_D,curveMonotoneX:()=>TD,curveMonotoneY:()=>AD,curveNatural:()=>OD,curveStep:()=>BD,curveStepAfter:()=>LD,curveStepBefore:()=>ID,descending:()=>y,deviation:()=>v,difference:()=>zt,disjoint:()=>$t,dispatch:()=>de,drag:()=>zs,dragDisable:()=>Bn,dragEnable:()=>In,dsv:()=>Xc,dsvFormat:()=>Vs,easeBack:()=>Rc,easeBackIn:()=>Ic,easeBackInOut:()=>Rc,easeBackOut:()=>Lc,easeBounce:()=>Oc,easeBounceIn:()=>Fc,easeBounceInOut:()=>Nc,easeBounceOut:()=>Oc,easeCircle:()=>Ac,easeCircleIn:()=>Sc,easeCircleInOut:()=>Ac,easeCircleOut:()=>Tc,easeCubic:()=>Ji,easeCubicIn:()=>Gi,easeCubicInOut:()=>Ji,easeCubicOut:()=>Xi,easeElastic:()=>zc,easeElasticIn:()=>jc,easeElasticInOut:()=>$c,easeElasticOut:()=>zc,easeExp:()=>Ec,easeExpIn:()=>Dc,easeExpInOut:()=>Ec,easeExpOut:()=>Cc,easeLinear:()=>hc,easePoly:()=>yc,easePolyIn:()=>gc,easePolyInOut:()=>yc,easePolyOut:()=>mc,easeQuad:()=>pc,easeQuadIn:()=>dc,easeQuadInOut:()=>pc,easeQuadOut:()=>fc,easeSin:()=>wc,easeSinIn:()=>_c,easeSinInOut:()=>wc,easeSinOut:()=>xc,every:()=>Bt,extent:()=>_,fcumsum:()=>k,filter:()=>Lt,flatGroup:()=>B,flatRollup:()=>I,forceCenter:()=>ol,forceCollide:()=>bl,forceLink:()=>xl,forceManyBody:()=>Sl,forceRadial:()=>Tl,forceSimulation:()=>El,forceX:()=>Al,forceY:()=>Ml,format:()=>$l,formatDefaultLocale:()=>Vl,formatLocale:()=>ql,formatPrefix:()=>Yl,formatSpecifier:()=>Il,fsum:()=>w,geoAlbers:()=>up,geoAlbersUsa:()=>hp,geoArea:()=>Ju,geoAzimuthalEqualArea:()=>gp,geoAzimuthalEqualAreaRaw:()=>pp,geoAzimuthalEquidistant:()=>yp,geoAzimuthalEquidistantRaw:()=>mp,geoBounds:()=>Fh,geoCentroid:()=>Wh,geoCircle:()=>td,geoClipAntimeridian:()=>hd,geoClipCircle:()=>dd,geoClipExtent:()=>_d,geoClipRectangle:()=>vd,geoConicConformal:()=>kp,geoConicConformalRaw:()=>wp,geoConicEqualArea:()=>lp,geoConicEqualAreaRaw:()=>cp,geoConicEquidistant:()=>Sp,geoConicEquidistantRaw:()=>Ep,geoContains:()=>Rd,geoDistance:()=>Td,geoEqualEarth:()=>Bp,geoEqualEarthRaw:()=>Np,geoEquirectangular:()=>Cp,geoEquirectangularRaw:()=>Dp,geoGnomonic:()=>Lp,geoGnomonicRaw:()=>Ip,geoGraticule:()=>zd,geoGraticule10:()=>$d,geoIdentity:()=>Rp,geoInterpolate:()=>Yd,geoLength:()=>Cd,geoMercator:()=>vp,geoMercatorRaw:()=>bp,geoNaturalEarth1:()=>jp,geoNaturalEarth1Raw:()=>Pp,geoOrthographic:()=>$p,geoOrthographicRaw:()=>zp,geoPath:()=>Vf,geoProjection:()=>op,geoProjectionMutator:()=>ap,geoRotation:()=>Kh,geoStereographic:()=>Wp,geoStereographicRaw:()=>Yp,geoStream:()=>Eu,geoTransform:()=>Hf,geoTransverseMercator:()=>qp,geoTransverseMercatorRaw:()=>Up,gray:()=>xa,greatest:()=>Ct,greatestIndex:()=>Et,group:()=>F,groupSort:()=>V,groups:()=>O,hcl:()=>Ma,hierarchy:()=>Kp,histogram:()=>it,hsl:()=>hr,html:()=>rl,image:()=>Zc,index:()=>P,indexes:()=>j,interpolate:()=>Ir,interpolateArray:()=>Sr,interpolateBasis:()=>gr,interpolateBasisClosed:()=>mr,interpolateBlues:()=>Qx,interpolateBrBG:()=>hx,interpolateBuGn:()=>Ax,interpolateBuPu:()=>Fx,interpolateCividis:()=>uw,interpolateCool:()=>fw,interpolateCubehelix:()=>hm,interpolateCubehelixDefault:()=>hw,interpolateCubehelixLong:()=>dm,interpolateDate:()=>Ar,interpolateDiscrete:()=>Zg,interpolateGnBu:()=>Nx,interpolateGreens:()=>ew,interpolateGreys:()=>rw,interpolateHcl:()=>cm,interpolateHclLong:()=>lm,interpolateHsl:()=>im,interpolateHslLong:()=>om,interpolateHue:()=>Qg,interpolateInferno:()=>Dw,interpolateLab:()=>am,interpolateMagma:()=>kw,interpolateNumber:()=>Mr,interpolateNumberArray:()=>Cr,interpolateObject:()=>Fr,interpolateOrRd:()=>Ix,interpolateOranges:()=>lw,interpolatePRGn:()=>fx,interpolatePiYG:()=>gx,interpolatePlasma:()=>Cw,interpolatePuBu:()=>jx,interpolatePuBuGn:()=>Rx,interpolatePuOr:()=>yx,interpolatePuRd:()=>$x,interpolatePurples:()=>ow,interpolateRainbow:()=>gw,interpolateRdBu:()=>vx,interpolateRdGy:()=>xx,interpolateRdPu:()=>Wx,interpolateRdYlBu:()=>kx,interpolateRdYlGn:()=>Cx,interpolateReds:()=>sw,interpolateRgb:()=>xr,interpolateRgbBasis:()=>kr,interpolateRgbBasisClosed:()=>Dr,interpolateRound:()=>tm,interpolateSinebow:()=>vw,interpolateSpectral:()=>Sx,interpolateString:()=>Br,interpolateTransformCss:()=>gi,interpolateTransformSvg:()=>mi,interpolateTurbo:()=>_w,interpolateViridis:()=>ww,interpolateWarm:()=>dw,interpolateYlGn:()=>Hx,interpolateYlGnBu:()=>qx,interpolateYlOrBr:()=>Xx,interpolateYlOrRd:()=>Kx,interpolateZoom:()=>nm,interrupt:()=>li,intersection:()=>Yt,interval:()=>iC,isoFormat:()=>eC,isoParse:()=>rC,json:()=>tl,lab:()=>wa,lch:()=>Aa,least:()=>kt,leastIndex:()=>Dt,line:()=>ak,lineRadial:()=>gk,linkHorizontal:()=>Dk,linkRadial:()=>Ek,linkVertical:()=>Ck,local:()=>Tw,map:()=>Rt,matcher:()=>be,max:()=>ot,maxIndex:()=>ft,mean:()=>pt,median:()=>gt,merge:()=>mt,min:()=>at,minIndex:()=>yt,mode:()=>bt,namespace:()=>Be,namespaces:()=>Ne,nice:()=>nt,now:()=>Gr,pack:()=>wg,packEnclose:()=>rg,packSiblings:()=>mg,pairs:()=>vt,partition:()=>Tg,path:()=>ta,permute:()=>Y,pie:()=>uk,piecewise:()=>fm,pointRadial:()=>yk,pointer:()=>Rr,pointers:()=>Mw,polygonArea:()=>gm,polygonCentroid:()=>mm,polygonContains:()=>xm,polygonHull:()=>_m,polygonLength:()=>wm,precisionFixed:()=>Hl,precisionPrefix:()=>Gl,precisionRound:()=>Xl,quadtree:()=>ul,quantile:()=>lt,quantileSorted:()=>ut,quantize:()=>pm,quickselect:()=>st,radialArea:()=>mk,radialLine:()=>gk,randomBates:()=>Am,randomBernoulli:()=>Om,randomBeta:()=>Im,randomBinomial:()=>Lm,randomCauchy:()=>Pm,randomExponential:()=>Mm,randomGamma:()=>Bm,randomGeometric:()=>Nm,randomInt:()=>Cm,randomIrwinHall:()=>Tm,randomLcg:()=>Ym,randomLogNormal:()=>Sm,randomLogistic:()=>jm,randomNormal:()=>Em,randomPareto:()=>Fm,randomPoisson:()=>zm,randomUniform:()=>Dm,randomWeibull:()=>Rm,range:()=>xt,rank:()=>wt,reduce:()=>Pt,reverse:()=>jt,rgb:()=>ir,ribbon:()=>ha,ribbonArrow:()=>da,rollup:()=>L,rollups:()=>R,scaleBand:()=>Hm,scaleDiverging:()=>H_,scaleDivergingLog:()=>G_,scaleDivergingPow:()=>J_,scaleDivergingSqrt:()=>K_,scaleDivergingSymlog:()=>X_,scaleIdentity:()=>cy,scaleImplicit:()=>qm,scaleLinear:()=>sy,scaleLog:()=>yy,scaleOrdinal:()=>Vm,scalePoint:()=>Xm,scalePow:()=>Ey,scaleQuantile:()=>Fy,scaleQuantize:()=>Oy,scaleRadial:()=>My,scaleSequential:()=>z_,scaleSequentialLog:()=>$_,scaleSequentialPow:()=>W_,scaleSequentialQuantile:()=>q_,scaleSequentialSqrt:()=>U_,scaleSequentialSymlog:()=>Y_,scaleSqrt:()=>Sy,scaleSymlog:()=>xy,scaleThreshold:()=>Ny,scaleTime:()=>L_,scaleUtc:()=>R_,scan:()=>St,schemeAccent:()=>tx,schemeBlues:()=>Zx,schemeBrBG:()=>ux,schemeBuGn:()=>Tx,schemeBuPu:()=>Mx,schemeCategory10:()=>Q_,schemeDark2:()=>ex,schemeGnBu:()=>Ox,schemeGreens:()=>tw,schemeGreys:()=>nw,schemeOrRd:()=>Bx,schemeOranges:()=>cw,schemePRGn:()=>dx,schemePaired:()=>nx,schemePastel1:()=>rx,schemePastel2:()=>ix,schemePiYG:()=>px,schemePuBu:()=>Px,schemePuBuGn:()=>Lx,schemePuOr:()=>mx,schemePuRd:()=>zx,schemePurples:()=>iw,schemeRdBu:()=>bx,schemeRdGy:()=>_x,schemeRdPu:()=>Yx,schemeRdYlBu:()=>wx,schemeRdYlGn:()=>Dx,schemeReds:()=>aw,schemeSet1:()=>ox,schemeSet2:()=>ax,schemeSet3:()=>sx,schemeSpectral:()=>Ex,schemeTableau10:()=>cx,schemeYlGn:()=>Vx,schemeYlGnBu:()=>Ux,schemeYlOrBr:()=>Gx,schemeYlOrRd:()=>Jx,select:()=>An,selectAll:()=>Fw,selection:()=>Tn,selector:()=>pe,selectorAll:()=>ye,shuffle:()=>Tt,shuffler:()=>At,some:()=>It,sort:()=>W,stack:()=>$D,stackOffsetDiverging:()=>WD,stackOffsetExpand:()=>YD,stackOffsetNone:()=>RD,stackOffsetSilhouette:()=>UD,stackOffsetWiggle:()=>qD,stackOrderAppearance:()=>VD,stackOrderAscending:()=>GD,stackOrderDescending:()=>JD,stackOrderInsideOut:()=>KD,stackOrderNone:()=>PD,stackOrderReverse:()=>ZD,stratify:()=>Bg,style:()=>qe,subset:()=>Vt,sum:()=>Mt,superset:()=>Ut,svg:()=>il,symbol:()=>qk,symbolCircle:()=>Sk,symbolCross:()=>Tk,symbolDiamond:()=>Fk,symbolSquare:()=>Lk,symbolStar:()=>Ik,symbolTriangle:()=>Pk,symbolWye:()=>Wk,symbols:()=>Uk,text:()=>Hc,thresholdFreedmanDiaconis:()=>ht,thresholdScott:()=>dt,thresholdSturges:()=>rt,tickFormat:()=>oy,tickIncrement:()=>tt,tickStep:()=>et,ticks:()=>Q,timeDay:()=>nb,timeDays:()=>rb,timeFormat:()=>hv,timeFormatDefaultLocale:()=>O_,timeFormatLocale:()=>lv,timeFriday:()=>ub,timeFridays:()=>yb,timeHour:()=>Qy,timeHours:()=>tb,timeInterval:()=>Yy,timeMillisecond:()=>Uy,timeMilliseconds:()=>qy,timeMinute:()=>Jy,timeMinutes:()=>Ky,timeMonday:()=>ab,timeMondays:()=>fb,timeMonth:()=>_b,timeMonths:()=>xb,timeParse:()=>dv,timeSaturday:()=>hb,timeSaturdays:()=>bb,timeSecond:()=>Hy,timeSeconds:()=>Gy,timeSunday:()=>ob,timeSundays:()=>db,timeThursday:()=>lb,timeThursdays:()=>mb,timeTickInterval:()=>ov,timeTicks:()=>iv,timeTuesday:()=>sb,timeTuesdays:()=>pb,timeWednesday:()=>cb,timeWednesdays:()=>gb,timeWeek:()=>ob,timeWeeks:()=>db,timeYear:()=>kb,timeYears:()=>Db,timeout:()=>ni,timer:()=>Kr,timerFlush:()=>Zr,transition:()=>qi,transpose:()=>Ft,tree:()=>Wg,treemap:()=>Gg,treemapBinary:()=>Xg,treemapDice:()=>Sg,treemapResquarify:()=>Kg,treemapSlice:()=>Ug,treemapSliceDice:()=>Jg,treemapSquarify:()=>Hg,tsv:()=>Kc,tsvFormat:()=>ic,tsvFormatBody:()=>oc,tsvFormatRow:()=>sc,tsvFormatRows:()=>ac,tsvFormatValue:()=>cc,tsvParse:()=>nc,tsvParseRows:()=>rc,union:()=>Ht,utcDay:()=>Ob,utcDays:()=>Nb,utcFormat:()=>fv,utcFriday:()=>zb,utcFridays:()=>Hb,utcHour:()=>Ab,utcHours:()=>Mb,utcMillisecond:()=>Uy,utcMilliseconds:()=>qy,utcMinute:()=>Eb,utcMinutes:()=>Sb,utcMonday:()=>Lb,utcMondays:()=>Wb,utcMonth:()=>Jb,utcMonths:()=>Kb,utcParse:()=>pv,utcSaturday:()=>$b,utcSaturdays:()=>Gb,utcSecond:()=>Hy,utcSeconds:()=>Gy,utcSunday:()=>Ib,utcSundays:()=>Yb,utcThursday:()=>jb,utcThursdays:()=>Vb,utcTickInterval:()=>rv,utcTicks:()=>nv,utcTuesday:()=>Rb,utcTuesdays:()=>Ub,utcWednesday:()=>Pb,utcWednesdays:()=>qb,utcWeek:()=>Ib,utcWeeks:()=>Yb,utcYear:()=>Qb,utcYears:()=>tv,variance:()=>b,window:()=>$e,xml:()=>nl,zip:()=>Nt,zoom:()=>bC,zoomIdentity:()=>cC,zoomTransform:()=>lC});const a=i(r),s=a.right,c=a.left,l=i(o).center,u=s;function h(t,e){let n=0;if(void 0===e)for(let r of t)null!=r&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function d(t){return 0|t.length}function f(t){return!(t>0)}function p(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function g(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(p)).map(d),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(f))return o;for(;;){o.push(i.map(((e,n)=>t[n][e])));let a=r;for(;++i[a]===n[a];){if(0===a)return e?o.map(e):o;i[a--]=0}}}function m(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)}function y(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function b(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let a of t)null!=a&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function v(t,e){const n=b(t,e);return n?Math.sqrt(n):n}function _(t,e){let n,r;if(void 0===e)for(const i of t)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class x{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}function w(t,e){const n=new x;if(void 0===e)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function k(t,e){const n=new x;let r=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):i=>n.add(+e(i,++r,t)||0))}class D extends Map{constructor(t,e=A){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(E(this,t))}has(t){return super.has(E(this,t))}set(t,e){return super.set(S(this,t),e)}delete(t){return super.delete(T(this,t))}}class C extends Set{constructor(t,e=A){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(E(this,t))}add(t){return super.add(S(this,t))}delete(t){return super.delete(T(this,t))}}function E({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function S({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function T({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function A(t){return null!==t&&"object"==typeof t?t.valueOf():t}function M(t){return t}function F(t,...e){return $(t,M,M,e)}function O(t,...e){return $(t,Array.from,M,e)}function N(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((t=>t.pop().map((([e,n])=>[...t,e,n]))));return t}function B(t,...e){return N(O(t,...e),e)}function I(t,e,...n){return N(R(t,e,...n),n)}function L(t,e,...n){return $(t,M,e,n)}function R(t,e,...n){return $(t,Array.from,e,n)}function P(t,...e){return $(t,M,z,e)}function j(t,...e){return $(t,Array.from,z,e)}function z(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function $(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new D,s=r[o++];let c=-1;for(const e of i){const t=s(e,++c,i),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}function Y(t,e){return Array.from(e,(e=>t[e]))}function W(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=q(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>q(n[t],n[e])))),Y(t,r)}return t.sort(U(n))}function U(t=r){if(t===r)return q;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function q(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function V(t,e,n){return(2!==e.length?W(L(t,e,n),(([t,e],[n,i])=>r(e,i)||r(t,n))):W(F(t,n),(([t,n],[i,o])=>e(n,o)||r(t,i)))).map((([t])=>t))}var H=Array.prototype,G=H.slice;function X(t){return()=>t}H.map;var J=Math.sqrt(50),K=Math.sqrt(10),Z=Math.sqrt(2);function Q(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=tt(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function tt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=J?10:o>=K?5:o>=Z?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=J?10:o>=K?5:o>=Z?2:1)}function et(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=J?i*=10:o>=K?i*=5:o>=Z&&(i*=2),e<t?-i:i}function nt(t,e,n){let r;for(;;){const i=tt(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function rt(t){return Math.ceil(Math.log(h(t))/Math.LN2)+1}function it(){var t=M,e=_,n=rt;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var c=e(s),l=c[0],h=c[1],d=n(s,l,h);if(!Array.isArray(d)){const t=h,n=+d;if(e===_&&([l,h]=nt(l,h,n)),(d=Q(l,h,n))[d.length-1]>=h)if(t>=h&&e===_){const t=tt(l,h,n);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else d.pop()}for(var f=d.length;d[0]<=l;)d.shift(),--f;for(;d[f-1]>h;)d.pop(),--f;var p,g=new Array(f+1);for(i=0;i<=f;++i)(p=g[i]=[]).x0=i>0?d[i-1]:l,p.x1=i<f?d[i]:h;for(i=0;i<a;++i)null!=(o=s[i])&&l<=o&&o<=h&&g[u(d,o,0,f)].push(r[i]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:X(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:X([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?X(G.call(t)):X(t),r):n},r}function ot(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function at(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function st(t,e,n=0,r=t.length-1,i){for(i=void 0===i?q:U(i);r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(o-c)/o)*(a-o/2<0?-1:1);st(t,e,Math.max(n,Math.floor(e-a*c/o+l)),Math.min(r,Math.floor(e+(o-a)*c/o+l)),i)}const o=t[e];let a=n,s=r;for(ct(t,n,e),i(t[r],o)>0&&ct(t,n,r);a<s;){for(ct(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?ct(t,n,s):(++s,ct(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ct(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function lt(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),r=t.length){if((e=+e)<=0||r<2)return at(t);if(e>=1)return ot(t);var r,i=(r-1)*e,o=Math.floor(i),a=ot(st(t,o).subarray(0,o+1));return a+(at(t.subarray(o+1))-a)*(i-o)}}function ut(t,e,n=o){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t);return s+(+n(t[a+1],a+1,t)-s)*(i-a)}}function ht(t,e,n){return Math.ceil((n-e)/(2*(lt(t,.75)-lt(t,.25))*Math.pow(h(t),-1/3)))}function dt(t,e,n){return Math.ceil((n-e)/(3.5*v(t)*Math.pow(h(t),-1/3)))}function ft(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function pt(t,e){let n=0,r=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function gt(t,e){return lt(t,.5,e)}function mt(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function yt(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function bt(t,e){const n=new D;if(void 0===e)for(let o of t)null!=o&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function vt(t,e=_t){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function _t(t,e){return[t,e]}function xt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function wt(t,e=r){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t);const i=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=r);const o=(t,r)=>e(n[t],n[r]);let a,s;return Uint32Array.from(n,((t,e)=>e)).sort(e===r?(t,e)=>q(n[t],n[e]):U(o)).forEach(((t,e)=>{const n=o(t,void 0===a?t:a);n>=0?((void 0===a||n>0)&&(a=t,s=e),i[t]=s):i[t]=NaN})),i}function kt(t,e=r){let n,i=!1;if(1===e.length){let o;for(const a of t){const t=e(a);(i?r(t,o)<0:0===r(t,t))&&(n=a,o=t,i=!0)}}else for(const r of t)(i?e(r,n)<0:0===e(r,r))&&(n=r,i=!0);return n}function Dt(t,e=r){if(1===e.length)return yt(t,e);let n,i=-1,o=-1;for(const r of t)++o,(i<0?0===e(r,r):e(r,n)<0)&&(n=r,i=o);return i}function Ct(t,e=r){let n,i=!1;if(1===e.length){let o;for(const a of t){const t=e(a);(i?r(t,o)>0:0===r(t,t))&&(n=a,o=t,i=!0)}}else for(const r of t)(i?e(r,n)>0:0===e(r,r))&&(n=r,i=!0);return n}function Et(t,e=r){if(1===e.length)return ft(t,e);let n,i=-1,o=-1;for(const r of t)++o,(i<0?0===e(r,r):e(r,n)>0)&&(n=r,i=o);return i}function St(t,e){const n=Dt(t,e);return n<0?void 0:n}const Tt=At(Math.random);function At(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const r=t()*i--|0,o=e[i+n];e[i+n]=e[r+n],e[r+n]=o}return e}}function Mt(t,e){let n=0;if(void 0===e)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Ft(t){if(!(i=t.length))return[];for(var e=-1,n=at(t,Ot),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function Ot(t){return t.length}function Nt(){return Ft(arguments)}function Bt(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function It(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function Lt(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Rt(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}function Pt(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++a}for(;({done:i,value:o}=r.next()),!i;)n=e(n,o,++a,t);return n}function jt(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function zt(t,...e){t=new C(t);for(const n of e)for(const e of n)t.delete(e);return t}function $t(t,e){const n=e[Symbol.iterator](),r=new C;for(const i of t){if(r.has(i))return!1;let t,e;for(;({value:t,done:e}=n.next())&&!e;){if(Object.is(i,t))return!1;r.add(t)}}return!0}function Yt(t,...e){t=new C(t),e=e.map(Wt);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Wt(t){return t instanceof C?t:new C(t)}function Ut(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){const t=qt(i);if(r.has(t))continue;let e,o;for(;({value:e,done:o}=n.next());){if(o)return!1;const n=qt(e);if(r.add(n),Object.is(t,n))break}}return!0}function qt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Vt(t,e){return Ut(e,t)}function Ht(...t){const e=new C;for(const n of t)for(const t of n)e.add(t);return e}function Gt(t){return t}var Xt=1e-6;function Jt(t){return"translate("+t+",0)"}function Kt(t){return"translate(0,"+t+")"}function Zt(t){return e=>+t(e)}function Qt(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function te(){return!this.__axis}function ee(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",h=1===t||3===t?Jt:Kt;function d(d){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):Gt:i,g=Math.max(o,0)+s,m=e.range(),y=+m[0]+c,b=+m[m.length-1]+c,v=(e.bandwidth?Qt:Zt)(e.copy(),c),_=d.selection?d.selection():d,x=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(f,e).order(),k=w.exit(),D=w.enter().append("g").attr("class","tick"),C=w.select("line"),E=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(D),C=C.merge(D.append("line").attr("stroke","currentColor").attr(u+"2",l*o)),E=E.merge(D.append("text").attr("fill","currentColor").attr(u,l*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),d!==_&&(x=x.transition(d),w=w.transition(d),C=C.transition(d),E=E.transition(d),k=k.transition(d).attr("opacity",Xt).attr("transform",(function(t){return isFinite(t=v(t))?h(t+c):this.getAttribute("transform")})),D.attr("opacity",Xt).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:v(t))+c)}))),k.remove(),x.attr("d",4===t||2===t?a?"M"+l*a+","+y+"H"+c+"V"+b+"H"+l*a:"M"+c+","+y+"V"+b:a?"M"+y+","+l*a+"V"+c+"H"+b+"V"+l*a:"M"+y+","+c+"H"+b),w.attr("opacity",1).attr("transform",(function(t){return h(v(t)+c)})),C.attr(u+"2",l*o),E.attr(u,l*g).text(p),_.filter(te).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_.each((function(){this.__axis=v}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(o=a=+t,d):o},d.tickSizeInner=function(t){return arguments.length?(o=+t,d):o},d.tickSizeOuter=function(t){return arguments.length?(a=+t,d):a},d.tickPadding=function(t){return arguments.length?(s=+t,d):s},d.offset=function(t){return arguments.length?(c=+t,d):c},d}function ne(t){return ee(1,t)}function re(t){return ee(2,t)}function ie(t){return ee(3,t)}function oe(t){return ee(4,t)}var ae={value:()=>{}};function se(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ce(r)}function ce(t){this._=t}function le(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ue(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function he(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ae,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ce.prototype=se.prototype={constructor:ce,on:function(t,e){var n,r=this._,i=le(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=he(r[n],t.name,e);else if(null==e)for(n in r)r[n]=he(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=ue(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ce(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const de=se;function fe(){}function pe(t){return null==t?fe:function(){return this.querySelector(t)}}function ge(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function me(){return[]}function ye(t){return null==t?me:function(){return this.querySelectorAll(t)}}function be(t){return function(){return this.matches(t)}}function ve(t){return function(e){return e.matches(t)}}var _e=Array.prototype.find;function xe(){return this.firstElementChild}var we=Array.prototype.filter;function ke(){return Array.from(this.children)}function De(t){return new Array(t.length)}function Ce(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ee(t){return function(){return t}}function Se(t,e,n,r,i,o){for(var a,s=0,c=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Ce(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function Te(t,e,n,r,i,o,a){var s,c,l,u=new Map,h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(c=e[s])&&(f[s]=l=a.call(c,c.__data__,s,e)+"",u.has(l)?i[s]=c:u.set(l,c));for(s=0;s<d;++s)l=a.call(t,o[s],s,o)+"",(c=u.get(l))?(r[s]=c,c.__data__=o[s],u.delete(l)):n[s]=new Ce(t,o[s]);for(s=0;s<h;++s)(c=e[s])&&u.get(f[s])===c&&(i[s]=c)}function Ae(t){return t.__data__}function Me(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Fe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Ce.prototype={constructor:Ce,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Oe="http://www.w3.org/1999/xhtml";const Ne={svg:"http://www.w3.org/2000/svg",xhtml:Oe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Be(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ne.hasOwnProperty(e)?{space:Ne[e],local:t}:t}function Ie(t){return function(){this.removeAttribute(t)}}function Le(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Re(t,e){return function(){this.setAttribute(t,e)}}function Pe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function je(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ze(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $e(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ye(t){return function(){this.style.removeProperty(t)}}function We(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ue(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function qe(t,e){return t.style.getPropertyValue(e)||$e(t).getComputedStyle(t,null).getPropertyValue(e)}function Ve(t){return function(){delete this[t]}}function He(t,e){return function(){this[t]=e}}function Ge(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Xe(t){return t.trim().split(/^|\s+/)}function Je(t){return t.classList||new Ke(t)}function Ke(t){this._node=t,this._names=Xe(t.getAttribute("class")||"")}function Ze(t,e){for(var n=Je(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Qe(t,e){for(var n=Je(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function tn(t){return function(){Ze(this,t)}}function en(t){return function(){Qe(this,t)}}function nn(t,e){return function(){(e.apply(this,arguments)?Ze:Qe)(this,t)}}function rn(){this.textContent=""}function on(t){return function(){this.textContent=t}}function an(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function sn(){this.innerHTML=""}function cn(t){return function(){this.innerHTML=t}}function ln(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function un(){this.nextSibling&&this.parentNode.appendChild(this)}function hn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Oe&&e.documentElement.namespaceURI===Oe?e.createElement(t):e.createElementNS(n,t)}}function fn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pn(t){var e=Be(t);return(e.local?fn:dn)(e)}function gn(){return null}function mn(){var t=this.parentNode;t&&t.removeChild(this)}function yn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function _n(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function xn(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function wn(t,e,n){var r=$e(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function kn(t,e){return function(){return wn(this,t,e)}}function Dn(t,e){return function(){return wn(this,t,e.apply(this,arguments))}}Ke.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Cn=[null];function En(t,e){this._groups=t,this._parents=e}function Sn(){return new En([[document.documentElement]],Cn)}En.prototype=Sn.prototype={constructor:En,select:function(t){"function"!=typeof t&&(t=pe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new En(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return ge(t.apply(this,arguments))}}(t):ye(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new En(r,i)},selectChild:function(t){return this.select(null==t?xe:function(t){return function(){return _e.call(this.children,t)}}("function"==typeof t?t:ve(t)))},selectChildren:function(t){return this.selectAll(null==t?ke:function(t){return function(){return we.call(this.children,t)}}("function"==typeof t?t:ve(t)))},filter:function(t){"function"!=typeof t&&(t=be(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new En(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Ae);var n=e?Te:Se,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Ee(t));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var u=r[l],h=i[l],d=h.length,f=Me(t.call(u,u&&u.__data__,l,r)),p=f.length,g=s[l]=new Array(p),m=a[l]=new Array(p),y=c[l]=new Array(d);n(u,h,g,m,y,f,e);for(var b,v,_=0,x=0;_<p;++_)if(b=g[_]){for(_>=x&&(x=_+1);!(v=m[x])&&++x<p;);b._next=v||null}}return(a=new En(a,r))._enter=s,a._exit=c,a},enter:function(){return new En(this._enter||this._groups.map(De),this._parents)},exit:function(){return new En(this._exit||this._groups.map(De),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var l,u=n[c],h=r[c],d=u.length,f=s[c]=new Array(d),p=0;p<d;++p)(l=u[p]||h[p])&&(f[p]=l);for(;c<i;++c)s[c]=n[c];return new En(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Fe);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,l=i[o]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(e)}return new En(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Be(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Le:Ie:"function"==typeof e?n.local?ze:je:n.local?Pe:Re)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Ye:"function"==typeof e?Ue:We)(t,e,null==n?"":n)):qe(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ve:"function"==typeof e?Ge:He)(t,e)):this.node()[t]},classed:function(t,e){var n=Xe(t+"");if(arguments.length<2){for(var r=Je(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?nn:e?tn:en)(n,e))},text:function(t){return arguments.length?this.each(null==t?rn:("function"==typeof t?an:on)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?sn:("function"==typeof t?ln:cn)(t)):this.node().innerHTML},raise:function(){return this.each(un)},lower:function(){return this.each(hn)},append:function(t){var e="function"==typeof t?t:pn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:pn(t),r=null==e?gn:"function"==typeof e?e:pe(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(mn)},clone:function(t){return this.select(t?bn:yn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=vn(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?xn:_n,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Dn:kn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Tn=Sn;function An(t){return"string"==typeof t?new En([[document.querySelector(t)]],[document.documentElement]):new En([[t]],Cn)}const Mn={passive:!1},Fn={capture:!0,passive:!1};function On(t){t.stopImmediatePropagation()}function Nn(t){t.preventDefault(),t.stopImmediatePropagation()}function Bn(t){var e=t.document.documentElement,n=An(t).on("dragstart.drag",Nn,Fn);"onselectstart"in e?n.on("selectstart.drag",Nn,Fn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function In(t,e){var n=t.document.documentElement,r=An(t).on("dragstart.drag",null);e&&(r.on("click.drag",Nn,Fn),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ln(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pn(){}var jn=.7,zn=1/jn,$n="\\s*([+-]?\\d+)\\s*",Yn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Un=/^#([0-9a-f]{3,8})$/,qn=new RegExp("^rgb\\("+[$n,$n,$n]+"\\)$"),Vn=new RegExp("^rgb\\("+[Wn,Wn,Wn]+"\\)$"),Hn=new RegExp("^rgba\\("+[$n,$n,$n,Yn]+"\\)$"),Gn=new RegExp("^rgba\\("+[Wn,Wn,Wn,Yn]+"\\)$"),Xn=new RegExp("^hsl\\("+[Yn,Wn,Wn]+"\\)$"),Jn=new RegExp("^hsla\\("+[Yn,Wn,Wn,Yn]+"\\)$"),Kn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zn(){return this.rgb().formatHex()}function Qn(){return this.rgb().formatRgb()}function tr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Un.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?er(e):3===n?new or(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?nr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?nr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=qn.exec(t))?new or(e[1],e[2],e[3],1):(e=Vn.exec(t))?new or(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Hn.exec(t))?nr(e[1],e[2],e[3],e[4]):(e=Gn.exec(t))?nr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Xn.exec(t))?lr(e[1],e[2]/100,e[3]/100,1):(e=Jn.exec(t))?lr(e[1],e[2]/100,e[3]/100,e[4]):Kn.hasOwnProperty(t)?er(Kn[t]):"transparent"===t?new or(NaN,NaN,NaN,0):null}function er(t){return new or(t>>16&255,t>>8&255,255&t,1)}function nr(t,e,n,r){return r<=0&&(t=e=n=NaN),new or(t,e,n,r)}function rr(t){return t instanceof Pn||(t=tr(t)),t?new or((t=t.rgb()).r,t.g,t.b,t.opacity):new or}function ir(t,e,n,r){return 1===arguments.length?rr(t):new or(t,e,n,null==r?1:r)}function or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ar(){return"#"+cr(this.r)+cr(this.g)+cr(this.b)}function sr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function cr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function lr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new dr(t,e,n,r)}function ur(t){if(t instanceof dr)return new dr(t.h,t.s,t.l,t.opacity);if(t instanceof Pn||(t=tr(t)),!t)return new dr;if(t instanceof dr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new dr(a,s,c,t.opacity)}function hr(t,e,n,r){return 1===arguments.length?ur(t):new dr(t,e,n,null==r?1:r)}function dr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function fr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function pr(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function gr(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return pr((n-r/e)*e,a,i,o,s)}}function mr(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return pr((n-r/e)*e,i,o,a,s)}}Ln(Pn,tr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Zn,formatHex:Zn,formatHsl:function(){return ur(this).formatHsl()},formatRgb:Qn,toString:Qn}),Ln(or,ir,Rn(Pn,{brighter:function(t){return t=null==t?zn:Math.pow(zn,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?jn:Math.pow(jn,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ar,formatHex:ar,formatRgb:sr,toString:sr})),Ln(dr,hr,Rn(Pn,{brighter:function(t){return t=null==t?zn:Math.pow(zn,t),new dr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?jn:Math.pow(jn,t),new dr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new or(fr(t>=240?t-240:t+120,i,r),fr(t,i,r),fr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const yr=t=>()=>t;function br(t,e){return function(n){return t+n*e}}function vr(t,e){var n=e-t;return n?br(t,n>180||n<-180?n-360*Math.round(n/360):n):yr(isNaN(t)?e:t)}function _r(t,e){var n=e-t;return n?br(t,n):yr(isNaN(t)?e:t)}const xr=function t(e){var n=function(t){return 1==(t=+t)?_r:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):yr(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=ir(t)).r,(e=ir(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=_r(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function wr(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=ir(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var kr=wr(gr),Dr=wr(mr);function Cr(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Er(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Sr(t,e){return(Er(e)?Cr:Tr)(t,e)}function Tr(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ir(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Ar(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fr(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ir(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Or=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nr=new RegExp(Or.source,"g");function Br(t,e){var n,r,i,o=Or.lastIndex=Nr.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=Or.exec(t))&&(r=Nr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:Mr(n,r)})),o=Nr.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function Ir(t,e){var n,r=typeof e;return null==e||"boolean"===r?yr(e):("number"===r?Mr:"string"===r?(n=tr(e))?(e=n,xr):Br:e instanceof tr?xr:e instanceof Date?Ar:Er(e)?Cr:Array.isArray(e)?Tr:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Fr:Mr)(t,e)}function Lr(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Rr(t,e){if(t=Lr(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var Pr,jr,zr=0,$r=0,Yr=0,Wr=0,Ur=0,qr=0,Vr="object"==typeof performance&&performance.now?performance:Date,Hr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gr(){return Ur||(Hr(Xr),Ur=Vr.now()+qr)}function Xr(){Ur=0}function Jr(){this._call=this._time=this._next=null}function Kr(t,e,n){var r=new Jr;return r.restart(t,e,n),r}function Zr(){Gr(),++zr;for(var t,e=Pr;e;)(t=Ur-e._time)>=0&&e._call.call(void 0,t),e=e._next;--zr}function Qr(){Ur=(Wr=Vr.now())+qr,zr=$r=0;try{Zr()}finally{zr=0,function(){for(var t,e,n=Pr,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Pr=e);jr=t,ei(r)}(),Ur=0}}function ti(){var t=Vr.now(),e=t-Wr;e>1e3&&(qr-=e,Wr=t)}function ei(t){zr||($r&&($r=clearTimeout($r)),t-Ur>24?(t<1/0&&($r=setTimeout(Qr,t-Vr.now()-qr)),Yr&&(Yr=clearInterval(Yr))):(Yr||(Wr=Vr.now(),Yr=setInterval(ti,1e3)),zr=1,Hr(Qr)))}function ni(t,e,n){var r=new Jr;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Jr.prototype=Kr.prototype={constructor:Jr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Gr():+n)+(null==e?0:+e),this._next||jr===this||(jr?jr._next=this:Pr=this,jr=this),this._call=t,this._time=n,ei()},stop:function(){this._call&&(this._call=null,this._time=1/0,ei())}};var ri=de("start","end","cancel","interrupt"),ii=[];function oi(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(c){var l,u,h,d;if(1!==n.state)return s();for(l in i)if((d=i[l]).name===n.name){if(3===d.state)return ni(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[l]):+l<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[l])}if(ni((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Kr((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:ri,tween:ii,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ai(t,e){var n=ci(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function si(t,e){var n=ci(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ci(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function li(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}var ui,hi=180/Math.PI,di={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fi(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*hi,skewX:Math.atan(c)*hi,scaleX:a,scaleY:s}}function pi(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:Mr(t,i)},{i:c-2,x:Mr(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Mr(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Mr(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,c),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Mr(t,n)},{i:s-2,x:Mr(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var gi=pi((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?di:fi(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),mi=pi((function(t){return null==t?di:(ui||(ui=document.createElementNS("http://www.w3.org/2000/svg","g")),ui.setAttribute("transform",t),(t=ui.transform.baseVal.consolidate())?fi((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):di)}),", ",")",")");function yi(t,e){var n,r;return function(){var i=si(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function bi(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=si(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function vi(t,e,n){var r=t._id;return t.each((function(){var t=si(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ci(t,r).value[e]}}function _i(t,e){var n;return("number"==typeof e?Mr:e instanceof tr?xr:(n=tr(e))?(e=n,xr):Br)(t,e)}function xi(t){return function(){this.removeAttribute(t)}}function wi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ki(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Di(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Ci(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttribute(t)}}function Ei(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Si(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ti(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ai(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ti(t,i)),n}return i._value=e,i}function Mi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Si(t,i)),n}return i._value=e,i}function Fi(t,e){return function(){ai(this,t).delay=+e.apply(this,arguments)}}function Oi(t,e){return e=+e,function(){ai(this,t).delay=e}}function Ni(t,e){return function(){si(this,t).duration=+e.apply(this,arguments)}}function Bi(t,e){return e=+e,function(){si(this,t).duration=e}}function Ii(t,e){if("function"!=typeof e)throw new Error;return function(){si(this,t).ease=e}}function Li(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ai:si;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Ri=Tn.prototype.constructor;function Pi(t){return function(){this.style.removeProperty(t)}}function ji(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zi(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&ji(t,o,n)),r}return o._value=e,o}function $i(t){return function(e){this.textContent=t.call(this,e)}}function Yi(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&$i(r)),e}return r._value=t,r}var Wi=0;function Ui(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qi(t){return Tn().transition(t)}function Vi(){return++Wi}var Hi=Tn.prototype;function Gi(t){return t*t*t}function Xi(t){return--t*t*t+1}function Ji(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ui.prototype=qi.prototype={constructor:Ui,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pe(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],u=l.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=l[d])&&(c=t.call(s,s.__data__,d,l))&&("__data__"in s&&(c.__data__=s.__data__),h[d]=c,oi(h[d],e,n,d,h,ci(s,n)));return new Ui(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ye(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var d,f=t.call(c,c.__data__,h,l),p=ci(c,n),g=0,m=f.length;g<m;++g)(d=f[g])&&oi(d,e,n,g,f,p);o.push(f),a.push(c)}return new Ui(o,a,e,n)},selectChild:Hi.selectChild,selectChildren:Hi.selectChildren,filter:function(t){"function"!=typeof t&&(t=be(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new Ui(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=e[s],u=n[s],h=l.length,d=a[s]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;s<r;++s)a[s]=e[s];return new Ui(a,this._parents,this._name,this._id)},selection:function(){return new Ri(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Vi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=ci(a,e);oi(a,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ui(r,this._parents,t,n)},call:Hi.call,nodes:Hi.nodes,node:Hi.node,size:Hi.size,empty:Hi.empty,each:Hi.each,on:function(t,e){var n=this._id;return arguments.length<2?ci(this.node(),n).on.on(t):this.each(Li(n,t,e))},attr:function(t,e){var n=Be(t),r="transform"===n?mi:_i;return this.attrTween(t,"function"==typeof e?(n.local?Ei:Ci)(n,r,vi(this,"attr."+t,e)):null==e?(n.local?wi:xi)(n):(n.local?Di:ki)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Be(t);return this.tween(n,(r.local?Ai:Mi)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?gi:_i;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=qe(this,t),a=(this.style.removeProperty(t),qe(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Pi(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=qe(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=qe(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}(t,r,vi(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var c=si(this,t),l=c.on,u=null==c.value[a]?o||(o=Pi(e)):void 0;l===n&&i===u||(r=(n=l).copy()).on(s,i=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=qe(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,zi(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(vi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Yi(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ci(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?yi:bi)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Fi:Oi)(e,t)):ci(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ni:Bi)(e,t)):ci(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ii(e,t)):ci(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;si(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=si(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Hi[Symbol.iterator]};var Ki={time:null,delay:0,duration:250,ease:Ji};function Zi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Tn.prototype.interrupt=function(t){return this.each((function(){li(this,t)}))},Tn.prototype.transition=function(t){var e,n;t instanceof Ui?(e=t._id,t=t._name):(e=Vi(),(n=Ki).time=Gr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)(a=s[l])&&oi(a,t,e,l,s,n||Zi(a,e));return new Ui(r,this._parents,t,e)};var Qi=[null];function to(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new Ui([[t]],Qi,e,+r);return null}const eo=t=>()=>t;function no(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function ro(t){t.stopImmediatePropagation()}function io(t){t.preventDefault(),t.stopImmediatePropagation()}var oo={name:"drag"},ao={name:"space"},so={name:"handle"},co={name:"center"};const{abs:lo,max:uo,min:ho}=Math;function fo(t){return[+t[0],+t[1]]}function po(t){return[fo(t[0]),fo(t[1])]}var go={name:"x",handles:["w","e"].map(ko),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},mo={name:"y",handles:["n","s"].map(ko),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},yo={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ko),input:function(t){return null==t?null:po(t)},output:function(t){return t}},bo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},vo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_o={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},xo={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},wo={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ko(t){return{type:t}}function Do(t){return!t.ctrlKey&&!t.button}function Co(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Eo(){return navigator.maxTouchPoints||"ontouchstart"in this}function So(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function To(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ao(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Mo(){return No(go)}function Fo(){return No(mo)}function Oo(){return No(yo)}function No(t){var e,n=Co,r=Do,i=Eo,o=!0,a=de("start","brush","end"),s=6;function c(e){var n=e.property("__brush",g).selectAll(".overlay").data([ko("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",bo.overlay).merge(n).each((function(){var t=So(this).extent;An(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([ko("selection")]).enter().append("rect").attr("class","selection").attr("cursor",bo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return bo[t.type]})),e.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(i).on("touchstart.brush",d).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t=An(this),e=So(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new h(t,e,n):r}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function d(n){if((!e||n.touches)&&r.apply(this,arguments)){var i,a,s,c,h,d,f,p,g,m,y,b=this,v=n.target.__data__.type,_="selection"===(o&&n.metaKey?v="overlay":v)?oo:o&&n.altKey?co:so,x=t===mo?null:xo[v],w=t===go?null:wo[v],k=So(b),D=k.extent,C=k.selection,E=D[0][0],S=D[0][1],T=D[1][0],A=D[1][1],M=0,F=0,O=x&&w&&o&&n.shiftKey,N=Array.from(n.touches||[n],(t=>{const e=t.identifier;return(t=Rr(t,b)).point0=t.slice(),t.identifier=e,t}));li(b);var B=u(b,arguments,!0).beforestart();if("overlay"===v){C&&(g=!0);const e=[N[0],N[1]||N[0]];k.selection=C=[[i=t===mo?E:ho(e[0][0],e[1][0]),s=t===go?S:ho(e[0][1],e[1][1])],[h=t===mo?T:uo(e[0][0],e[1][0]),f=t===go?A:uo(e[0][1],e[1][1])]],N.length>1&&j(n)}else i=C[0][0],s=C[0][1],h=C[1][0],f=C[1][1];a=i,c=s,d=h,p=f;var I=An(b).attr("pointer-events","none"),L=I.selectAll(".overlay").attr("cursor",bo[v]);if(n.touches)B.moved=P,B.ended=z;else{var R=An(n.view).on("mousemove.brush",P,!0).on("mouseup.brush",z,!0);o&&R.on("keydown.brush",$,!0).on("keyup.brush",Y,!0),Bn(n.view)}l.call(b),B.start(n,_.name)}function P(t){for(const e of t.changedTouches||[t])for(const t of N)t.identifier===e.identifier&&(t.cur=Rr(e,b));if(O&&!m&&!y&&1===N.length){const t=N[0];lo(t.cur[0]-t[0])>lo(t.cur[1]-t[1])?y=!0:m=!0}for(const e of N)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);g=!0,io(t),j(t)}function j(t){const e=N[0],n=e.point0;var r;switch(M=e[0]-n[0],F=e[1]-n[1],_){case ao:case oo:x&&(M=uo(E-i,ho(T-h,M)),a=i+M,d=h+M),w&&(F=uo(S-s,ho(A-f,F)),c=s+F,p=f+F);break;case so:N[1]?(x&&(a=uo(E,ho(T,N[0][0])),d=uo(E,ho(T,N[1][0])),x=1),w&&(c=uo(S,ho(A,N[0][1])),p=uo(S,ho(A,N[1][1])),w=1)):(x<0?(M=uo(E-i,ho(T-i,M)),a=i+M,d=h):x>0&&(M=uo(E-h,ho(T-h,M)),a=i,d=h+M),w<0?(F=uo(S-s,ho(A-s,F)),c=s+F,p=f):w>0&&(F=uo(S-f,ho(A-f,F)),c=s,p=f+F));break;case co:x&&(a=uo(E,ho(T,i-M*x)),d=uo(E,ho(T,h+M*x))),w&&(c=uo(S,ho(A,s-F*w)),p=uo(S,ho(A,f+F*w)))}d<a&&(x*=-1,r=i,i=h,h=r,r=a,a=d,d=r,v in vo&&L.attr("cursor",bo[v=vo[v]])),p<c&&(w*=-1,r=s,s=f,f=r,r=c,c=p,p=r,v in _o&&L.attr("cursor",bo[v=_o[v]])),k.selection&&(C=k.selection),m&&(a=C[0][0],d=C[1][0]),y&&(c=C[0][1],p=C[1][1]),C[0][0]===a&&C[0][1]===c&&C[1][0]===d&&C[1][1]===p||(k.selection=[[a,c],[d,p]],l.call(b),B.brush(t,_.name))}function z(t){if(ro(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else In(t.view,g),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),L.attr("cursor",bo.overlay),k.selection&&(C=k.selection),To(C)&&(k.selection=null,l.call(b)),B.end(t,_.name)}function $(t){switch(t.keyCode){case 16:O=x&&w;break;case 18:_===so&&(x&&(h=d-M*x,i=a+M*x),w&&(f=p-F*w,s=c+F*w),_=co,j(t));break;case 32:_!==so&&_!==co||(x<0?h=d-M:x>0&&(i=a-M),w<0?f=p-F:w>0&&(s=c-F),_=ao,L.attr("cursor",bo.selection),j(t));break;default:return}io(t)}function Y(t){switch(t.keyCode){case 16:O&&(m=y=O=!1,j(t));break;case 18:_===co&&(x<0?h=d:x>0&&(i=a),w<0?f=p:w>0&&(s=c),_=so,j(t));break;case 32:_===ao&&(t.altKey?(x&&(h=d-M*x,i=a+M*x),w&&(f=p-F*w,s=c+F*w),_=co):(x<0?h=d:x>0&&(i=a),w<0?f=p:w>0&&(s=c),_=so),L.attr("cursor",bo[v]),j(t));break;default:return}io(t)}}function f(t){u(this,arguments).moved(t)}function p(t){u(this,arguments).ended(t)}function g(){var e=this.__brush||{selection:null};return e.extent=po(n.apply(this,arguments)),e.dim=t,e}return c.move=function(e,n,r){e.tween?e.on("start.brush",(function(t){u(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){u(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,i=u(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=Ir(o,a);function c(t){r.selection=1===t&&null===a?null:s(t),l.call(e),i.brush()}return null!==o&&null!==a?c:c(1)})):e.each((function(){var e=this,i=arguments,o=e.__brush,a=t.input("function"==typeof n?n.apply(e,i):n,o.extent),s=u(e,i).beforestart();li(e),o.selection=null===a?null:a,l.call(e),s.start(r).brush(r).end(r)}))},c.clear=function(t,e){c.move(t,null,e)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=An(this.that).datum();a.call(e,this.that,new no(e,{sourceEvent:n,target:c,selection:t.output(this.state.selection),mode:r,dispatch:a}),i)}},c.extent=function(t){return arguments.length?(n="function"==typeof t?t:eo(po(t)),c):n},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:eo(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:eo(!!t),c):i},c.handleSize=function(t){return arguments.length?(s=+t,c):s},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}var Bo=Math.abs,Io=Math.cos,Lo=Math.sin,Ro=Math.PI,Po=Ro/2,jo=2*Ro,zo=Math.max,$o=1e-12;function Yo(t,e){return Array.from({length:e-t},((e,n)=>t+n))}function Wo(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Uo(){return Ho(!1,!1)}function qo(){return Ho(!1,!0)}function Vo(){return Ho(!0,!1)}function Ho(t,e){var n=0,r=null,i=null,o=null;function a(a){var s,c=a.length,l=new Array(c),u=Yo(0,c),h=new Array(c*c),d=new Array(c),f=0;a=Float64Array.from({length:c*c},e?(t,e)=>a[e%c][e/c|0]:(t,e)=>a[e/c|0][e%c]);for(let e=0;e<c;++e){let n=0;for(let r=0;r<c;++r)n+=a[e*c+r]+t*a[r*c+e];f+=l[e]=n}s=(f=zo(0,jo-n*c)/f)?n:jo/c;{let e=0;r&&u.sort(((t,e)=>r(l[t],l[e])));for(const n of u){const r=e;if(t){const t=Yo(1+~c,c).filter((t=>t<0?a[~t*c+n]:a[n*c+t]));i&&t.sort(((t,e)=>i(t<0?-a[~t*c+n]:a[n*c+t],e<0?-a[~e*c+n]:a[n*c+e])));for(const r of t)r<0?(h[~r*c+n]||(h[~r*c+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=a[~r*c+n]*f,value:a[~r*c+n]}:(h[n*c+r]||(h[n*c+r]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=a[n*c+r]*f,value:a[n*c+r]};d[n]={index:n,startAngle:r,endAngle:e,value:l[n]}}else{const t=Yo(0,c).filter((t=>a[n*c+t]||a[t*c+n]));i&&t.sort(((t,e)=>i(a[n*c+t],a[n*c+e])));for(const r of t){let t;if(n<r?(t=h[n*c+r]||(h[n*c+r]={source:null,target:null}),t.source={index:n,startAngle:e,endAngle:e+=a[n*c+r]*f,value:a[n*c+r]}):(t=h[r*c+n]||(h[r*c+n]={source:null,target:null}),t.target={index:n,startAngle:e,endAngle:e+=a[n*c+r]*f,value:a[n*c+r]},n===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}d[n]={index:n,startAngle:r,endAngle:e,value:l[n]}}e+=s}}return(h=Object.values(h)).groups=d,o?h.sort(o):h}return a.padAngle=function(t){return arguments.length?(n=zo(0,t),a):n},a.sortGroups=function(t){return arguments.length?(r=t,a):r},a.sortSubgroups=function(t){return arguments.length?(i=t,a):i},a.sortChords=function(t){return arguments.length?(null==t?o=null:(o=Wo(t))._=t,a):o&&o._},a}const Go=Math.PI,Xo=2*Go,Jo=1e-6,Ko=Xo-Jo;function Zo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qo(){return new Zo}Zo.prototype=Qo.prototype={constructor:Zo,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,c=r-e,l=o-t,u=a-e,h=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Jo)if(Math.abs(u*s-c*l)>Jo&&i){var d=n-o,f=r-a,p=s*s+c*c,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),b=i*Math.tan((Go-Math.acos((p+h-g)/(2*m*y)))/2),v=b/y,_=b/m;Math.abs(v-1)>Jo&&(this._+="L"+(t+v*l)+","+(e+v*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>l*f)+","+(this._x1=t+_*s)+","+(this._y1=e+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=t+a,l=e+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Jo||Math.abs(this._y1-l)>Jo)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%Xo+Xo),h>Ko?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>Jo&&(this._+="A"+n+","+n+",0,"+ +(h>=Go)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const ta=Qo;var ea=Array.prototype.slice;function na(t){return function(){return t}}function ra(t){return t.source}function ia(t){return t.target}function oa(t){return t.radius}function aa(t){return t.startAngle}function sa(t){return t.endAngle}function ca(){return 0}function la(){return 10}function ua(t){var e=ra,n=ia,r=oa,i=oa,o=aa,a=sa,s=ca,c=null;function l(){var l,u=e.apply(this,arguments),h=n.apply(this,arguments),d=s.apply(this,arguments)/2,f=ea.call(arguments),p=+r.apply(this,(f[0]=u,f)),g=o.apply(this,f)-Po,m=a.apply(this,f)-Po,y=+i.apply(this,(f[0]=h,f)),b=o.apply(this,f)-Po,v=a.apply(this,f)-Po;if(c||(c=l=ta()),d>$o&&(Bo(m-g)>2*d+$o?m>g?(g+=d,m-=d):(g-=d,m+=d):g=m=(g+m)/2,Bo(v-b)>2*d+$o?v>b?(b+=d,v-=d):(b-=d,v+=d):b=v=(b+v)/2),c.moveTo(p*Io(g),p*Lo(g)),c.arc(0,0,p,g,m),g!==b||m!==v)if(t){var _=+t.apply(this,arguments),x=y-_,w=(b+v)/2;c.quadraticCurveTo(0,0,x*Io(b),x*Lo(b)),c.lineTo(y*Io(w),y*Lo(w)),c.lineTo(x*Io(v),x*Lo(v))}else c.quadraticCurveTo(0,0,y*Io(b),y*Lo(b)),c.arc(0,0,y,b,v);if(c.quadraticCurveTo(0,0,p*Io(g),p*Lo(g)),c.closePath(),l)return c=null,l+""||null}return t&&(l.headRadius=function(e){return arguments.length?(t="function"==typeof e?e:na(+e),l):t}),l.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:na(+t),l):r},l.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:na(+t),l):r},l.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:na(+t),l):i},l.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:na(+t),l):o},l.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:na(+t),l):a},l.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:na(+t),l):s},l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.context=function(t){return arguments.length?(c=null==t?null:t,l):c},l}function ha(){return ua()}function da(){return ua(la)}const fa=Math.PI/180,pa=180/Math.PI,ga=.96422,ma=.82521,ya=4/29,ba=6/29,va=3*ba*ba;function _a(t){if(t instanceof ka)return new ka(t.l,t.a,t.b,t.opacity);if(t instanceof Fa)return Oa(t);t instanceof or||(t=rr(t));var e,n,r=Sa(t.r),i=Sa(t.g),o=Sa(t.b),a=Da((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=Da((.4360747*r+.3850649*i+.1430804*o)/ga),n=Da((.0139322*r+.0971045*i+.7141733*o)/ma)),new ka(116*a-16,500*(e-a),200*(a-n),t.opacity)}function xa(t,e){return new ka(t,0,0,null==e?1:e)}function wa(t,e,n,r){return 1===arguments.length?_a(t):new ka(t,e,n,null==r?1:r)}function ka(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Da(t){return t>.008856451679035631?Math.pow(t,1/3):t/va+ya}function Ca(t){return t>ba?t*t*t:va*(t-ya)}function Ea(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Sa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ta(t){if(t instanceof Fa)return new Fa(t.h,t.c,t.l,t.opacity);if(t instanceof ka||(t=_a(t)),0===t.a&&0===t.b)return new Fa(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*pa;return new Fa(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Aa(t,e,n,r){return 1===arguments.length?Ta(t):new Fa(n,e,t,null==r?1:r)}function Ma(t,e,n,r){return 1===arguments.length?Ta(t):new Fa(t,e,n,null==r?1:r)}function Fa(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Oa(t){if(isNaN(t.h))return new ka(t.l,0,0,t.opacity);var e=t.h*fa;return new ka(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ln(ka,wa,Rn(Pn,{brighter:function(t){return new ka(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ka(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new or(Ea(3.1338561*(e=ga*Ca(e))-1.6168667*(t=1*Ca(t))-.4906146*(n=ma*Ca(n))),Ea(-.9787684*e+1.9161415*t+.033454*n),Ea(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ln(Fa,Ma,Rn(Pn,{brighter:function(t){return new Fa(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Fa(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Oa(this).rgb()}}));var Na=-.14861,Ba=1.78277,Ia=-.29227,La=-.90649,Ra=1.97294,Pa=Ra*La,ja=Ra*Ba,za=Ba*Ia-La*Na;function $a(t){if(t instanceof Wa)return new Wa(t.h,t.s,t.l,t.opacity);t instanceof or||(t=rr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(za*r+Pa*e-ja*n)/(za+Pa-ja),o=r-i,a=(Ra*(n-i)-Ia*o)/La,s=Math.sqrt(a*a+o*o)/(Ra*i*(1-i)),c=s?Math.atan2(a,o)*pa-120:NaN;return new Wa(c<0?c+360:c,s,i,t.opacity)}function Ya(t,e,n,r){return 1===arguments.length?$a(t):new Wa(t,e,n,null==r?1:r)}function Wa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ln(Wa,Ya,Rn(Pn,{brighter:function(t){return t=null==t?zn:Math.pow(zn,t),new Wa(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?jn:Math.pow(jn,t),new Wa(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*fa,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new or(255*(e+n*(Na*r+Ba*i)),255*(e+n*(Ia*r+La*i)),255*(e+n*(Ra*r)),this.opacity)}}));var Ua=Array.prototype.slice;function qa(t,e){return t-e}const Va=t=>()=>t;function Ha(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Ga(t,e[r]))return n;return 0}function Ga(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var c=t[o],l=c[0],u=c[1],h=t[s],d=h[0],f=h[1];if(Xa(c,h,e))return 0;u>r!=f>r&&n<(d-l)*(r-u)/(f-u)+l&&(i=-i)}return i}function Xa(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}function Ja(){}var Ka=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Za(){var t=1,e=1,n=rt,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(qa);else{const n=_(t),r=et(n[0],n[1],e);e=Q(Math.floor(n[0]/r)*r,Math.floor(n[1]/r-1)*r,e)}return e.map((e=>o(t,e)))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,c,l,u,h,d=new Array,f=new Array;for(o=s=-1,l=n[0]>=r,Ka[l<<1].forEach(p);++o<t-1;)c=l,l=n[o+1]>=r,Ka[c|l<<1].forEach(p);for(Ka[l<<0].forEach(p);++s<e-1;){for(o=-1,l=n[s*t+t]>=r,u=n[s*t]>=r,Ka[l<<1|u<<2].forEach(p);++o<t-1;)c=l,l=n[s*t+t+o+1]>=r,h=u,u=n[s*t+o+1]>=r,Ka[c|l<<1|u<<2|h<<3].forEach(p);Ka[l|u<<3].forEach(p)}for(o=-1,u=n[s*t]>=r,Ka[u<<2].forEach(p);++o<t-1;)h=u,u=n[s*t+o+1]>=r,Ka[u<<2|h<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+s],c=[t[1][0]+o,t[1][1]+s],l=a(r),u=a(c);(e=f[l])?(n=d[u])?(delete f[e.end],delete d[n.start],e===n?(e.ring.push(c),i(e.ring)):d[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(c),f[e.end=u]=e):(e=d[u])?(n=f[l])?(delete d[e.start],delete f[n.end],e===n?(e.ring.push(c),i(e.ring)):d[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(r),d[e.start=l]=e):d[l]=f[u]={start:l,end:u,ring:[r,c]}}Ka[u<<3].forEach(p)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==Ha((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],c=0|a,l=0|s,u=r[l*t+c];a>0&&a<t&&c===a&&(o=r[l*t+c-1],n[0]=a+(i-o)/(u-o)-.5),s>0&&s<e&&l===s&&(o=r[(l-1)*t+c],n[1]=s+(i-o)/(u-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.floor(n[0]),o=Math.floor(n[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Va(Ua.call(t)):Va(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:Ja,i):r===s},i}function Qa(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,c=0;s<r+n;++s)s<r&&(c+=t.data[s+a*r]),s>=n&&(s>=o&&(c-=t.data[s-o+a*r]),e.data[s-n+a*r]=c/Math.min(s+1,r-1+o-s,o))}function ts(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,c=0;s<i+n;++s)s<i&&(c+=t.data[a+s*r]),s>=n&&(s>=o&&(c-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=c/Math.min(s+1,i-1+o-s,o))}function es(t){return t[0]}function ns(t){return t[1]}function rs(){return 1}function is(){var t=es,e=ns,n=rs,r=960,i=500,o=20,a=2,s=3*o,c=r+2*s>>a,l=i+2*s>>a,u=Va(20);function h(r){var i=new Float32Array(c*l),h=new Float32Array(c*l),f=Math.pow(2,-a);r.forEach((function(r,o,a){var u=(t(r,o,a)+s)*f,h=(e(r,o,a)+s)*f,d=+n(r,o,a);if(u>=0&&u<c&&h>=0&&h<l){var p=Math.floor(u),g=Math.floor(h),m=u-p-.5,y=h-g-.5;i[p+g*c]+=(1-m)*(1-y)*d,i[p+1+g*c]+=m*(1-y)*d,i[p+1+(g+1)*c]+=m*y*d,i[p+(g+1)*c]+=(1-m)*y*d}})),Qa({width:c,height:l,data:i},{width:c,height:l,data:h},o>>a),ts({width:c,height:l,data:h},{width:c,height:l,data:i},o>>a),Qa({width:c,height:l,data:i},{width:c,height:l,data:h},o>>a),ts({width:c,height:l,data:h},{width:c,height:l,data:i},o>>a),Qa({width:c,height:l,data:i},{width:c,height:l,data:h},o>>a),ts({width:c,height:l,data:h},{width:c,height:l,data:i},o>>a);var p=u(i);if(!Array.isArray(p)){var g=ot(i);p=et(0,g,p),(p=xt(0,Math.floor(g/p)*p,p)).shift()}return Za().thresholds(p).size([c,l])(i).map(d)}function d(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(f),t}function f(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function m(){return c=r+2*(s=3*o)>>a,l=i+2*s>>a,h}return h.x=function(e){return arguments.length?(t="function"==typeof e?e:Va(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:Va(+t),h):e},h.weight=function(t){return arguments.length?(n="function"==typeof t?t:Va(+t),h):n},h.size=function(t){if(!arguments.length)return[r,i];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return r=e,i=n,m()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),m()},h.thresholds=function(t){return arguments.length?(u="function"==typeof t?t:Array.isArray(t)?Va(Ua.call(t)):Va(t),h):u},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},h}const os=134217729;function as(t,e,n,r,i){let o,a,s,c,l=e[0],u=r[0],h=0,d=0;u>l==u>-l?(o=l,l=e[++h]):(o=u,u=r[++d]);let f=0;if(h<t&&d<n)for(u>l==u>-l?(a=l+o,s=o-(a-l),l=e[++h]):(a=u+o,s=o-(a-u),u=r[++d]),o=a,0!==s&&(i[f++]=s);h<t&&d<n;)u>l==u>-l?(a=o+l,c=a-o,s=o-(a-c)+(l-c),l=e[++h]):(a=o+u,c=a-o,s=o-(a-c)+(u-c),u=r[++d]),o=a,0!==s&&(i[f++]=s);for(;h<t;)a=o+l,c=a-o,s=o-(a-c)+(l-c),l=e[++h],o=a,0!==s&&(i[f++]=s);for(;d<n;)a=o+u,c=a-o,s=o-(a-c)+(u-c),u=r[++d],o=a,0!==s&&(i[f++]=s);return 0===o&&0!==f||(i[f++]=o),f}function ss(t){return new Float64Array(t)}const cs=ss(4),ls=ss(8),us=ss(12),hs=ss(16),ds=ss(4);function fs(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),c=a-s;if(0===a||0===s||a>0!=s>0)return c;const l=Math.abs(a+s);return Math.abs(c)>=33306690738754716e-32*l?c:-function(t,e,n,r,i,o,a){let s,c,l,u,h,d,f,p,g,m,y,b,v,_,x,w,k,D;const C=t-i,E=n-i,S=e-o,T=r-o;_=C*T,d=os*C,f=d-(d-C),p=C-f,d=os*T,g=d-(d-T),m=T-g,x=p*m-(_-f*g-p*g-f*m),w=S*E,d=os*S,f=d-(d-S),p=S-f,d=os*E,g=d-(d-E),m=E-g,k=p*m-(w-f*g-p*g-f*m),y=x-k,h=x-y,cs[0]=x-(y+h)+(h-k),b=_+y,h=b-_,v=_-(b-h)+(y-h),y=v-w,h=v-y,cs[1]=v-(y+h)+(h-w),D=b+y,h=D-b,cs[2]=b-(D-h)+(y-h),cs[3]=D;let A=function(t,e){let n=e[0];for(let r=1;r<4;r++)n+=e[r];return n}(0,cs),M=22204460492503146e-32*a;if(A>=M||-A>=M)return A;if(h=t-C,s=t-(C+h)+(h-i),h=n-E,l=n-(E+h)+(h-i),h=e-S,c=e-(S+h)+(h-o),h=r-T,u=r-(T+h)+(h-o),0===s&&0===c&&0===l&&0===u)return A;if(M=11093356479670487e-47*a+33306690738754706e-32*Math.abs(A),A+=C*u+T*s-(S*l+E*c),A>=M||-A>=M)return A;_=s*T,d=os*s,f=d-(d-s),p=s-f,d=os*T,g=d-(d-T),m=T-g,x=p*m-(_-f*g-p*g-f*m),w=c*E,d=os*c,f=d-(d-c),p=c-f,d=os*E,g=d-(d-E),m=E-g,k=p*m-(w-f*g-p*g-f*m),y=x-k,h=x-y,ds[0]=x-(y+h)+(h-k),b=_+y,h=b-_,v=_-(b-h)+(y-h),y=v-w,h=v-y,ds[1]=v-(y+h)+(h-w),D=b+y,h=D-b,ds[2]=b-(D-h)+(y-h),ds[3]=D;const F=as(4,cs,4,ds,ls);_=C*u,d=os*C,f=d-(d-C),p=C-f,d=os*u,g=d-(d-u),m=u-g,x=p*m-(_-f*g-p*g-f*m),w=S*l,d=os*S,f=d-(d-S),p=S-f,d=os*l,g=d-(d-l),m=l-g,k=p*m-(w-f*g-p*g-f*m),y=x-k,h=x-y,ds[0]=x-(y+h)+(h-k),b=_+y,h=b-_,v=_-(b-h)+(y-h),y=v-w,h=v-y,ds[1]=v-(y+h)+(h-w),D=b+y,h=D-b,ds[2]=b-(D-h)+(y-h),ds[3]=D;const O=as(F,ls,4,ds,us);_=s*u,d=os*s,f=d-(d-s),p=s-f,d=os*u,g=d-(d-u),m=u-g,x=p*m-(_-f*g-p*g-f*m),w=c*l,d=os*c,f=d-(d-c),p=c-f,d=os*l,g=d-(d-l),m=l-g,k=p*m-(w-f*g-p*g-f*m),y=x-k,h=x-y,ds[0]=x-(y+h)+(h-k),b=_+y,h=b-_,v=_-(b-h)+(y-h),y=v-w,h=v-y,ds[1]=v-(y+h)+(h-w),D=b+y,h=D-b,ds[2]=b-(D-h)+(y-h),ds[3]=D;const N=as(O,us,4,ds,hs);return hs[N-1]}(t,e,n,r,i,o,l)}ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(8),ss(8),ss(8),ss(4),ss(8),ss(8),ss(8),ss(12),ss(192),ss(192),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(8),ss(8),ss(8),ss(8),ss(8),ss(8),ss(8),ss(8),ss(8),ss(4),ss(4),ss(4),ss(8),ss(16),ss(16),ss(16),ss(32),ss(32),ss(48),ss(64),ss(1152),ss(1152),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(4),ss(24),ss(24),ss(24),ss(24),ss(24),ss(24),ss(24),ss(24),ss(24),ss(24),ss(1152),ss(1152),ss(1152),ss(1152),ss(1152),ss(2304),ss(2304),ss(3456),ss(5760),ss(8),ss(8),ss(8),ss(16),ss(24),ss(48),ss(48),ss(96),ss(192),ss(384),ss(384),ss(384),ss(768),ss(96),ss(96),ss(96),ss(1152);const ps=Math.pow(2,-52),gs=new Uint32Array(512);class ms{static from(t,e=ws,n=ks){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new ms(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,c=-1/0,l=-1/0;for(let C=0;C<o;C++){const e=t[2*C],n=t[2*C+1];e<a&&(a=e),n<s&&(s=n),e>c&&(c=e),n>l&&(l=n),this._ids[C]=C}const u=(a+c)/2,h=(s+l)/2;let d,f,p,g=1/0;for(let C=0;C<o;C++){const e=ys(u,h,t[2*C],t[2*C+1]);e<g&&(d=C,g=e)}const m=t[2*d],y=t[2*d+1];g=1/0;for(let C=0;C<o;C++){if(C===d)continue;const e=ys(m,y,t[2*C],t[2*C+1]);e<g&&e>0&&(f=C,g=e)}let b=t[2*f],v=t[2*f+1],_=1/0;for(let C=0;C<o;C++){if(C===d||C===f)continue;const e=vs(m,y,b,v,t[2*C],t[2*C+1]);e<_&&(p=C,_=e)}let x=t[2*p],w=t[2*p+1];if(_===1/0){for(let r=0;r<o;r++)this._dists[r]=t[2*r]-t[0]||t[2*r+1]-t[1];_s(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(fs(m,y,b,v,x,w)<0){const t=f,e=b,n=v;f=p,b=x,v=w,p=t,x=e,w=n}const k=function(t,e,n,r,i,o){const a=n-t,s=r-e,c=i-t,l=o-e,u=a*a+s*s,h=c*c+l*l,d=.5/(a*l-s*c);return{x:t+(l*u-s*h)*d,y:e+(a*h-c*u)*d}}(m,y,b,v,x,w);this._cx=k.x,this._cy=k.y;for(let C=0;C<o;C++)this._dists[C]=ys(t[2*C],t[2*C+1],k.x,k.y);_s(this._ids,this._dists,0,o-1),this._hullStart=d;let D=3;n[d]=e[p]=f,n[f]=e[d]=p,n[p]=e[f]=d,r[d]=0,r[f]=1,r[p]=2,i.fill(-1),i[this._hashKey(m,y)]=d,i[this._hashKey(b,v)]=f,i[this._hashKey(x,w)]=p,this.trianglesLen=0,this._addTriangle(d,f,p,-1,-1,-1);for(let C,E,S=0;S<this._ids.length;S++){const o=this._ids[S],a=t[2*o],s=t[2*o+1];if(S>0&&Math.abs(a-C)<=ps&&Math.abs(s-E)<=ps)continue;if(C=a,E=s,o===d||o===f||o===p)continue;let c=0;for(let t=0,e=this._hashKey(a,s);t<this._hashSize&&(c=i[(e+t)%this._hashSize],-1===c||c===n[c]);t++);c=e[c];let l,u=c;for(;l=n[u],fs(a,s,t[2*u],t[2*u+1],t[2*l],t[2*l+1])>=0;)if(u=l,u===c){u=-1;break}if(-1===u)continue;let h=this._addTriangle(u,o,n[u],-1,-1,r[u]);r[o]=this._legalize(h+2),r[u]=h,D++;let g=n[u];for(;l=n[g],fs(a,s,t[2*g],t[2*g+1],t[2*l],t[2*l+1])<0;)h=this._addTriangle(g,o,l,r[o],-1,r[g]),r[o]=this._legalize(h+2),n[g]=g,D--,g=l;if(u===c)for(;l=e[u],fs(a,s,t[2*l],t[2*l+1],t[2*u],t[2*u+1])<0;)h=this._addTriangle(l,o,u,-1,r[u],r[l]),this._legalize(h+2),r[l]=h,n[u]=u,D--,u=l;this._hullStart=e[o]=u,n[u]=e[g]=o,n[o]=g,i[this._hashKey(a,s)]=o,i[this._hashKey(t[2*u],t[2*u+1])]=u}this.hull=new Uint32Array(D);for(let C=0,E=this._hullStart;C<D;C++)this.hull[C]=E,E=n[E];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=gs[--i];continue}const c=a-a%3,l=s+(t+1)%3,u=c+(a+2)%3,h=e[o],d=e[t],f=e[l],p=e[u];if(bs(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=h;const r=n[u];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,u);const s=c+(a+1)%3;i<gs.length&&(gs[i++]=s)}else{if(0===i)break;t=gs[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function ys(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function bs(t,e,n,r,i,o,a,s){const c=t-a,l=e-s,u=n-a,h=r-s,d=i-a,f=o-s,p=u*u+h*h,g=d*d+f*f;return c*(h*g-p*f)-l*(u*g-p*d)+(c*c+l*l)*(u*f-h*d)<0}function vs(t,e,n,r,i,o){const a=n-t,s=r-e,c=i-t,l=o-e,u=a*a+s*s,h=c*c+l*l,d=.5/(a*l-s*c),f=(l*u-s*h)*d,p=(a*h-c*u)*d;return f*f+p*p}function _s(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;xs(t,n+r>>1,i),e[t[n]]>e[t[r]]&&xs(t,n,r),e[t[i]]>e[t[r]]&&xs(t,i,r),e[t[n]]>e[t[i]]&&xs(t,n,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;xs(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(_s(t,e,i,r),_s(t,e,n,o-1)):(_s(t,e,n,o-1),_s(t,e,i,r))}}function xs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ws(t){return t[0]}function ks(t){return t[1]}const Ds=1e-6;class Cs{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Ds||Math.abs(this._y1-i)>Ds)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Es{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Ss{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let d,f,p=0,g=0,m=n.length;p<m;p+=3,g+=2){const e=2*n[p],r=2*n[p+1],o=2*n[p+2],a=t[e],s=t[e+1],c=t[r],l=t[r+1],u=t[o],h=t[o+1],m=c-a,y=l-s,b=u-a,v=h-s,_=2*(m*v-y*b);if(Math.abs(_)<1e-9){let e=1e9;const r=2*n[0];e*=Math.sign((t[r]-a)*v-(t[r+1]-s)*b),d=(a+u)/2-e*v,f=(s+h)/2+e*b}else{const t=1/_,e=m*m+y*y,n=b*b+v*v;d=a+(v*e-y*n)*t,f=s+(m*n-b*e)*t}i[g]=d,i[g+1]=f}let o,a,s,c=e[e.length-1],l=4*c,u=t[2*c],h=t[2*c+1];r.fill(0);for(let d=0;d<e.length;++d)c=e[d],o=l,a=u,s=h,l=4*c,u=t[2*c],h=t[2*c+1],r[o+2]=r[l]=s-h,r[o+3]=r[l+1]=u-a}render(t){const e=null==t?t=new Cs:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let l=0,u=n.length;l<u;++l){const e=n[l];if(e<l)continue;const r=2*Math.floor(l/3),i=2*Math.floor(e/3),a=o[r],s=o[r+1],c=o[i],u=o[i+1];this._renderSegment(a,s,c,u,t)}let s,c=i[i.length-1];for(let l=0;l<i.length;++l){s=c,c=i[l];const e=2*Math.floor(r[c]/3),n=o[e],u=o[e+1],h=4*s,d=this._project(n,u,a[h+2],a[h+3]);d&&this._renderSegment(n,u,d[0],d[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Cs:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Cs:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||e.lineTo(r[o],r[o+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Es;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,s=null,c=e[n-2],l=e[n-1],u=this._regioncode(c,l),h=0;for(let d=0;d<n;d+=2)if(r=c,i=l,c=e[d],l=e[d+1],o=u,u=this._regioncode(c,l),0===o&&0===u)a=h,h=0,s?s.push(c,l):s=[c,l];else{let e,n,d,f,p;if(0===o){if(null===(e=this._clipSegment(r,i,c,l,o,u)))continue;[n,d,f,p]=e}else{if(null===(e=this._clipSegment(c,l,r,i,u,o)))continue;[f,p,n,d]=e,a=h,h=this._edgecode(n,d),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(n,d):s=[n,d]}a=h,h=this._edgecode(f,p),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(f,p):s=[f,p]}if(s)a=h,h=this._edgecode(s[0],s[1]),a&&h&&this._edge(t,a,h,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,s,c=i||o;8&c?(a=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&c?(a=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&c?(s=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=s,i=this._regioncode(t,e)):(n=a,r=s,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let c,l=0,u=s.length,h=this._edgecode(s[u-2],s[u-1]);l<u;l+=2)c=h,h=this._edgecode(s[l],s[l+1]),c&&h&&(l=this._edge(t,c,h,s,l),u=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let o=0;o<r.length;o+=2){const t=(o+2)%r.length,e=(o+4)%r.length;(r[o]===r[t]&&r[t]===r[e]||r[o+1]===r[t+1]&&r[t+1]===r[e+1])&&(r.splice(t,2),o-=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const Ts=2*Math.PI,As=Math.pow;function Ms(t){return t[0]}function Fs(t){return t[1]}function Os(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Ns{static from(t,e=Ms,n=Fs,r){return new Ns("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new ms(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const t=2*e[r],i=2*e[r+1],o=2*e[r+2];if((n[o]-n[t])*(n[i+1]-n[t+1])-(n[i]-n[t])*(n[o+1]-n[t+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let o=0,a=e.length/2;o<a;++o){const t=Os(e[2*o],e[2*o+1],i);e[2*o]=t[0],e[2*o+1]=t[1]}this._delaunator=new ms(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let s=0,c=n.length;s<c;++s){const t=i[s%3==2?s-2:s+1];-1!==n[s]&&-1!==o[t]||(o[t]=s)}for(let s=0,c=r.length;s<c;++s)a[r[s]]=s;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Ss(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let c=s,l=-1;do{if(yield l=o[c],c=c%3==2?c-2:c+1,o[c]!==t)return;if(c=i[c],-1===c){const e=n[(r[t]+1)%n.length];return void(e!==l&&(yield e))}}while(c!==s)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:c}=this;if(-1===r[t]||!c.length)return(t+1)%(c.length>>1);let l=t,u=As(e-c[2*t],2)+As(n-c[2*t+1],2);const h=r[t];let d=h;do{let r=s[d];const h=As(e-c[2*r],2)+As(n-c[2*r+1],2);if(h<u&&(u=h,l=r),d=d%3==2?d-2:d+1,s[d]!==t)break;if(d=a[d],-1===d){if(d=i[(o[t]+1)%i.length],d!==r&&As(e-c[2*d],2)+As(n-c[2*d+1],2)<u)return d;break}}while(d!==h);return l}render(t){const e=null==t?t=new Cs:void 0,{points:n,halfedges:r,triangles:i}=this;for(let o=0,a=r.length;o<a;++o){const e=r[o];if(e<o)continue;const a=2*i[o],s=2*i[e];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new Cs:void 0,{points:r}=this;for(let i=0,o=r.length;i<o;i+=2){const n=r[i],o=r[i+1];t.moveTo(n+e,o),t.arc(n,o,e,0,Ts)}return n&&n.value()}renderHull(t){const e=null==t?t=new Cs:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let a=1;a<o;++a){const e=2*n[a];t.lineTo(r[e],r[e+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Es;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Cs:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Es;return this.renderTriangle(t,e),e.value()}}const Bs=t=>()=>t;function Is(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}function Ls(t){return!t.ctrlKey&&!t.button}function Rs(){return this.parentNode}function Ps(t,e){return null==e?{x:t.x,y:t.y}:e}function js(){return navigator.maxTouchPoints||"ontouchstart"in this}function zs(){var t,e,n,r,i=Ls,o=Rs,a=Ps,s=js,c={},l=de("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",m).on("touchmove.drag",y,Mn).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&i.call(this,a,s)){var c=v(this,o.call(this,a,s),a,s,"mouse");c&&(An(a.view).on("mousemove.drag",p,Fn).on("mouseup.drag",g,Fn),Bn(a.view),On(a),n=!1,t=a.clientX,e=a.clientY,c("start",a))}}function p(r){if(Nn(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}c.mouse("drag",r)}function g(t){An(t.view).on("mousemove.drag mouseup.drag",null),In(t.view,n),Nn(t),c.mouse("end",t)}function m(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,s=o.call(this,t,e),c=a.length;for(n=0;n<c;++n)(r=v(this,s,t,e,a[n].identifier,a[n]))&&(On(t),r("start",t,a[n]))}}function y(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=c[r[e].identifier])&&(Nn(t),n("drag",t,r[e]))}function b(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=c[i[e].identifier])&&(On(t),n("end",t,i[e]))}function v(t,e,n,r,i,o){var s,h,f,p=l.copy(),g=Rr(o||n,e);if(null!=(f=a.call(t,new Is("beforestart",{sourceEvent:n,target:d,identifier:i,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return s=f.x-g[0]||0,h=f.y-g[1]||0,function n(o,a,l){var m,y=g;switch(o){case"start":c[i]=n,m=u++;break;case"end":delete c[i],--u;case"drag":g=Rr(l||a,e),m=u}p.call(o,t,new Is(o,{sourceEvent:a,subject:f,target:d,identifier:i,active:m,x:g[0]+s,y:g[1]+h,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:p}),r)}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:Bs(!!t),d):i},d.container=function(t){return arguments.length?(o="function"==typeof t?t:Bs(t),d):o},d.subject=function(t){return arguments.length?(a="function"==typeof t?t:Bs(t),d):a},d.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Bs(!!t),d):s},d.on=function(){var t=l.on.apply(l,arguments);return t===l?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}Is.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var $s={},Ys={};function Ws(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Us(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function qs(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Vs(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,c=o<=0,l=!1;function u(){if(c)return Ys;if(l)return l=!1,$s;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?c=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==Ys;){for(var h=[];r!==$s&&r!==Ys;)h.push(r),r=u();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?function(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+qs(-t,6):t>9999?"+"+qs(t,6):qs(t,4)}(t.getUTCFullYear())+"-"+qs(t.getUTCMonth()+1,2)+"-"+qs(t.getUTCDate(),2)+(i?"T"+qs(e,2)+":"+qs(n,2)+":"+qs(r,2)+"."+qs(i,3)+"Z":r?"T"+qs(e,2)+":"+qs(n,2)+":"+qs(r,2)+"Z":n||e?"T"+qs(e,2)+":"+qs(n,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Ws(t);return function(r,i){return e(n(r),i,t)}}(t,e):Ws(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=Us(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Us(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var Hs=Vs(","),Gs=Hs.parse,Xs=Hs.parseRows,Js=Hs.format,Ks=Hs.formatBody,Zs=Hs.formatRows,Qs=Hs.formatRow,tc=Hs.formatValue,ec=Vs("\t"),nc=ec.parse,rc=ec.parseRows,ic=ec.format,oc=ec.formatBody,ac=ec.formatRows,sc=ec.formatRow,cc=ec.formatValue;function lc(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;uc&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const uc=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),hc=t=>+t;function dc(t){return t*t}function fc(t){return t*(2-t)}function pc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var gc=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),mc=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),yc=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),bc=Math.PI,vc=bc/2;function _c(t){return 1==+t?1:1-Math.cos(t*vc)}function xc(t){return Math.sin(t*vc)}function wc(t){return(1-Math.cos(bc*t))/2}function kc(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Dc(t){return kc(1-+t)}function Cc(t){return 1-kc(t)}function Ec(t){return((t*=2)<=1?kc(1-t):2-kc(t-1))/2}function Sc(t){return 1-Math.sqrt(1-t*t)}function Tc(t){return Math.sqrt(1- --t*t)}function Ac(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Mc=7.5625;function Fc(t){return 1-Oc(1-t)}function Oc(t){return(t=+t)<.36363636363636365?Mc*t*t:t<.7272727272727273?Mc*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Mc*(t-=.8181818181818182)*t+.9375:Mc*(t-=.9545454545454546)*t+.984375}function Nc(t){return((t*=2)<=1?1-Oc(1-t):Oc(t-1)+1)/2}var Bc=1.70158,Ic=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(Bc),Lc=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(Bc),Rc=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Bc),Pc=2*Math.PI,jc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Pc);function i(t){return e*kc(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Pc)},i.period=function(n){return t(e,n)},i}(1,.3),zc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Pc);function i(t){return 1-e*kc(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Pc)},i.period=function(n){return t(e,n)},i}(1,.3),$c=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Pc);function i(t){return((t=2*t-1)<0?e*kc(-t)*Math.sin((r-t)/n):2-e*kc(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Pc)},i.period=function(n){return t(e,n)},i}(1,.3);function Yc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Wc(t,e){return fetch(t,e).then(Yc)}function Uc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function qc(t,e){return fetch(t,e).then(Uc)}function Vc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Hc(t,e){return fetch(t,e).then(Vc)}function Gc(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Hc(e,n).then((function(e){return t(e,r)}))}}function Xc(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=Vs(t);return Hc(e,n).then((function(t){return i.parse(t,r)}))}var Jc=Gc(Gs),Kc=Gc(nc);function Zc(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function Qc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function tl(t,e){return fetch(t,e).then(Qc)}function el(t){return(e,n)=>Hc(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}const nl=el("application/xml");var rl=el("text/html"),il=el("image/svg+xml");function ol(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,c=0;for(i=0;i<a;++i)s+=(o=n[i]).x,c+=o.y;for(s=(s/a-t)*r,c=(c/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=c}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function al(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,c,l,u,h,d,f=t._root,p={data:r},g=t._x0,m=t._y0,y=t._x1,b=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(a=(m+b)/2))?m=a:b=a,i=f,!(f=f[h=u<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,f.data),c=+t._y.call(null,f.data),e===s&&n===c)return p.next=f,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(a=(m+b)/2))?m=a:b=a}while((h=u<<1|l)==(d=(c>=a)<<1|s>=o));return i[d]=f,i[h]=p,t}function sl(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function cl(t){return t[0]}function ll(t){return t[1]}function ul(t,e,n){var r=new hl(null==e?cl:e,null==n?ll:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function hl(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function dl(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var fl=ul.prototype=hl.prototype;function pl(t){return function(){return t}}function gl(t){return 1e-6*(t()-.5)}function ml(t){return t.x+t.vx}function yl(t){return t.y+t.vy}function bl(t){var e,n,r,i=1,o=1;function a(){for(var t,a,c,l,u,h,d,f=e.length,p=0;p<o;++p)for(a=ul(e,ml,yl).visitAfter(s),t=0;t<f;++t)c=e[t],h=n[c.index],d=h*h,l=c.x+c.vx,u=c.y+c.vy,a.visit(g);function g(t,e,n,o,a){var s=t.data,f=t.r,p=h+f;if(!s)return e>l+p||o<l-p||n>u+p||a<u-p;if(s.index>c.index){var g=l-s.x-s.vx,m=u-s.y-s.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=gl(r))*g),0===m&&(y+=(m=gl(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,c.vx+=(g*=y)*(p=(f*=f)/(d+f)),c.vy+=(m*=y)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function c(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=pl(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,c()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:pl(+e),c(),a):t},a}function vl(t){return t.index}function _l(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function xl(t){var e,n,r,i,o,a,s=vl,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=pl(30),u=1;function h(r){for(var i=0,s=t.length;i<u;++i)for(var c,l,h,d,f,p,g,m=0;m<s;++m)l=(c=t[m]).source,d=(h=c.target).x+h.vx-l.x-l.vx||gl(a),f=h.y+h.vy-l.y-l.vy||gl(a),d*=p=((p=Math.sqrt(d*d+f*f))-n[m])/p*r*e[m],f*=p,h.vx-=d*(g=o[m]),h.vy-=f*g,l.vx+=d*(g=1-g),l.vy+=f*g}function d(){if(r){var a,c,l=r.length,u=t.length,h=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(l);a<u;++a)(c=t[a]).index=a,"object"!=typeof c.source&&(c.source=_l(h,c.source)),"object"!=typeof c.target&&(c.target=_l(h,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,o=new Array(u);a<u;++a)c=t[a],o[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);e=new Array(u),f(),n=new Array(u),p()}}function f(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,a=e,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(s=t,h):s},h.iterations=function(t){return arguments.length?(u=+t,h):u},h.strength=function(t){return arguments.length?(c="function"==typeof t?t:pl(+t),f(),h):c},h.distance=function(t){return arguments.length?(l="function"==typeof t?t:pl(+t),p(),h):l},h}fl.copy=function(){var t,e,n=new hl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=dl(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=dl(e));return n},fl.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return al(this.cover(e,n),e,n,t)},fl.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),c=1/0,l=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<c&&(c=r),r>u&&(u=r),i<l&&(l=i),i>h&&(h=i));if(c>u||l>h)return this;for(this.cover(c,l).cover(u,h),n=0;n<o;++n)al(this,a[n],s[n],t[n]);return this},fl.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,c=i-n||1,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,c*=2,s){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},fl.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},fl.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},fl.find=function(t,e,n){var r,i,o,a,s,c,l,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new sl(g,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>d||(o=c.y0)>f||(a=c.x1)<u||(s=c.y1)<h))if(g.length){var m=(i+a)/2,y=(o+s)/2;p.push(new sl(g[3],m,y,a,s),new sl(g[2],i,y,m,s),new sl(g[1],m,o,a,y),new sl(g[0],i,o,m,y)),(l=(e>=y)<<1|t>=m)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=c)}else{var b=t-+this._x.call(null,g.data),v=e-+this._y.call(null,g.data),_=b*b+v*v;if(_<n){var x=Math.sqrt(n=_);u=t-x,h=e-x,d=t+x,f=e+x,r=g.data}}return r},fl.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,c,l,u,h,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((l=o>=(s=(p+m)/2))?p=s:m=s,(u=a>=(c=(g+y)/2))?g=c:y=c,e=f,!(f=f[h=u<<1|l]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},fl.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},fl.root=function(){return this._root},fl.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},fl.visit=function(t){var e,n,r,i,o,a,s=[],c=this._root;for(c&&s.push(new sl(c,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(c=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&c.length){var l=(r+o)/2,u=(i+a)/2;(n=c[3])&&s.push(new sl(n,l,u,o,a)),(n=c[2])&&s.push(new sl(n,r,u,l,a)),(n=c[1])&&s.push(new sl(n,l,i,o,u)),(n=c[0])&&s.push(new sl(n,r,i,l,u))}return this},fl.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new sl(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,c=e.x1,l=e.y1,u=(a+c)/2,h=(s+l)/2;(o=i[0])&&n.push(new sl(o,a,s,u,h)),(o=i[1])&&n.push(new sl(o,u,s,c,h)),(o=i[2])&&n.push(new sl(o,a,h,u,l)),(o=i[3])&&n.push(new sl(o,u,h,c,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},fl.x=function(t){return arguments.length?(this._x=t,this):this._x},fl.y=function(t){return arguments.length?(this._y=t,this):this._y};const wl=4294967296;function kl(t){return t.x}function Dl(t){return t.y}var Cl=Math.PI*(3-Math.sqrt(5));function El(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,c=Kr(h),l=de("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%wl)/wl}();function h(){d(),l.call("tick",e),n<r&&(c.stop(),l.call("end",e))}function d(r){var c,l,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),c=0;c<u;++c)null==(l=t[c]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*Cl;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(u=t,s.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,c,l=0,u=t.length;for(null==r?r=1/0:r*=r,l=0;l<u;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(c=s,r=a);return c},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}function Sl(){var t,e,n,r,i,o=pl(-30),a=1,s=1/0,c=.81;function l(n){var i,o=t.length,a=ul(t,kl,Dl).visitAfter(h);for(r=n,i=0;i<o;++i)e=t[i],a.visit(d)}function u(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function h(t){var e,n,r,o,a,s=0,c=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,c+=n,r+=n*e.x,o+=n*e.y);t.x=r/c,t.y=o/c}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function d(t,o,l,u){if(!t.value)return!0;var h=t.x-e.x,d=t.y-e.y,f=u-o,p=h*h+d*d;if(f*f/c<p)return p<s&&(0===h&&(p+=(h=gl(n))*h),0===d&&(p+=(d=gl(n))*d),p<a&&(p=Math.sqrt(a*p)),e.vx+=h*t.value*r/p,e.vy+=d*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===h&&(p+=(h=gl(n))*h),0===d&&(p+=(d=gl(n))*d),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(f=i[t.data.index]*r/p,e.vx+=h*f,e.vy+=d*f)}while(t=t.next)}}return l.initialize=function(e,r){t=e,n=r,u()},l.strength=function(t){return arguments.length?(o="function"==typeof t?t:pl(+t),u(),l):o},l.distanceMin=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.distanceMax=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l.theta=function(t){return arguments.length?(c=t*t,l):Math.sqrt(c)},l}function Tl(t,e,n){var r,i,o,a=pl(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var c=r[a],l=c.x-e||1e-6,u=c.y-n||1e-6,h=Math.sqrt(l*l+u*u),d=(o[a]-h)*i[a]*t/h;c.vx+=l*d,c.vy+=u*d}}function c(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=pl(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,c()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:pl(+t),c(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:pl(+e),c(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s}function Al(t){var e,n,r,i=pl(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=pl(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:pl(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:pl(+e),a(),o):t},o}function Ml(t){var e,n,r,i=pl(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=pl(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:pl(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:pl(+e),a(),o):t},o}function Fl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ol(t){return(t=Fl(Math.abs(t)))?t[1]:NaN}var Nl,Bl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Il(t){if(!(e=Bl.exec(t)))throw new Error("invalid format: "+t);var e;return new Ll({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ll(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Rl(t,e){var n=Fl(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Il.prototype=Ll.prototype,Ll.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Pl={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Rl(100*t,e),r:Rl,s:function(t,e){var n=Fl(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Nl=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fl(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jl(t){return t}var zl,$l,Yl,Wl=Array.prototype.map,Ul=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ql(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?jl:(e=Wl.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(t.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?jl:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Wl.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Il(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,b=t.type;"n"===b?(g=!0,b="g"):Pl[b]||(void 0===m&&(m=12),y=!0,b="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===d?o:/[%p]/.test(b)?c:"",x=Pl[b],w=/[defgprs%]/.test(b);function k(t){var i,o,c,d=v,k=_;if("c"===b)k=x(t)+k,t="";else{var D=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),D&&0==+t&&"+"!==h&&(D=!1),d=(D?"("===h?h:l:"-"===h||"("===h?"":h)+d,k=("s"===b?Ul[8+Nl/3]:"")+k+(D&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){k=(46===c?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!f&&(t=r(t,1/0));var C=d.length+t.length+k.length,E=C<p?new Array(p-C+1).join(e):"";switch(g&&f&&(t=r(E+t,E.length?p-k.length:1/0),E=""),n){case"<":t=d+t+k+E;break;case"=":t=d+E+t+k;break;case"^":t=E.slice(0,C=E.length>>1)+d+t+k+E.slice(C);break;default:t=E+d+t+k}return s(t)}return m=void 0===m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=Il(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ol(e)/3))),i=Math.pow(10,-r),o=Ul[8+r/3];return function(t){return n(i*t)+o}}}}function Vl(t){return zl=ql(t),$l=zl.format,Yl=zl.formatPrefix,zl}function Hl(t){return Math.max(0,-Ol(Math.abs(t)))}function Gl(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ol(e)/3)))-Ol(Math.abs(t)))}function Xl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ol(e)-Ol(t))+1}Vl({thousands:",",grouping:[3],currency:["$",""]});var Jl=1e-6,Kl=1e-12,Zl=Math.PI,Ql=Zl/2,tu=Zl/4,eu=2*Zl,nu=180/Zl,ru=Zl/180,iu=Math.abs,ou=Math.atan,au=Math.atan2,su=Math.cos,cu=Math.ceil,lu=Math.exp,uu=(Math.floor,Math.hypot),hu=Math.log,du=Math.pow,fu=Math.sin,pu=Math.sign||function(t){return t>0?1:t<0?-1:0},gu=Math.sqrt,mu=Math.tan;function yu(t){return t>1?0:t<-1?Zl:Math.acos(t)}function bu(t){return t>1?Ql:t<-1?-Ql:Math.asin(t)}function vu(t){return(t=fu(t/2))*t}function _u(){}function xu(t,e){t&&ku.hasOwnProperty(t.type)&&ku[t.type](t,e)}var wu={Feature:function(t,e){xu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)xu(n[r].geometry,e)}},ku={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Du(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Du(n[r],e,0)},Polygon:function(t,e){Cu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Cu(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)xu(n[r],e)}};function Du(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Cu(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Du(t[n],e,1);e.polygonEnd()}function Eu(t,e){t&&wu.hasOwnProperty(t.type)?wu[t.type](t,e):xu(t,e)}var Su,Tu,Au,Mu,Fu,Ou,Nu,Bu,Iu,Lu,Ru,Pu,ju,zu,$u,Yu,Wu=new x,Uu=new x,qu={point:_u,lineStart:_u,lineEnd:_u,polygonStart:function(){Wu=new x,qu.lineStart=Vu,qu.lineEnd=Hu},polygonEnd:function(){var t=+Wu;Uu.add(t<0?eu+t:t),this.lineStart=this.lineEnd=this.point=_u},sphere:function(){Uu.add(eu)}};function Vu(){qu.point=Gu}function Hu(){Xu(Su,Tu)}function Gu(t,e){qu.point=Xu,Su=t,Tu=e,Au=t*=ru,Mu=su(e=(e*=ru)/2+tu),Fu=fu(e)}function Xu(t,e){var n=(t*=ru)-Au,r=n>=0?1:-1,i=r*n,o=su(e=(e*=ru)/2+tu),a=fu(e),s=Fu*a,c=Mu*o+s*su(i),l=s*r*fu(i);Wu.add(au(l,c)),Au=t,Mu=o,Fu=a}function Ju(t){return Uu=new x,Eu(t,qu),2*Uu}function Ku(t){return[au(t[1],t[0]),bu(t[2])]}function Zu(t){var e=t[0],n=t[1],r=su(n);return[r*su(e),r*fu(e),fu(n)]}function Qu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function th(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function eh(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function nh(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function rh(t){var e=gu(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ih,oh,ah,sh,ch,lh,uh,hh,dh,fh,ph,gh,mh,yh,bh,vh,_h={point:xh,lineStart:kh,lineEnd:Dh,polygonStart:function(){_h.point=Ch,_h.lineStart=Eh,_h.lineEnd=Sh,zu=new x,qu.polygonStart()},polygonEnd:function(){qu.polygonEnd(),_h.point=xh,_h.lineStart=kh,_h.lineEnd=Dh,Wu<0?(Ou=-(Bu=180),Nu=-(Iu=90)):zu>Jl?Iu=90:zu<-1e-6&&(Nu=-90),Yu[0]=Ou,Yu[1]=Bu},sphere:function(){Ou=-(Bu=180),Nu=-(Iu=90)}};function xh(t,e){$u.push(Yu=[Ou=t,Bu=t]),e<Nu&&(Nu=e),e>Iu&&(Iu=e)}function wh(t,e){var n=Zu([t*ru,e*ru]);if(ju){var r=th(ju,n),i=th([r[1],-r[0],0],r);rh(i),i=Ku(i);var o,a=t-Lu,s=a>0?1:-1,c=i[0]*nu*s,l=iu(a)>180;l^(s*Lu<c&&c<s*t)?(o=i[1]*nu)>Iu&&(Iu=o):l^(s*Lu<(c=(c+360)%360-180)&&c<s*t)?(o=-i[1]*nu)<Nu&&(Nu=o):(e<Nu&&(Nu=e),e>Iu&&(Iu=e)),l?t<Lu?Th(Ou,t)>Th(Ou,Bu)&&(Bu=t):Th(t,Bu)>Th(Ou,Bu)&&(Ou=t):Bu>=Ou?(t<Ou&&(Ou=t),t>Bu&&(Bu=t)):t>Lu?Th(Ou,t)>Th(Ou,Bu)&&(Bu=t):Th(t,Bu)>Th(Ou,Bu)&&(Ou=t)}else $u.push(Yu=[Ou=t,Bu=t]);e<Nu&&(Nu=e),e>Iu&&(Iu=e),ju=n,Lu=t}function kh(){_h.point=wh}function Dh(){Yu[0]=Ou,Yu[1]=Bu,_h.point=xh,ju=null}function Ch(t,e){if(ju){var n=t-Lu;zu.add(iu(n)>180?n+(n>0?360:-360):n)}else Ru=t,Pu=e;qu.point(t,e),wh(t,e)}function Eh(){qu.lineStart()}function Sh(){Ch(Ru,Pu),qu.lineEnd(),iu(zu)>Jl&&(Ou=-(Bu=180)),Yu[0]=Ou,Yu[1]=Bu,ju=null}function Th(t,e){return(e-=t)<0?e+360:e}function Ah(t,e){return t[0]-e[0]}function Mh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Fh(t){var e,n,r,i,o,a,s;if(Iu=Bu=-(Ou=Nu=1/0),$u=[],Eu(t,_h),n=$u.length){for($u.sort(Ah),e=1,o=[r=$u[0]];e<n;++e)Mh(r,(i=$u[e])[0])||Mh(r,i[1])?(Th(r[0],i[1])>Th(r[0],r[1])&&(r[1]=i[1]),Th(i[0],r[1])>Th(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=Th(r[1],i[0]))>a&&(a=s,Ou=i[0],Bu=r[1])}return $u=Yu=null,Ou===1/0||Nu===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ou,Nu],[Bu,Iu]]}var Oh={sphere:_u,point:Nh,lineStart:Ih,lineEnd:Ph,polygonStart:function(){Oh.lineStart=jh,Oh.lineEnd=zh},polygonEnd:function(){Oh.lineStart=Ih,Oh.lineEnd=Ph}};function Nh(t,e){t*=ru;var n=su(e*=ru);Bh(n*su(t),n*fu(t),fu(e))}function Bh(t,e,n){++ih,ah+=(t-ah)/ih,sh+=(e-sh)/ih,ch+=(n-ch)/ih}function Ih(){Oh.point=Lh}function Lh(t,e){t*=ru;var n=su(e*=ru);yh=n*su(t),bh=n*fu(t),vh=fu(e),Oh.point=Rh,Bh(yh,bh,vh)}function Rh(t,e){t*=ru;var n=su(e*=ru),r=n*su(t),i=n*fu(t),o=fu(e),a=au(gu((a=bh*o-vh*i)*a+(a=vh*r-yh*o)*a+(a=yh*i-bh*r)*a),yh*r+bh*i+vh*o);oh+=a,lh+=a*(yh+(yh=r)),uh+=a*(bh+(bh=i)),hh+=a*(vh+(vh=o)),Bh(yh,bh,vh)}function Ph(){Oh.point=Nh}function jh(){Oh.point=$h}function zh(){Yh(gh,mh),Oh.point=Nh}function $h(t,e){gh=t,mh=e,t*=ru,e*=ru,Oh.point=Yh;var n=su(e);yh=n*su(t),bh=n*fu(t),vh=fu(e),Bh(yh,bh,vh)}function Yh(t,e){t*=ru;var n=su(e*=ru),r=n*su(t),i=n*fu(t),o=fu(e),a=bh*o-vh*i,s=vh*r-yh*o,c=yh*i-bh*r,l=uu(a,s,c),u=bu(l),h=l&&-u/l;dh.add(h*a),fh.add(h*s),ph.add(h*c),oh+=u,lh+=u*(yh+(yh=r)),uh+=u*(bh+(bh=i)),hh+=u*(vh+(vh=o)),Bh(yh,bh,vh)}function Wh(t){ih=oh=ah=sh=ch=lh=uh=hh=0,dh=new x,fh=new x,ph=new x,Eu(t,Oh);var e=+dh,n=+fh,r=+ph,i=uu(e,n,r);return i<Kl&&(e=lh,n=uh,r=hh,oh<Jl&&(e=ah,n=sh,r=ch),(i=uu(e,n,r))<Kl)?[NaN,NaN]:[au(n,e)*nu,bu(r/i)*nu]}function Uh(t){return function(){return t}}function qh(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Vh(t,e){return[iu(t)>Zl?t+Math.round(-t/eu)*eu:t,e]}function Hh(t,e,n){return(t%=eu)?e||n?qh(Xh(t),Jh(e,n)):Xh(t):e||n?Jh(e,n):Vh}function Gh(t){return function(e,n){return[(e+=t)>Zl?e-eu:e<-Zl?e+eu:e,n]}}function Xh(t){var e=Gh(t);return e.invert=Gh(-t),e}function Jh(t,e){var n=su(t),r=fu(t),i=su(e),o=fu(e);function a(t,e){var a=su(e),s=su(t)*a,c=fu(t)*a,l=fu(e),u=l*n+s*r;return[au(c*i-u*o,s*n-l*r),bu(u*i+c*o)]}return a.invert=function(t,e){var a=su(e),s=su(t)*a,c=fu(t)*a,l=fu(e),u=l*i-c*o;return[au(c*i+l*o,s*n+u*r),bu(u*n-s*r)]},a}function Kh(t){function e(e){return(e=t(e[0]*ru,e[1]*ru))[0]*=nu,e[1]*=nu,e}return t=Hh(t[0]*ru,t[1]*ru,t.length>2?t[2]*ru:0),e.invert=function(e){return(e=t.invert(e[0]*ru,e[1]*ru))[0]*=nu,e[1]*=nu,e},e}function Zh(t,e,n,r,i,o){if(n){var a=su(e),s=fu(e),c=r*n;null==i?(i=e+r*eu,o=e-c/2):(i=Qh(a,i),o=Qh(a,o),(r>0?i<o:i>o)&&(i+=r*eu));for(var l,u=i;r>0?u>o:u<o;u-=c)l=Ku([a,-s*su(u),-s*fu(u)]),t.point(l[0],l[1])}}function Qh(t,e){(e=Zu(e))[0]-=t,rh(e);var n=yu(-e[1]);return((-e[2]<0?-n:n)+eu-Jl)%eu}function td(){var t,e,n=Uh([0,0]),r=Uh(90),i=Uh(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=nu,n[1]*=nu}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*ru,c=i.apply(this,arguments)*ru;return t=[],e=Hh(-a[0]*ru,-a[1]*ru,0).invert,Zh(o,s,c,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:Uh([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Uh(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:Uh(+t),a):i},a}function ed(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:_u,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function nd(t,e){return iu(t[0]-e[0])<Jl&&iu(t[1]-e[1])<Jl}function rd(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function id(t,e,n,r,i){var o,a,s=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(nd(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new rd(r,t,null,!0)),c.push(n.o=new rd(r,null,n,!1)),s.push(n=new rd(a,t,null,!1)),c.push(n.o=new rd(a,null,n,!0))}})),s.length){for(c.sort(e),od(s),od(c),o=0,a=c.length;o<a;++o)c[o].e=n=!n;for(var l,u,h=s[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=l.length;o<a;++o)i.point((u=l[o])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(l=d.p.z,o=l.length-1;o>=0;--o)i.point((u=l[o])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}}function od(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function ad(t){return iu(t[0])<=Zl?t[0]:pu(t[0])*((iu(t[0])+Zl)%eu-Zl)}function sd(t,e){var n=ad(e),r=e[1],i=fu(r),o=[fu(n),-su(n),0],a=0,s=0,c=new x;1===i?r=Ql+Jl:-1===i&&(r=-Ql-Jl);for(var l=0,u=t.length;l<u;++l)if(d=(h=t[l]).length)for(var h,d,f=h[d-1],p=ad(f),g=f[1]/2+tu,m=fu(g),y=su(g),b=0;b<d;++b,p=_,m=k,y=D,f=v){var v=h[b],_=ad(v),w=v[1]/2+tu,k=fu(w),D=su(w),C=_-p,E=C>=0?1:-1,S=E*C,T=S>Zl,A=m*k;if(c.add(au(A*E*fu(S),y*D+A*su(S))),a+=T?C+E*eu:C,T^p>=n^_>=n){var M=th(Zu(f),Zu(v));rh(M);var F=th(o,M);rh(F);var O=(T^C>=0?-1:1)*bu(F[2]);(r>O||r===O&&(M[0]||M[1]))&&(s+=T^C>=0?1:-1)}}return(a<-1e-6||a<Jl&&c<-1e-12)^1&s}function cd(t,e,n,r){return function(i){var o,a,s,c=e(i),l=ed(),u=e(l),h=!1,d={point:f,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=b,d.lineEnd=v,a=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=m,a=mt(a);var t=sd(o,r);a.length?(h||(i.polygonStart(),h=!0),id(a,ud,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(e,n){t(e,n)&&i.point(e,n)}function p(t,e){c.point(t,e)}function g(){d.point=p,c.lineStart()}function m(){d.point=f,c.lineEnd()}function y(t,e){s.push([t,e]),u.point(t,e)}function b(){u.lineStart(),s=[]}function v(){y(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,c=u.clean(),d=l.result(),f=d.length;if(s.pop(),o.push(s),s=null,f)if(1&c){if((e=(n=d[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else f>1&&2&c&&d.push(d.pop().concat(d.shift())),a.push(d.filter(ld))}return d}}function ld(t){return t.length>1}function ud(t,e){return((t=t.x)[0]<0?t[1]-Ql-Jl:Ql-t[1])-((e=e.x)[0]<0?e[1]-Ql-Jl:Ql-e[1])}Vh.invert=Vh;const hd=cd((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Zl:-Zl,c=iu(o-n);iu(c-Zl)<Jl?(t.point(n,r=(r+a)/2>0?Ql:-Ql),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&c>=Zl&&(iu(n-i)<Jl&&(n-=i*Jl),iu(o-s)<Jl&&(o-=s*Jl),r=function(t,e,n,r){var i,o,a=fu(t-n);return iu(a)>Jl?ou((fu(e)*(o=su(r))*fu(n)-fu(r)*(i=su(e))*fu(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Ql,r.point(-Zl,i),r.point(0,i),r.point(Zl,i),r.point(Zl,0),r.point(Zl,-i),r.point(0,-i),r.point(-Zl,-i),r.point(-Zl,0),r.point(-Zl,i);else if(iu(t[0]-e[0])>Jl){var o=t[0]<e[0]?Zl:-Zl;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Zl,-Ql]);function dd(t){var e=su(t),n=6*ru,r=e>0,i=iu(e)>Jl;function o(t,n){return su(t)*su(n)>e}function a(t,n,r){var i=[1,0,0],o=th(Zu(t),Zu(n)),a=Qu(o,o),s=o[0],c=a-s*s;if(!c)return!r&&t;var l=e*a/c,u=-e*s/c,h=th(i,o),d=nh(i,l);eh(d,nh(o,u));var f=h,p=Qu(d,f),g=Qu(f,f),m=p*p-g*(Qu(d,d)-1);if(!(m<0)){var y=gu(m),b=nh(f,(-p-y)/g);if(eh(b,d),b=Ku(b),!r)return b;var v,_=t[0],x=n[0],w=t[1],k=n[1];x<_&&(v=_,_=x,x=v);var D=x-_,C=iu(D-Zl)<Jl;if(!C&&k<w&&(v=w,w=k,k=v),C||D<Jl?C?w+k>0^b[1]<(iu(b[0]-_)<Jl?w:k):w<=b[1]&&b[1]<=k:D>Zl^(_<=b[0]&&b[0]<=x)){var E=nh(f,(-p+y)/g);return eh(E,d),[b,Ku(E)]}}}function s(e,n){var i=r?t:Zl-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return cd(o,(function(t){var e,n,c,l,u;return{lineStart:function(){l=c=!1,u=1},point:function(h,d){var f,p=[h,d],g=o(h,d),m=r?g?0:s(h,d):g?s(h+(h<0?Zl:-Zl),d):0;if(!e&&(l=c=g)&&t.lineStart(),g!==c&&(!(f=a(e,p))||nd(e,f)||nd(p,f))&&(p[2]=1),g!==c)u=0,g?(t.lineStart(),f=a(p,e),t.point(f[0],f[1])):(f=a(e,p),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(i&&e&&r^g){var y;m&n||!(y=a(p,e,!0))||(u=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&nd(e,p)||t.point(p[0],p[1]),e=p,c=g,n=m},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return u|(l&&c)<<1}}}),(function(e,r,i,o){Zh(o,t,n,i,e,r)}),r?[0,-t]:[-Zl,t-Zl])}var fd,pd,gd,md,yd=1e9,bd=-yd;function vd(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var u=0,h=0;if(null==i||(u=a(i,s))!==(h=a(o,s))||c(i,o)<0^s>0)do{l.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return iu(r[0]-t)<Jl?i>0?0:3:iu(r[0]-n)<Jl?i>0?2:1:iu(r[1]-e)<Jl?i>0?1:0:i>0?3:2}function s(t,e){return c(t.x,e.x)}function c(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var c,l,u,h,d,f,p,g,m,y,b,v=a,_=ed(),x={point:w,lineStart:function(){x.point=k,l&&l.push(u=[]),y=!0,m=!1,p=g=NaN},lineEnd:function(){c&&(k(h,d),f&&m&&_.rejoin(),c.push(_.result())),x.point=w,m&&v.lineEnd()},polygonStart:function(){v=_,c=[],l=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],c=1,u=s.length,h=s[0],d=h[0],f=h[1];c<u;++c)o=d,a=f,d=(h=s[c])[0],f=h[1],a<=r?f>r&&(d-o)*(r-a)>(f-a)*(t-o)&&++e:f<=r&&(d-o)*(r-a)<(f-a)*(t-o)&&--e;return e}(),n=b&&e,i=(c=mt(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&id(c,s,e,o,a),a.polygonEnd()),v=a,c=l=u=null}};function w(t,e){i(t,e)&&v.point(t,e)}function k(o,a){var s=i(o,a);if(l&&u.push([o,a]),y)h=o,d=a,f=s,y=!1,s&&(v.lineStart(),v.point(o,a));else if(s&&m)v.point(o,a);else{var c=[p=Math.max(bd,Math.min(yd,p)),g=Math.max(bd,Math.min(yd,g))],_=[o=Math.max(bd,Math.min(yd,o)),a=Math.max(bd,Math.min(yd,a))];!function(t,e,n,r,i,o){var a,s=t[0],c=t[1],l=0,u=1,h=e[0]-s,d=e[1]-c;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<u&&(u=a)}if(a=r-c,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>l&&(l=a)}if(a=o-c,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<u&&(u=a)}return l>0&&(t[0]=s+l*h,t[1]=c+l*d),u<1&&(e[0]=s+u*h,e[1]=c+u*d),!0}}}}}(c,_,t,e,n,r)?s&&(v.lineStart(),v.point(o,a),b=!1):(m||(v.lineStart(),v.point(c[0],c[1])),v.point(_[0],_[1]),s||v.lineEnd(),b=!1)}p=o,g=a,m=s}return x}}function _d(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=vd(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}}var xd={sphere:_u,point:_u,lineStart:function(){xd.point=kd,xd.lineEnd=wd},lineEnd:_u,polygonStart:_u,polygonEnd:_u};function wd(){xd.point=xd.lineEnd=_u}function kd(t,e){pd=t*=ru,gd=fu(e*=ru),md=su(e),xd.point=Dd}function Dd(t,e){t*=ru;var n=fu(e*=ru),r=su(e),i=iu(t-pd),o=su(i),a=r*fu(i),s=md*n-gd*r*o,c=gd*n+md*r*o;fd.add(au(gu(a*a+s*s),c)),pd=t,gd=n,md=r}function Cd(t){return fd=new x,Eu(t,xd),+fd}var Ed=[null,null],Sd={type:"LineString",coordinates:Ed};function Td(t,e){return Ed[0]=t,Ed[1]=e,Cd(Sd)}var Ad={Feature:function(t,e){return Fd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Fd(n[r].geometry,e))return!0;return!1}},Md={Sphere:function(){return!0},Point:function(t,e){return Od(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Od(n[r],e))return!0;return!1},LineString:function(t,e){return Nd(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Nd(n[r],e))return!0;return!1},Polygon:function(t,e){return Bd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Bd(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Fd(n[r],e))return!0;return!1}};function Fd(t,e){return!(!t||!Md.hasOwnProperty(t.type))&&Md[t.type](t,e)}function Od(t,e){return 0===Td(t,e)}function Nd(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Td(t[o],e)))return!0;if(o>0&&(i=Td(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Kl*i)return!0;n=r}return!1}function Bd(t,e){return!!sd(t.map(Id),Ld(e))}function Id(t){return(t=t.map(Ld)).pop(),t}function Ld(t){return[t[0]*ru,t[1]*ru]}function Rd(t,e){return(t&&Ad.hasOwnProperty(t.type)?Ad[t.type]:Fd)(t,e)}function Pd(t,e,n){var r=xt(t,e-Jl,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function jd(t,e,n){var r=xt(t,e-Jl,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function zd(){var t,e,n,r,i,o,a,s,c,l,u,h,d=10,f=d,p=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return xt(cu(r/p)*p,n,p).map(u).concat(xt(cu(s/g)*g,a,g).map(h)).concat(xt(cu(e/d)*d,t,d).filter((function(t){return iu(t%p)>Jl})).map(c)).concat(xt(cu(o/f)*f,i,f).filter((function(t){return iu(t%g)>Jl})).map(l))}return y.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(h(a).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),y.precision(m)):[[r,s],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(m)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],y):[p,g]},y.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],y):[d,f]},y.precision=function(d){return arguments.length?(m=+d,c=Pd(o,i,90),l=jd(e,t,m),u=Pd(s,a,90),h=jd(r,n,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function $d(){return zd()()}function Yd(t,e){var n=t[0]*ru,r=t[1]*ru,i=e[0]*ru,o=e[1]*ru,a=su(r),s=fu(r),c=su(o),l=fu(o),u=a*su(n),h=a*fu(n),d=c*su(i),f=c*fu(i),p=2*bu(gu(vu(o-r)+a*c*vu(i-n))),g=fu(p),m=p?function(t){var e=fu(t*=p)/g,n=fu(p-t)/g,r=n*u+e*d,i=n*h+e*f,o=n*s+e*l;return[au(i,r)*nu,au(o,gu(r*r+i*i))*nu]}:function(){return[n*nu,r*nu]};return m.distance=p,m}const Wd=t=>t;var Ud,qd,Vd,Hd,Gd=new x,Xd=new x,Jd={point:_u,lineStart:_u,lineEnd:_u,polygonStart:function(){Jd.lineStart=Kd,Jd.lineEnd=tf},polygonEnd:function(){Jd.lineStart=Jd.lineEnd=Jd.point=_u,Gd.add(iu(Xd)),Xd=new x},result:function(){var t=Gd/2;return Gd=new x,t}};function Kd(){Jd.point=Zd}function Zd(t,e){Jd.point=Qd,Ud=Vd=t,qd=Hd=e}function Qd(t,e){Xd.add(Hd*t-Vd*e),Vd=t,Hd=e}function tf(){Qd(Ud,qd)}const ef=Jd;var nf=1/0,rf=nf,of=-nf,af=of,sf={point:function(t,e){t<nf&&(nf=t),t>of&&(of=t),e<rf&&(rf=e),e>af&&(af=e)},lineStart:_u,lineEnd:_u,polygonStart:_u,polygonEnd:_u,result:function(){var t=[[nf,rf],[of,af]];return of=af=-(rf=nf=1/0),t}};const cf=sf;var lf,uf,hf,df,ff=0,pf=0,gf=0,mf=0,yf=0,bf=0,vf=0,_f=0,xf=0,wf={point:kf,lineStart:Df,lineEnd:Sf,polygonStart:function(){wf.lineStart=Tf,wf.lineEnd=Af},polygonEnd:function(){wf.point=kf,wf.lineStart=Df,wf.lineEnd=Sf},result:function(){var t=xf?[vf/xf,_f/xf]:bf?[mf/bf,yf/bf]:gf?[ff/gf,pf/gf]:[NaN,NaN];return ff=pf=gf=mf=yf=bf=vf=_f=xf=0,t}};function kf(t,e){ff+=t,pf+=e,++gf}function Df(){wf.point=Cf}function Cf(t,e){wf.point=Ef,kf(hf=t,df=e)}function Ef(t,e){var n=t-hf,r=e-df,i=gu(n*n+r*r);mf+=i*(hf+t)/2,yf+=i*(df+e)/2,bf+=i,kf(hf=t,df=e)}function Sf(){wf.point=kf}function Tf(){wf.point=Mf}function Af(){Ff(lf,uf)}function Mf(t,e){wf.point=Ff,kf(lf=hf=t,uf=df=e)}function Ff(t,e){var n=t-hf,r=e-df,i=gu(n*n+r*r);mf+=i*(hf+t)/2,yf+=i*(df+e)/2,bf+=i,vf+=(i=df*t-hf*e)*(hf+t),_f+=i*(df+e),xf+=3*i,kf(hf=t,df=e)}const Of=wf;function Nf(t){this._context=t}Nf.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,eu)}},result:_u};var Bf,If,Lf,Rf,Pf,jf=new x,zf={point:_u,lineStart:function(){zf.point=$f},lineEnd:function(){Bf&&Yf(If,Lf),zf.point=_u},polygonStart:function(){Bf=!0},polygonEnd:function(){Bf=null},result:function(){var t=+jf;return jf=new x,t}};function $f(t,e){zf.point=Yf,If=Rf=t,Lf=Pf=e}function Yf(t,e){Rf-=t,Pf-=e,jf.add(gu(Rf*Rf+Pf*Pf)),Rf=t,Pf=e}const Wf=zf;function Uf(){this._string=[]}function qf(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Vf(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Eu(t,n(r))),r.result()}return o.area=function(t){return Eu(t,n(ef)),ef.result()},o.measure=function(t){return Eu(t,n(Wf)),Wf.result()},o.bounds=function(t){return Eu(t,n(cf)),cf.result()},o.centroid=function(t){return Eu(t,n(Of)),Of.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Wd):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new Uf):new Nf(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function Hf(t){return{stream:Gf(t)}}function Gf(t){return function(e){var n=new Xf;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Xf(){}function Jf(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Eu(n,t.stream(cf)),e(cf.result()),null!=r&&t.clipExtent(r),t}function Kf(t,e,n){return Jf(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function Zf(t,e,n){return Kf(t,[[0,0],e],n)}function Qf(t,e,n){return Jf(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function tp(t,e,n){return Jf(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}Uf.prototype={_radius:4.5,_circle:qf(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=qf(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Xf.prototype={constructor:Xf,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ep=su(30*ru);function np(t,e){return+e?function(t,e){function n(r,i,o,a,s,c,l,u,h,d,f,p,g,m){var y=l-r,b=u-i,v=y*y+b*b;if(v>4*e&&g--){var _=a+d,x=s+f,w=c+p,k=gu(_*_+x*x+w*w),D=bu(w/=k),C=iu(iu(w)-1)<Jl||iu(o-h)<Jl?(o+h)/2:au(x,_),E=t(C,D),S=E[0],T=E[1],A=S-r,M=T-i,F=b*A-y*M;(F*F/v>e||iu((y*A+b*M)/v-.5)>.3||a*d+s*f+c*p<ep)&&(n(r,i,o,a,s,c,S,T,C,_/=k,x/=k,w,g,m),m.point(S,T),n(S,T,C,_,x,w,l,u,h,d,f,p,g,m))}}return function(e){var r,i,o,a,s,c,l,u,h,d,f,p,g={point:m,lineStart:y,lineEnd:v,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){u=NaN,g.point=b,e.lineStart()}function b(r,i){var o=Zu([r,i]),a=t(r,i);n(u,h,l,d,f,p,u=a[0],h=a[1],l=r,d=o[0],f=o[1],p=o[2],16,e),e.point(u,h)}function v(){g.point=m,e.lineEnd()}function _(){y(),g.point=x,g.lineEnd=w}function x(t,e){b(r=t,e),i=u,o=h,a=d,s=f,c=p,g.point=b}function w(){n(u,h,l,d,f,p,i,o,r,a,s,c,16,e),g.lineEnd=v,v()}return g}}(t,e):function(t){return Gf({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var rp=Gf({point:function(t,e){this.stream.point(t*ru,e*ru)}});function ip(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=su(o),s=fu(o),c=a*t,l=s*t,u=a/t,h=s/t,d=(s*n-a*e)/t,f=(s*e+a*n)/t;function p(t,o){return[c*(t*=r)-l*(o*=i)+e,n-l*t-c*o]}return p.invert=function(t,e){return[r*(u*t-h*e+d),i*(f-h*t-u*e)]},p}function op(t){return ap((function(){return t}))()}function ap(t){var e,n,r,i,o,a,s,c,l,u,h=150,d=480,f=250,p=0,g=0,m=0,y=0,b=0,v=0,_=1,x=1,w=null,k=hd,D=null,C=Wd,E=.5;function S(t){return c(t[0]*ru,t[1]*ru)}function T(t){return(t=c.invert(t[0],t[1]))&&[t[0]*nu,t[1]*nu]}function A(){var t=ip(h,0,0,_,x,v).apply(null,e(p,g)),r=ip(h,d-t[0],f-t[1],_,x,v);return n=Hh(m,y,b),s=qh(e,r),c=qh(n,s),a=np(s,E),M()}function M(){return l=u=null,S}return S.stream=function(t){return l&&u===t?l:l=rp(function(t){return Gf({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(k(a(C(u=t)))))},S.preclip=function(t){return arguments.length?(k=t,w=void 0,M()):k},S.postclip=function(t){return arguments.length?(C=t,D=r=i=o=null,M()):C},S.clipAngle=function(t){return arguments.length?(k=+t?dd(w=t*ru):(w=null,hd),M()):w*nu},S.clipExtent=function(t){return arguments.length?(C=null==t?(D=r=i=o=null,Wd):vd(D=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),M()):null==D?null:[[D,r],[i,o]]},S.scale=function(t){return arguments.length?(h=+t,A()):h},S.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],A()):[d,f]},S.center=function(t){return arguments.length?(p=t[0]%360*ru,g=t[1]%360*ru,A()):[p*nu,g*nu]},S.rotate=function(t){return arguments.length?(m=t[0]%360*ru,y=t[1]%360*ru,b=t.length>2?t[2]%360*ru:0,A()):[m*nu,y*nu,b*nu]},S.angle=function(t){return arguments.length?(v=t%360*ru,A()):v*nu},S.reflectX=function(t){return arguments.length?(_=t?-1:1,A()):_<0},S.reflectY=function(t){return arguments.length?(x=t?-1:1,A()):x<0},S.precision=function(t){return arguments.length?(a=np(s,E=t*t),M()):gu(E)},S.fitExtent=function(t,e){return Kf(S,t,e)},S.fitSize=function(t,e){return Zf(S,t,e)},S.fitWidth=function(t,e){return Qf(S,t,e)},S.fitHeight=function(t,e){return tp(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&T,A()}}function sp(t){var e=0,n=Zl/3,r=ap(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*ru,n=t[1]*ru):[e*nu,n*nu]},i}function cp(t,e){var n=fu(t),r=(n+fu(e))/2;if(iu(r)<Jl)return function(t){var e=su(t);function n(t,n){return[t*e,fu(n)/e]}return n.invert=function(t,n){return[t/e,bu(n*e)]},n}(t);var i=1+n*(2*r-n),o=gu(i)/r;function a(t,e){var n=gu(i-2*r*fu(e))/r;return[n*fu(t*=r),o-n*su(t)]}return a.invert=function(t,e){var n=o-e,a=au(t,iu(n))*pu(n);return n*r<0&&(a-=Zl*pu(t)*pu(n)),[a/r,bu((i-(t*t+n*n)*r*r)/(2*r))]},a}function lp(){return sp(cp).scale(155.424).center([0,33.6442])}function up(){return lp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function hp(){var t,e,n,r,i,o,a=up(),s=lp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=lp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},u.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),c.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),c.precision(t),h()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),c.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(l),r=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+Jl,u+.12*e+Jl],[o-.214*e-Jl,u+.234*e-Jl]]).stream(l),i=c.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+Jl,u+.166*e+Jl],[o-.115*e-Jl,u+.234*e-Jl]]).stream(l),h()},u.fitExtent=function(t,e){return Kf(u,t,e)},u.fitSize=function(t,e){return Zf(u,t,e)},u.fitWidth=function(t,e){return Qf(u,t,e)},u.fitHeight=function(t,e){return tp(u,t,e)},u.scale(1070)}function dp(t){return function(e,n){var r=su(e),i=su(n),o=t(r*i);return o===1/0?[2,0]:[o*i*fu(e),o*fu(n)]}}function fp(t){return function(e,n){var r=gu(e*e+n*n),i=t(r),o=fu(i),a=su(i);return[au(e*o,r*a),bu(r&&n*o/r)]}}var pp=dp((function(t){return gu(2/(1+t))}));function gp(){return op(pp).scale(124.75).clipAngle(179.999)}pp.invert=fp((function(t){return 2*bu(t/2)}));var mp=dp((function(t){return(t=yu(t))&&t/fu(t)}));function yp(){return op(mp).scale(79.4188).clipAngle(179.999)}function bp(t,e){return[t,hu(mu((Ql+e)/2))]}function vp(){return _p(bp).scale(961/eu)}function _p(t){var e,n,r,i=op(t),o=i.center,a=i.scale,s=i.translate,c=i.clipExtent,l=null;function u(){var o=Zl*a(),s=i(Kh(i.rotate()).invert([0,0]));return c(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===bp?[[Math.max(s[0]-o,l),e],[Math.min(s[0]+o,n),r]]:[[l,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),u()):a()},i.translate=function(t){return arguments.length?(s(t),u()):s()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),u()):null==l?null:[[l,e],[n,r]]},u()}function xp(t){return mu((Ql+t)/2)}function wp(t,e){var n=su(t),r=t===e?fu(t):hu(n/su(e))/hu(xp(e)/xp(t)),i=n*du(xp(t),r)/r;if(!r)return bp;function o(t,e){i>0?e<-Ql+Jl&&(e=-Ql+Jl):e>Ql-Jl&&(e=Ql-Jl);var n=i/du(xp(e),r);return[n*fu(r*t),i-n*su(r*t)]}return o.invert=function(t,e){var n=i-e,o=pu(r)*gu(t*t+n*n),a=au(t,iu(n))*pu(n);return n*r<0&&(a-=Zl*pu(t)*pu(n)),[a/r,2*ou(du(i/o,1/r))-Ql]},o}function kp(){return sp(wp).scale(109.5).parallels([30,30])}function Dp(t,e){return[t,e]}function Cp(){return op(Dp).scale(152.63)}function Ep(t,e){var n=su(t),r=t===e?fu(t):(n-su(e))/(e-t),i=n/r+t;if(iu(r)<Jl)return Dp;function o(t,e){var n=i-e,o=r*t;return[n*fu(o),i-n*su(o)]}return o.invert=function(t,e){var n=i-e,o=au(t,iu(n))*pu(n);return n*r<0&&(o-=Zl*pu(t)*pu(n)),[o/r,i-pu(r)*gu(t*t+n*n)]},o}function Sp(){return sp(Ep).scale(131.154).center([0,13.9389])}mp.invert=fp((function(t){return t})),bp.invert=function(t,e){return[t,2*ou(lu(e))-Ql]},Dp.invert=Dp;var Tp=1.340264,Ap=-.081106,Mp=893e-6,Fp=.003796,Op=gu(3)/2;function Np(t,e){var n=bu(Op*fu(e)),r=n*n,i=r*r*r;return[t*su(n)/(Op*(Tp+3*Ap*r+i*(7*Mp+9*Fp*r))),n*(Tp+Ap*r+i*(Mp+Fp*r))]}function Bp(){return op(Np).scale(177.158)}function Ip(t,e){var n=su(e),r=su(t)*n;return[n*fu(t)/r,fu(e)/r]}function Lp(){return op(Ip).scale(144.049).clipAngle(60)}function Rp(){var t,e,n,r,i,o,a,s=1,c=0,l=0,u=1,h=1,d=0,f=null,p=1,g=1,m=Gf({point:function(t,e){var n=v([t,e]);this.stream.point(n[0],n[1])}}),y=Wd;function b(){return p=s*u,g=s*h,o=a=null,v}function v(n){var r=n[0]*p,i=n[1]*g;if(d){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+c,i+l]}return v.invert=function(n){var r=n[0]-c,i=n[1]-l;if(d){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/g]},v.stream=function(t){return o&&a===t?o:o=m(y(a=t))},v.postclip=function(t){return arguments.length?(y=t,f=n=r=i=null,b()):y},v.clipExtent=function(t){return arguments.length?(y=null==t?(f=n=r=i=null,Wd):vd(f=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),b()):null==f?null:[[f,n],[r,i]]},v.scale=function(t){return arguments.length?(s=+t,b()):s},v.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],b()):[c,l]},v.angle=function(n){return arguments.length?(e=fu(d=n%360*ru),t=su(d),b()):d*nu},v.reflectX=function(t){return arguments.length?(u=t?-1:1,b()):u<0},v.reflectY=function(t){return arguments.length?(h=t?-1:1,b()):h<0},v.fitExtent=function(t,e){return Kf(v,t,e)},v.fitSize=function(t,e){return Zf(v,t,e)},v.fitWidth=function(t,e){return Qf(v,t,e)},v.fitHeight=function(t,e){return tp(v,t,e)},v}function Pp(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function jp(){return op(Pp).scale(175.295)}function zp(t,e){return[su(e)*fu(t),fu(e)]}function $p(){return op(zp).scale(249.5).clipAngle(90.000001)}function Yp(t,e){var n=su(e),r=1+su(t)*n;return[n*fu(t)/r,fu(e)/r]}function Wp(){return op(Yp).scale(250).clipAngle(142)}function Up(t,e){return[hu(mu((Ql+e)/2)),-t]}function qp(){var t=_p(Up),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function Vp(t,e){return t.parent===e.parent?1:2}function Hp(t,e){return t+e.x}function Gp(t,e){return Math.max(t,e.y)}function Xp(){var t=Vp,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Hp,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Gp,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),l=s.x-t(s,c)/2,u=c.x+t(c,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-l)/(u-l)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Jp(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Kp(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Qp)):void 0===e&&(e=Zp);for(var n,r,i,o,a,s=new ng(t),c=[s];n=c.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)c.push(r=i[o]=new ng(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(eg)}function Zp(t){return t.children}function Qp(t){return Array.isArray(t)?t[1]:null}function tg(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function eg(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function ng(t){this.data=t,this.depth=this.height=0,this.parent=null}function rg(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&ag(n,e)?++r:(n=cg(o=ig(o,e)),r=0);return n}function ig(t,e){var n,r;if(sg(e,t))return[e];for(n=0;n<t.length;++n)if(og(e,t[n])&&sg(lg(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(og(lg(t[n],t[r]),e)&&og(lg(t[n],e),t[r])&&og(lg(t[r],e),t[n])&&sg(ug(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function og(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function ag(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function sg(t,e){for(var n=0;n<e.length;++n)if(!ag(t,e[n]))return!1;return!0}function cg(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return lg(t[0],t[1]);case 3:return ug(t[0],t[1],t[2])}var e}function lg(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,c=o-n,l=a-r,u=s-i,h=Math.sqrt(c*c+l*l);return{x:(n+o+c/h*u)/2,y:(r+a+l/h*u)/2,r:(h+i+s)/2}}function ug(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,c=e.r,l=n.x,u=n.y,h=n.r,d=r-a,f=r-l,p=i-s,g=i-u,m=c-o,y=h-o,b=r*r+i*i-o*o,v=b-a*a-s*s+c*c,_=b-l*l-u*u+h*h,x=f*p-d*g,w=(p*_-g*v)/(2*x)-r,k=(g*m-p*y)/x,D=(f*v-d*_)/(2*x)-i,C=(d*y-f*m)/x,E=k*k+C*C-1,S=2*(o+w*k+D*C),T=w*w+D*D-o*o,A=-(E?(S+Math.sqrt(S*S-4*E*T))/(2*E):T/S);return{x:r+w+k*A,y:i+D+C*A,r:A}}function hg(t,e,n){var r,i,o,a,s=t.x-e.x,c=t.y-e.y,l=s*s+c*c;l?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*s-o*c,n.y=t.y-r*c+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*s-o*c,n.y=e.y+r*c+o*s)):(n.x=e.x+n.r,n.y=e.y)}function dg(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function fg(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function pg(t){this._=t,this.next=null,this.previous=null}function gg(t){if(!(o=(e=t,t="object"==typeof e&&"length"in e?e:Array.from(e)).length))return 0;var e,n,r,i,o,a,s,c,l,u,h,d;if((n=t[0]).x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;hg(r,n,i=t[2]),n=new pg(n),r=new pg(r),i=new pg(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(c=3;c<o;++c){hg(n._,r._,i=t[c]),i=new pg(i),l=r.next,u=n.previous,h=r._.r,d=n._.r;do{if(h<=d){if(dg(l._,i._)){r=l,n.next=r,r.previous=n,--c;continue t}h+=l._.r,l=l.next}else{if(dg(u._,i._)){(n=u).next=r,r.previous=n,--c;continue t}d+=u._.r,u=u.previous}}while(l!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=fg(n);(i=i.next)!==r;)(s=fg(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=rg(n),c=0;c<o;++c)(n=t[c]).x-=i.x,n.y-=i.y;return i.r}function mg(t){return gg(t),t}function yg(t){return null==t?null:bg(t)}function bg(t){if("function"!=typeof t)throw new Error;return t}function vg(){return 0}function _g(t){return function(){return t}}function xg(t){return Math.sqrt(t.value)}function wg(){var t=null,e=1,n=1,r=vg;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(kg(t)).eachAfter(Dg(r,.5)).eachBefore(Cg(1)):i.eachBefore(kg(xg)).eachAfter(Dg(vg,1)).eachAfter(Dg(r,i.r/Math.min(e,n))).eachBefore(Cg(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=yg(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:_g(+t),i):r},i}function kg(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Dg(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=gg(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Cg(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Eg(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Sg(t,e,n,r,i){for(var o,a=t.children,s=-1,c=a.length,l=t.value&&(r-e)/t.value;++s<c;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}function Tg(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&Sg(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(Eg),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}Np.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Tp+Ap*i+o*(Mp+Fp*i))-e)/(Tp+3*Ap*i+o*(7*Mp+9*Fp*i)))*r)*i*i,!(iu(n)<Kl));++a);return[Op*t*(Tp+3*Ap*i+o*(7*Mp+9*Fp*i))/su(r),bu(fu(r)/Op)]},Ip.invert=fp(ou),Pp.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(iu(n)>Jl&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},zp.invert=fp(bu),Yp.invert=fp((function(t){return 2*ou(t)})),Up.invert=function(t,e){return[-e,2*ou(lu(t))-Ql]},ng.prototype=Kp.prototype={constructor:ng,count:function(){return this.eachAfter(Jp)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],c=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++c,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Kp(this).eachBefore(tg)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};var Ag={depth:-1},Mg={},Fg={};function Og(t){return t.id}function Ng(t){return t.parentId}function Bg(){var t,e=Og,n=Ng;function r(r){var i,o,a,s,c,l,u,h,d=Array.from(r),f=e,p=n,g=new Map;if(null!=t){const e=d.map(((e,n)=>function(t){let e=(t=`${t}`).length;return Lg(t,e-1)&&!Lg(t,e-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}(t(e,n,r)))),n=e.map(Ig),i=new Set(e).add("");for(const t of n)i.has(t)||(i.add(t),e.push(t),n.push(Ig(t)),d.push(Fg));f=(t,n)=>e[n],p=(t,e)=>n[e]}for(a=0,i=d.length;a<i;++a)o=d[a],l=d[a]=new ng(o),null!=(u=f(o,a,r))&&(u+="")&&(h=l.id=u,g.set(h,g.has(h)?Mg:l)),null!=(u=p(o,a,r))&&(u+="")&&(l.parent=u);for(a=0;a<i;++a)if(u=(l=d[a]).parent){if(!(c=g.get(u)))throw new Error("missing: "+u);if(c===Mg)throw new Error("ambiguous: "+u);c.children?c.children.push(l):c.children=[l],l.parent=c}else{if(s)throw new Error("multiple roots");s=l}if(!s)throw new Error("no root");if(null!=t){for(;s.data===Fg&&1===s.children.length;)s=s.children[0],--i;for(let t=d.length-1;t>=0&&(l=d[t],l.data===Fg);--t)l.data=null}if(s.parent=Ag,s.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(eg),s.parent=null,i>0)throw new Error("cycle");return s}return r.id=function(t){return arguments.length?(e=yg(t),r):e},r.parentId=function(t){return arguments.length?(n=yg(t),r):n},r.path=function(e){return arguments.length?(t=yg(e),r):t},r}function Ig(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Lg(t,e););return t.slice(0,e)}function Lg(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if(0==(1&n))return!0}return!1}function Rg(t,e){return t.parent===e.parent?1:2}function Pg(t){var e=t.children;return e?e[0]:t.t}function jg(t){var e=t.children;return e?e[e.length-1]:t.t}function zg(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function $g(t,e,n){return t.a.parent===e.parent?t.a:n}function Yg(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Wg(){var t=Rg,e=1,n=1,r=null;function i(i){var c=function(t){for(var e,n,r,i,o,a=new Yg(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new Yg(r[i],i)),n.parent=e;return(a.parent=new Yg(null,0)).children=[a],a}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)i.eachBefore(s);else{var l=i,u=i,h=i;i.eachBefore((function(t){t.x<l.x&&(l=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var d=l===u?1:t(l,u)/2,f=d-l.x,p=e/(u.x+d+f),g=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+f)*p,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,c=o.parent.children[0],l=o.m,u=a.m,h=s.m,d=c.m;s=jg(s),o=Pg(o),s&&o;)c=Pg(c),(a=jg(a)).a=e,(i=s.z+h-o.z-l+t(s._,o._))>0&&(zg($g(s,e,r),e,i),l+=i,u+=i),h+=s.m,l+=o.m,d+=c.m,u+=a.m;s&&!jg(a)&&(a.t=s,a.m+=h-u),o&&!Pg(c)&&(c.t=o,c.m+=l-d,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Ug(t,e,n,r,i){for(var o,a=t.children,s=-1,c=a.length,l=t.value&&(i-n)/t.value;++s<c;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}Yg.prototype=Object.create(ng.prototype);var qg=(1+Math.sqrt(5))/2;function Vg(t,e,n,r,i,o){for(var a,s,c,l,u,h,d,f,p,g,m,y=[],b=e.children,v=0,_=0,x=b.length,w=e.value;v<x;){c=i-n,l=o-r;do{u=b[_++].value}while(!u&&_<x);for(h=d=u,m=u*u*(g=Math.max(l/c,c/l)/(w*t)),p=Math.max(d/m,m/h);_<x;++_){if(u+=s=b[_].value,s<h&&(h=s),s>d&&(d=s),m=u*u*g,(f=Math.max(d/m,m/h))>p){u-=s;break}p=f}y.push(a={value:u,dice:c<l,children:b.slice(v,_)}),a.dice?Sg(a,n,r,i,w?r+=l*u/w:o):Ug(a,n,r,w?n+=c*u/w:i,o),w-=u,v=_}return y}const Hg=function t(e){function n(t,n,r,i,o){Vg(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(qg);function Gg(){var t=Hg,e=!1,n=1,r=1,i=[0],o=vg,a=vg,s=vg,c=vg,l=vg;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(Eg),t}function h(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,h=e.x1-n,d=e.y1-n;h<r&&(r=h=(r+h)/2),d<u&&(u=d=(u+d)/2),e.x0=r,e.y0=u,e.x1=h,e.y1=d,e.children&&(n=i[e.depth+1]=o(e)/2,r+=l(e)-n,u+=a(e)-n,(h-=s(e)-n)<r&&(r=h=(r+h)/2),(d-=c(e)-n)<u&&(u=d=(u+d)/2),t(e,r,u,h,d))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=bg(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:_g(+t),u):o},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:_g(+t),u):a},u.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:_g(+t),u):s},u.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:_g(+t),u):c},u.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:_g(+t),u):l},u}function Xg(t,e,n,r,i){var o,a,s=t.children,c=s.length,l=new Array(c+1);for(l[0]=a=o=0;o<c;++o)l[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,c){if(e>=n-1){var u=s[e];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=c)}for(var h=l[e],d=r/2+h,f=e+1,p=n-1;f<p;){var g=f+p>>>1;l[g]<d?f=g+1:p=g}d-l[f-1]<l[f]-d&&e+1<f&&--f;var m=l[f]-h,y=r-m;if(a-i>c-o){var b=r?(i*y+a*m)/r:a;t(e,f,m,i,o,b,c),t(f,n,y,b,o,a,c)}else{var v=r?(o*y+c*m)/r:c;t(e,f,m,i,o,a,v),t(f,n,y,i,v,a,c)}}(0,c,t.value,e,n,r,i)}function Jg(t,e,n,r,i){(1&t.depth?Ug:Sg)(t,e,n,r,i)}const Kg=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,c,l,u,h=-1,d=a.length,f=t.value;++h<d;){for(c=(s=a[h]).children,l=s.value=0,u=c.length;l<u;++l)s.value+=c[l].value;s.dice?Sg(s,n,r,i,f?r+=(o-r)*s.value/f:o):Ug(s,n,r,f?n+=(i-n)*s.value/f:i,o),f-=s.value}else t._squarify=a=Vg(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(qg);function Zg(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Qg(t,e){var n=vr(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function tm(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function em(t){return((t=Math.exp(t))+1/t)/2}const nm=function t(e,n,r){function i(t,i){var o,a,s=t[0],c=t[1],l=t[2],u=i[0],h=i[1],d=i[2],f=u-s,p=h-c,g=f*f+p*p;if(g<1e-12)a=Math.log(d/l)/e,o=function(t){return[s+t*f,c+t*p,l*Math.exp(e*t*a)]};else{var m=Math.sqrt(g),y=(d*d-l*l+r*g)/(2*l*n*m),b=(d*d-l*l-r*g)/(2*d*n*m),v=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(b*b+1)-b);a=(_-v)/e,o=function(t){var r,i=t*a,o=em(v),u=l/(n*m)*(o*(r=e*i+v,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[s+u*f,c+u*p,l*o/em(e*i+v)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function rm(t){return function(e,n){var r=t((e=hr(e)).h,(n=hr(n)).h),i=_r(e.s,n.s),o=_r(e.l,n.l),a=_r(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const im=rm(vr);var om=rm(_r);function am(t,e){var n=_r((t=wa(t)).l,(e=wa(e)).l),r=_r(t.a,e.a),i=_r(t.b,e.b),o=_r(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function sm(t){return function(e,n){var r=t((e=Ma(e)).h,(n=Ma(n)).h),i=_r(e.c,n.c),o=_r(e.l,n.l),a=_r(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const cm=sm(vr);var lm=sm(_r);function um(t){return function e(n){function r(e,r){var i=t((e=Ya(e)).h,(r=Ya(r)).h),o=_r(e.s,r.s),a=_r(e.l,r.l),s=_r(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}const hm=um(vr);var dm=um(_r);function fm(t,e){void 0===e&&(e=t,t=Ir);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function pm(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function gm(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}function mm(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],c=0;++r<i;)e=s,s=t[r],c+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(c*=3),a/c]}function ym(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function bm(t,e){return t[0]-e[0]||t[1]-e[1]}function vm(t){const e=t.length,n=[0,1];let r,i=2;for(r=2;r<e;++r){for(;i>1&&ym(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function _m(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(bm),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=vm(r),a=vm(i),s=a[0]===o[0],c=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;e>=0;--e)l.push(t[r[o[e]][2]]);for(e=+s;e<a.length-c;++e)l.push(t[r[a[e]][2]]);return l}function xm(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],c=o[0],l=o[1],u=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=l>s&&a<(c-n)*(s-r)/(l-r)+n&&(u=!u),c=n,l=r;return u}function wm(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],c=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],c+=Math.hypot(e,n);return c}const km=Math.random,Dm=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(km),Cm=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(km),Em=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(km),Sm=function t(e){var n=Em.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(km),Tm=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(km),Am=function t(e){var n=Tm.source(e);function r(t){if(0==(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(km),Mm=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(km),Fm=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(km),Om=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(km),Nm=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(km),Bm=function t(e){var n=Em.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),a=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),s=1+o*t}while(s<=0);s*=s*s;var c=1-e()}while(c>=1-.0331*t*t*t*t&&Math.log(c)>=.5*t*t+i*(1-s+Math.log(s)));return i*s*a()*r}}return r.source=t,r}(km),Im=function t(e){var n=Bm.source(e);function r(t,e){var r=n(t),i=n(e);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(km),Lm=function t(e){var n=Nm.source(e),r=Im.source(e);function i(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var i=0,o=t,a=e;o*a>16&&o*(1-a)>16;){var s=Math.floor((o+1)*a),c=r(s,o-s+1)();c<=a?(i+=s,o-=s,a=(a-c)/(1-c)):(o=s-1,a/=c)}for(var l=a<.5,u=n(l?a:1-a),h=u(),d=0;h<=o;++d)h+=u();return i+(l?d:o-d)}}return i.source=t,i}(km),Rm=function t(e){function n(t,n,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=e=>Math.pow(e,t)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-e()))}}return n.source=t,n}(km),Pm=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(km),jm=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(km),zm=function t(e){var n=Bm.source(e),r=Lm.source(e);function i(t){return function(){for(var i=0,o=t;o>16;){var a=Math.floor(.875*o),s=n(a)();if(s>o)return i+r(a-1,o/s)();i+=a,o-=s}for(var c=-Math.log1p(-e()),l=0;c<=o;++l)c-=Math.log1p(-e());return i+l}}return i.source=t,i}(km),$m=1/4294967296;function Ym(t=Math.random()){let e=0|(0<=t&&t<1?t/$m:Math.abs(t));return()=>(e=1664525*e+1013904223|0,$m*(e>>>0))}function Wm(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Um(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const qm=Symbol("implicit");function Vm(){var t=new D,e=[],n=[],r=qm;function i(i){let o=t.get(i);if(void 0===o){if(r!==qm)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new D;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Vm(e,n).unknown(r)},Wm.apply(i,arguments),i}function Hm(){var t,e,n=Vm().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,c=0,l=0,u=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;t=(f-d)/Math.max(1,n-c+2*l),s&&(t=Math.floor(t)),d+=(f-d-t*(n-c))*u,e=t*(1-c),s&&(d=Math.round(d),e=Math.round(e));var p=xt(n).map((function(e){return d+t*e}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(c=Math.min(1,l=+t),h()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),h()):c},n.paddingOuter=function(t){return arguments.length?(l=+t,h()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return Hm(r(),[o,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},Wm.apply(h(),arguments)}function Gm(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Gm(e())},t}function Xm(){return Gm(Hm.apply(null,arguments).paddingInner(1))}function Jm(t){return+t}var Km=[0,1];function Zm(t){return t}function Qm(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ty(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Qm(i,r),o=n(a,o)):(r=Qm(r,i),o=n(o,a)),function(t){return o(r(t))}}function ey(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Qm(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=u(t,e,1,r)-1;return o[n](i[n](e))}}function ny(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ry(){var t,e,n,r,i,o,a=Km,s=Km,c=Ir,l=Zm;function u(){var t,e,n,c=Math.min(a.length,s.length);return l!==Zm&&(t=a[0],e=a[c-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=c>2?ey:ty,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,c)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),Mr)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Jm),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),c=tm,u()},h.clamp=function(t){return arguments.length?(l=!!t||Zm,u()):l!==Zm},h.interpolate=function(t){return arguments.length?(c=t,u()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function iy(){return ry()(Zm,Zm)}function oy(t,e,n,r){var i,o=et(t,e,n);switch((r=Il(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Gl(o,a))||(r.precision=i),Yl(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Xl(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Hl(o))||(r.precision=i-2*("%"===r.type))}return $l(r)}function ay(t){var e=t.domain;return t.ticks=function(t){var n=e();return Q(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return oy(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,c=o[a],l=o[s],u=10;for(l<c&&(i=c,c=l,l=i,i=a,a=s,s=i);u-- >0;){if((i=tt(c,l,n))===r)return o[a]=c,o[s]=l,e(o);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function sy(){var t=iy();return t.copy=function(){return ny(t,sy())},Wm.apply(t,arguments),ay(t)}function cy(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Jm),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return cy(t).unknown(e)},t=arguments.length?Array.from(t,Jm):[0,1],ay(n)}function ly(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function uy(t){return Math.log(t)}function hy(t){return Math.exp(t)}function dy(t){return-Math.log(-t)}function fy(t){return-Math.exp(-t)}function py(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gy(t){return(e,n)=>-t(-e,n)}function my(t){const e=t(uy,hy),n=e.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?py:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=gy(r),i=gy(i),t(dy,fy)):t(uy,hy),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const c=s<a;c&&([a,s]=[s,a]);let l,u,h=r(a),d=r(s);const f=null==t?10:+t;let p=[];if(!(o%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(l=1;l<o;++l)if(u=h<0?l/i(-h):l*i(h),!(u<a)){if(u>s)break;p.push(u)}}else for(;h<=d;++h)for(l=o-1;l>=1;--l)if(u=h>0?l/i(-h):l*i(h),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=Q(a,s,f))}else p=Q(h,d,Math.min(d-h,f)).map(i);return c?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Il(n)).precision||(n.trim=!0),n=$l(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(ly(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function yy(){const t=my(ry()).domain([1,10]);return t.copy=()=>ny(t,yy()).base(t.base()),Wm.apply(t,arguments),t}function by(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vy(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _y(t){var e=1,n=t(by(e),vy(e));return n.constant=function(n){return arguments.length?t(by(e=+n),vy(e)):e},ay(n)}function xy(){var t=_y(ry());return t.copy=function(){return ny(t,xy()).constant(t.constant())},Wm.apply(t,arguments)}function wy(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ky(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Dy(t){return t<0?-t*t:t*t}function Cy(t){var e=t(Zm,Zm),n=1;function r(){return 1===n?t(Zm,Zm):.5===n?t(ky,Dy):t(wy(n),wy(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},ay(e)}function Ey(){var t=Cy(ry());return t.copy=function(){return ny(t,Ey()).exponent(t.exponent())},Wm.apply(t,arguments),t}function Sy(){return Ey.apply(null,arguments).exponent(.5)}function Ty(t){return Math.sign(t)*t*t}function Ay(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function My(){var t,e=iy(),n=[0,1],r=!1;function i(n){var i=Ay(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(Ty(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,Jm)).map(Ty)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return My(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},Wm.apply(i,arguments),ay(i)}function Fy(){var t,e=[],n=[],i=[];function o(){var t=0,r=Math.max(1,n.length);for(i=new Array(r-1);++t<r;)i[t-1]=ut(e,t/r);return a}function a(e){return null==e||isNaN(e=+e)?t:n[u(i,e)]}return a.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:e[0],r<i.length?i[r]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(r),o()},a.range=function(t){return arguments.length?(n=Array.from(t),o()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return Fy().domain(e).range(n).unknown(t)},Wm.apply(a,arguments)}function Oy(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[u(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Oy().domain([e,n]).range(o).unknown(t)},Wm.apply(ay(a),arguments)}function Ny(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[u(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Ny().domain(e).range(n).unknown(t)},Wm.apply(i,arguments)}const By=1e3,Iy=6e4,Ly=36e5,Ry=864e5,Py=6048e5,jy=31536e6;var zy=new Date,$y=new Date;function Yy(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Yy((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return zy.setTime(+e),$y.setTime(+r),t(zy),t($y),Math.floor(n(zy,$y))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Wy=Yy((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Wy.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Yy((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Wy:null};const Uy=Wy;var qy=Wy.range,Vy=Yy((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*By)}),(function(t,e){return(e-t)/By}),(function(t){return t.getUTCSeconds()}));const Hy=Vy;var Gy=Vy.range,Xy=Yy((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*By)}),(function(t,e){t.setTime(+t+e*Iy)}),(function(t,e){return(e-t)/Iy}),(function(t){return t.getMinutes()}));const Jy=Xy;var Ky=Xy.range,Zy=Yy((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*By-t.getMinutes()*Iy)}),(function(t,e){t.setTime(+t+e*Ly)}),(function(t,e){return(e-t)/Ly}),(function(t){return t.getHours()}));const Qy=Zy;var tb=Zy.range,eb=Yy((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Iy)/Ry),(t=>t.getDate()-1));const nb=eb;var rb=eb.range;function ib(t){return Yy((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Iy)/Py}))}var ob=ib(0),ab=ib(1),sb=ib(2),cb=ib(3),lb=ib(4),ub=ib(5),hb=ib(6),db=ob.range,fb=ab.range,pb=sb.range,gb=cb.range,mb=lb.range,yb=ub.range,bb=hb.range,vb=Yy((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const _b=vb;var xb=vb.range,wb=Yy((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));wb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Yy((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const kb=wb;var Db=wb.range,Cb=Yy((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Iy)}),(function(t,e){return(e-t)/Iy}),(function(t){return t.getUTCMinutes()}));const Eb=Cb;var Sb=Cb.range,Tb=Yy((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Ly)}),(function(t,e){return(e-t)/Ly}),(function(t){return t.getUTCHours()}));const Ab=Tb;var Mb=Tb.range,Fb=Yy((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Ry}),(function(t){return t.getUTCDate()-1}));const Ob=Fb;var Nb=Fb.range;function Bb(t){return Yy((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Py}))}var Ib=Bb(0),Lb=Bb(1),Rb=Bb(2),Pb=Bb(3),jb=Bb(4),zb=Bb(5),$b=Bb(6),Yb=Ib.range,Wb=Lb.range,Ub=Rb.range,qb=Pb.range,Vb=jb.range,Hb=zb.range,Gb=$b.range,Xb=Yy((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const Jb=Xb;var Kb=Xb.range,Zb=Yy((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Zb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Yy((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Qb=Zb;var tv=Zb.range;function ev(t,e,n,r,o,a){const s=[[Hy,1,By],[Hy,5,5e3],[Hy,15,15e3],[Hy,30,3e4],[a,1,Iy],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,Ly],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,Ry],[r,2,1728e5],[n,1,Py],[e,1,2592e6],[e,3,7776e6],[t,1,jy]];function c(e,n,r){const o=Math.abs(n-e)/r,a=i((([,,t])=>t)).right(s,o);if(a===s.length)return t.every(et(e/jy,n/jy,r));if(0===a)return Uy.every(Math.max(et(e,n,r),1));const[c,l]=s[o/s[a-1][2]<s[a][2]/o?a-1:a];return c.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:c(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},c]}const[nv,rv]=ev(Qb,Jb,Ib,Ob,Ab,Eb),[iv,ov]=ev(kb,_b,ob,nb,Qy,Jy);function av(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function cv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lv(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,c=t.shortMonths,l=xv(i),u=wv(i),h=xv(o),d=wv(o),f=xv(a),p=wv(a),g=xv(s),m=wv(s),y=xv(c),b=wv(c),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Wv,e:Wv,f:Gv,g:o_,G:s_,H:Uv,I:qv,j:Vv,L:Hv,m:Xv,M:Jv,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:M_,s:F_,S:Kv,u:Zv,U:Qv,V:e_,w:n_,W:r_,x:null,X:null,y:i_,Y:a_,Z:c_,"%":A_},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:l_,e:l_,f:p_,g:C_,G:S_,H:u_,I:h_,j:d_,L:f_,m:g_,M:m_,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:M_,s:F_,S:y_,u:b_,U:v_,V:x_,w:w_,W:k_,x:null,X:null,y:D_,Y:E_,Z:T_,"%":A_},x={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return D(t,e,n,r)},d:Nv,e:Nv,f:jv,g:Av,G:Tv,H:Iv,I:Iv,j:Bv,L:Pv,m:Ov,M:Lv,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Fv,Q:$v,s:Yv,S:Rv,u:Dv,U:Cv,V:Ev,w:kv,W:Sv,x:function(t,e,r){return D(t,n,e,r)},X:function(t,e,n){return D(t,r,e,n)},y:Av,Y:Tv,Z:Mv,"%":zv};function w(t,e){return function(n){var r,i,o,a=[],s=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(c,s)),null!=(i=gv[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(t.slice(c,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=cv(1900,void 0,1);if(D(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=sv(cv(o.y,0,1))).getUTCDay(),r=i>4||0===i?Lb.ceil(r):Lb(r),r=Ob.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=av(cv(o.y,0,1))).getDay(),r=i>4||0===i?ab.ceil(r):ab(r),r=nb.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?sv(cv(o.y,0,1)).getUTCDay():av(cv(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,sv(o)):av(o)}}function D(t,e,n,r){for(var i,o,a=0,s=e.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in gv?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=w(n,v),v.X=w(r,v),v.c=w(e,v),_.x=w(n,_),_.X=w(r,_),_.c=w(e,_),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var uv,hv,dv,fv,pv,gv={"-":"",_:" ",0:"0"},mv=/^\s*\d+/,yv=/^%/,bv=/[\\^$*+?|[\]().{}]/g;function vv(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function _v(t){return t.replace(bv,"\\$&")}function xv(t){return new RegExp("^(?:"+t.map(_v).join("|")+")","i")}function wv(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function kv(t,e,n){var r=mv.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dv(t,e,n){var r=mv.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Cv(t,e,n){var r=mv.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ev(t,e,n){var r=mv.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Sv(t,e,n){var r=mv.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Tv(t,e,n){var r=mv.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Av(t,e,n){var r=mv.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mv(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Fv(t,e,n){var r=mv.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ov(t,e,n){var r=mv.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Nv(t,e,n){var r=mv.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Bv(t,e,n){var r=mv.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Iv(t,e,n){var r=mv.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Lv(t,e,n){var r=mv.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Rv(t,e,n){var r=mv.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Pv(t,e,n){var r=mv.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function jv(t,e,n){var r=mv.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zv(t,e,n){var r=yv.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $v(t,e,n){var r=mv.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Yv(t,e,n){var r=mv.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Wv(t,e){return vv(t.getDate(),e,2)}function Uv(t,e){return vv(t.getHours(),e,2)}function qv(t,e){return vv(t.getHours()%12||12,e,2)}function Vv(t,e){return vv(1+nb.count(kb(t),t),e,3)}function Hv(t,e){return vv(t.getMilliseconds(),e,3)}function Gv(t,e){return Hv(t,e)+"000"}function Xv(t,e){return vv(t.getMonth()+1,e,2)}function Jv(t,e){return vv(t.getMinutes(),e,2)}function Kv(t,e){return vv(t.getSeconds(),e,2)}function Zv(t){var e=t.getDay();return 0===e?7:e}function Qv(t,e){return vv(ob.count(kb(t)-1,t),e,2)}function t_(t){var e=t.getDay();return e>=4||0===e?lb(t):lb.ceil(t)}function e_(t,e){return t=t_(t),vv(lb.count(kb(t),t)+(4===kb(t).getDay()),e,2)}function n_(t){return t.getDay()}function r_(t,e){return vv(ab.count(kb(t)-1,t),e,2)}function i_(t,e){return vv(t.getFullYear()%100,e,2)}function o_(t,e){return vv((t=t_(t)).getFullYear()%100,e,2)}function a_(t,e){return vv(t.getFullYear()%1e4,e,4)}function s_(t,e){var n=t.getDay();return vv((t=n>=4||0===n?lb(t):lb.ceil(t)).getFullYear()%1e4,e,4)}function c_(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vv(e/60|0,"0",2)+vv(e%60,"0",2)}function l_(t,e){return vv(t.getUTCDate(),e,2)}function u_(t,e){return vv(t.getUTCHours(),e,2)}function h_(t,e){return vv(t.getUTCHours()%12||12,e,2)}function d_(t,e){return vv(1+Ob.count(Qb(t),t),e,3)}function f_(t,e){return vv(t.getUTCMilliseconds(),e,3)}function p_(t,e){return f_(t,e)+"000"}function g_(t,e){return vv(t.getUTCMonth()+1,e,2)}function m_(t,e){return vv(t.getUTCMinutes(),e,2)}function y_(t,e){return vv(t.getUTCSeconds(),e,2)}function b_(t){var e=t.getUTCDay();return 0===e?7:e}function v_(t,e){return vv(Ib.count(Qb(t)-1,t),e,2)}function __(t){var e=t.getUTCDay();return e>=4||0===e?jb(t):jb.ceil(t)}function x_(t,e){return t=__(t),vv(jb.count(Qb(t),t)+(4===Qb(t).getUTCDay()),e,2)}function w_(t){return t.getUTCDay()}function k_(t,e){return vv(Lb.count(Qb(t)-1,t),e,2)}function D_(t,e){return vv(t.getUTCFullYear()%100,e,2)}function C_(t,e){return vv((t=__(t)).getUTCFullYear()%100,e,2)}function E_(t,e){return vv(t.getUTCFullYear()%1e4,e,4)}function S_(t,e){var n=t.getUTCDay();return vv((t=n>=4||0===n?jb(t):jb.ceil(t)).getUTCFullYear()%1e4,e,4)}function T_(){return"+0000"}function A_(){return"%"}function M_(t){return+t}function F_(t){return Math.floor(+t/1e3)}function O_(t){return uv=lv(t),hv=uv.format,dv=uv.parse,fv=uv.utcFormat,pv=uv.utcParse,uv}function N_(t){return new Date(t)}function B_(t){return t instanceof Date?+t:+new Date(+t)}function I_(t,e,n,r,i,o,a,s,c,l){var u=iy(),h=u.invert,d=u.domain,f=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),y=l("%a %d"),b=l("%b %d"),v=l("%B"),_=l("%Y");function x(t){return(c(t)<t?f:s(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?y:b:n(t)<t?v:_)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,B_)):d().map(N_)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?x:l(e)},u.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(ly(n,t)):u},u.copy=function(){return ny(u,I_(t,e,n,r,i,o,a,s,c,l))},u}function L_(){return Wm.apply(I_(iv,ov,kb,_b,ob,nb,Qy,Jy,Hy,hv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function R_(){return Wm.apply(I_(nv,rv,Qb,Jb,Ib,Ob,Ab,Eb,Hy,fv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function P_(){var t,e,n,r,i,o=0,a=1,s=Zm,c=!1;function l(e){return null==e||isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,c?Math.max(0,Math.min(1,e)):e))}function u(t){return function(e){var n,r;return arguments.length?([n,r]=e,s=t(n,r),l):[s(0),s(1)]}}return l.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),l):[o,a]},l.clamp=function(t){return arguments.length?(c=!!t,l):c},l.interpolator=function(t){return arguments.length?(s=t,l):s},l.range=u(Ir),l.rangeRound=u(tm),l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),l}}function j_(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function z_(){var t=ay(P_()(Zm));return t.copy=function(){return j_(t,z_())},Um.apply(t,arguments)}function $_(){var t=my(P_()).domain([1,10]);return t.copy=function(){return j_(t,$_()).base(t.base())},Um.apply(t,arguments)}function Y_(){var t=_y(P_());return t.copy=function(){return j_(t,Y_()).constant(t.constant())},Um.apply(t,arguments)}function W_(){var t=Cy(P_());return t.copy=function(){return j_(t,W_()).exponent(t.exponent())},Um.apply(t,arguments)}function U_(){return W_.apply(null,arguments).exponent(.5)}function q_(){var t=[],e=Zm;function n(n){if(null!=n&&!isNaN(n=+n))return e((u(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(r),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>lt(t,r/e)))},n.copy=function(){return q_(e).domain(t)},Um.apply(n,arguments)}function V_(){var t,e,n,r,i,o,a,s=0,c=.5,l=1,u=1,h=Zm,d=!1;function f(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(u*t<u*e?r:i),h(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,h=fm(t,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(a){return arguments.length?([s,c,l]=a,t=o(s=+s),e=o(c=+c),n=o(l=+l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f):[s,c,l]},f.clamp=function(t){return arguments.length?(d=!!t,f):d},f.interpolator=function(t){return arguments.length?(h=t,f):h},f.range=p(Ir),f.rangeRound=p(tm),f.unknown=function(t){return arguments.length?(a=t,f):a},function(a){return o=a,t=a(s),e=a(c),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f}}function H_(){var t=ay(V_()(Zm));return t.copy=function(){return j_(t,H_())},Um.apply(t,arguments)}function G_(){var t=my(V_()).domain([.1,1,10]);return t.copy=function(){return j_(t,G_()).base(t.base())},Um.apply(t,arguments)}function X_(){var t=_y(V_());return t.copy=function(){return j_(t,X_()).constant(t.constant())},Um.apply(t,arguments)}function J_(){var t=Cy(V_());return t.copy=function(){return j_(t,J_()).exponent(t.exponent())},Um.apply(t,arguments)}function K_(){return J_.apply(null,arguments).exponent(.5)}function Z_(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}O_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Q_=Z_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),tx=Z_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ex=Z_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),nx=Z_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),rx=Z_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ix=Z_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ox=Z_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ax=Z_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),sx=Z_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),cx=Z_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),lx=t=>kr(t[t.length-1]);var ux=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Z_);const hx=lx(ux);var dx=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Z_);const fx=lx(dx);var px=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Z_);const gx=lx(px);var mx=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Z_);const yx=lx(mx);var bx=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Z_);const vx=lx(bx);var _x=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Z_);const xx=lx(_x);var wx=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Z_);const kx=lx(wx);var Dx=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Z_);const Cx=lx(Dx);var Ex=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Z_);const Sx=lx(Ex);var Tx=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Z_);const Ax=lx(Tx);var Mx=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Z_);const Fx=lx(Mx);var Ox=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Z_);const Nx=lx(Ox);var Bx=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Z_);const Ix=lx(Bx);var Lx=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Z_);const Rx=lx(Lx);var Px=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Z_);const jx=lx(Px);var zx=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Z_);const $x=lx(zx);var Yx=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Z_);const Wx=lx(Yx);var Ux=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Z_);const qx=lx(Ux);var Vx=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Z_);const Hx=lx(Vx);var Gx=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Z_);const Xx=lx(Gx);var Jx=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Z_);const Kx=lx(Jx);var Zx=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Z_);const Qx=lx(Zx);var tw=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Z_);const ew=lx(tw);var nw=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Z_);const rw=lx(nw);var iw=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Z_);const ow=lx(iw);var aw=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Z_);const sw=lx(aw);var cw=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Z_);const lw=lx(cw);function uw(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const hw=dm(Ya(300,.5,0),Ya(-240,.5,1));var dw=dm(Ya(-100,.75,.35),Ya(80,1.5,.8)),fw=dm(Ya(260,.75,.35),Ya(80,1.5,.8)),pw=Ya();function gw(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return pw.h=360*t-100,pw.s=1.5-1.5*e,pw.l=.8-.9*e,pw+""}var mw=ir(),yw=Math.PI/3,bw=2*Math.PI/3;function vw(t){var e;return t=(.5-t)*Math.PI,mw.r=255*(e=Math.sin(t))*e,mw.g=255*(e=Math.sin(t+yw))*e,mw.b=255*(e=Math.sin(t+bw))*e,mw+""}function _w(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function xw(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const ww=xw(Z_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var kw=xw(Z_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Dw=xw(Z_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Cw=xw(Z_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ew(t){return An(pn(t).call(document.documentElement))}var Sw=0;function Tw(){return new Aw}function Aw(){this._="@"+(++Sw).toString(36)}function Mw(t,e){return t.target&&(t=Lr(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Rr(t,e)))}function Fw(t){return"string"==typeof t?new En([document.querySelectorAll(t)],[document.documentElement]):new En([ge(t)],Cn)}function Ow(t){return function(){return t}}Aw.prototype=Tw.prototype={constructor:Aw,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Nw=Math.abs,Bw=Math.atan2,Iw=Math.cos,Lw=Math.max,Rw=Math.min,Pw=Math.sin,jw=Math.sqrt,zw=1e-12,$w=Math.PI,Yw=$w/2,Ww=2*$w;function Uw(t){return t>1?0:t<-1?$w:Math.acos(t)}function qw(t){return t>=1?Yw:t<=-1?-Yw:Math.asin(t)}function Vw(t){return t.innerRadius}function Hw(t){return t.outerRadius}function Gw(t){return t.startAngle}function Xw(t){return t.endAngle}function Jw(t){return t&&t.padAngle}function Kw(t,e,n,r,i,o,a,s){var c=n-t,l=r-e,u=a-i,h=s-o,d=h*c-u*l;if(!(d*d<zw))return[t+(d=(u*(e-o)-h*(t-i))/d)*c,e+d*l]}function Zw(t,e,n,r,i,o,a){var s=t-n,c=e-r,l=(a?o:-o)/jw(s*s+c*c),u=l*c,h=-l*s,d=t+u,f=e+h,p=n+u,g=r+h,m=(d+p)/2,y=(f+g)/2,b=p-d,v=g-f,_=b*b+v*v,x=i-o,w=d*g-p*f,k=(v<0?-1:1)*jw(Lw(0,x*x*_-w*w)),D=(w*v-b*k)/_,C=(-w*b-v*k)/_,E=(w*v+b*k)/_,S=(-w*b+v*k)/_,T=D-m,A=C-y,M=E-m,F=S-y;return T*T+A*A>M*M+F*F&&(D=E,C=S),{cx:D,cy:C,x01:-u,y01:-h,x11:D*(i/x-1),y11:C*(i/x-1)}}function Qw(){var t=Vw,e=Hw,n=Ow(0),r=null,i=Gw,o=Xw,a=Jw,s=null;function c(){var c,l,u=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-Yw,f=o.apply(this,arguments)-Yw,p=Nw(f-d),g=f>d;if(s||(s=c=ta()),h<u&&(l=h,h=u,u=l),h>zw)if(p>Ww-zw)s.moveTo(h*Iw(d),h*Pw(d)),s.arc(0,0,h,d,f,!g),u>zw&&(s.moveTo(u*Iw(f),u*Pw(f)),s.arc(0,0,u,f,d,g));else{var m,y,b=d,v=f,_=d,x=f,w=p,k=p,D=a.apply(this,arguments)/2,C=D>zw&&(r?+r.apply(this,arguments):jw(u*u+h*h)),E=Rw(Nw(h-u)/2,+n.apply(this,arguments)),S=E,T=E;if(C>zw){var A=qw(C/u*Pw(D)),M=qw(C/h*Pw(D));(w-=2*A)>zw?(_+=A*=g?1:-1,x-=A):(w=0,_=x=(d+f)/2),(k-=2*M)>zw?(b+=M*=g?1:-1,v-=M):(k=0,b=v=(d+f)/2)}var F=h*Iw(b),O=h*Pw(b),N=u*Iw(x),B=u*Pw(x);if(E>zw){var I,L=h*Iw(v),R=h*Pw(v),P=u*Iw(_),j=u*Pw(_);if(p<$w&&(I=Kw(F,O,P,j,L,R,N,B))){var z=F-I[0],$=O-I[1],Y=L-I[0],W=R-I[1],U=1/Pw(Uw((z*Y+$*W)/(jw(z*z+$*$)*jw(Y*Y+W*W)))/2),q=jw(I[0]*I[0]+I[1]*I[1]);S=Rw(E,(u-q)/(U-1)),T=Rw(E,(h-q)/(U+1))}}k>zw?T>zw?(m=Zw(P,j,F,O,h,T,g),y=Zw(L,R,N,B,h,T,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),T<E?s.arc(m.cx,m.cy,T,Bw(m.y01,m.x01),Bw(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,T,Bw(m.y01,m.x01),Bw(m.y11,m.x11),!g),s.arc(0,0,h,Bw(m.cy+m.y11,m.cx+m.x11),Bw(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,T,Bw(y.y11,y.x11),Bw(y.y01,y.x01),!g))):(s.moveTo(F,O),s.arc(0,0,h,b,v,!g)):s.moveTo(F,O),u>zw&&w>zw?S>zw?(m=Zw(N,B,L,R,u,-S,g),y=Zw(F,O,P,j,u,-S,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),S<E?s.arc(m.cx,m.cy,S,Bw(m.y01,m.x01),Bw(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,S,Bw(m.y01,m.x01),Bw(m.y11,m.x11),!g),s.arc(0,0,u,Bw(m.cy+m.y11,m.cx+m.x11),Bw(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,S,Bw(y.y11,y.x11),Bw(y.y01,y.x01),!g))):s.arc(0,0,u,x,_,g):s.lineTo(N,B)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-$w/2;return[Iw(r)*n,Pw(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Ow(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Ow(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Ow(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Ow(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ow(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ow(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Ow(+t),c):a},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}var tk=Array.prototype.slice;function ek(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function nk(t){this._context=t}function rk(t){return new nk(t)}function ik(t){return t[0]}function ok(t){return t[1]}function ak(t,e){var n=Ow(!0),r=null,i=rk,o=null;function a(a){var s,c,l,u=(a=ek(a)).length,h=!1;for(null==r&&(o=i(l=ta())),s=0;s<=u;++s)!(s<u&&n(c=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,s,a),+e(c,s,a));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?ik:Ow(t),e="function"==typeof e?e:void 0===e?ok:Ow(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:Ow(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Ow(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ow(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function sk(t,e,n){var r=null,i=Ow(!0),o=null,a=rk,s=null;function c(c){var l,u,h,d,f,p=(c=ek(c)).length,g=!1,m=new Array(p),y=new Array(p);for(null==o&&(s=a(f=ta())),l=0;l<=p;++l){if(!(l<p&&i(d=c[l],l,c))===g)if(g=!g)u=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=u;--h)s.point(m[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(m[l]=+t(d,l,c),y[l]=+e(d,l,c),s.point(r?+r(d,l,c):m[l],n?+n(d,l,c):y[l]))}if(f)return s=null,f+""||null}function l(){return ak().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?ik:Ow(+t),e="function"==typeof e?e:Ow(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?ok:Ow(+n),c.x=function(e){return arguments.length?(t="function"==typeof e?e:Ow(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:Ow(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Ow(+t),c):r},c.y=function(t){return arguments.length?(e="function"==typeof t?t:Ow(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"==typeof t?t:Ow(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Ow(+t),c):n},c.lineX0=c.lineY0=function(){return l().x(t).y(e)},c.lineY1=function(){return l().x(t).y(n)},c.lineX1=function(){return l().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:Ow(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c}function ck(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function lk(t){return t}function uk(){var t=lk,e=ck,n=null,r=Ow(0),i=Ow(Ww),o=Ow(0);function a(a){var s,c,l,u,h,d=(a=ek(a)).length,f=0,p=new Array(d),g=new Array(d),m=+r.apply(this,arguments),y=Math.min(Ww,Math.max(-Ww,i.apply(this,arguments)-m)),b=Math.min(Math.abs(y)/d,o.apply(this,arguments)),v=b*(y<0?-1:1);for(s=0;s<d;++s)(h=g[p[s]=s]=+t(a[s],s,a))>0&&(f+=h);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,l=f?(y-d*v)/f:0;s<d;++s,m=u)c=p[s],u=m+((h=g[c])>0?h*l:0)+v,g[c]={data:a[c],index:s,value:h,startAngle:m,endAngle:u,padAngle:b};return g}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:Ow(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ow(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ow(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ow(+t),a):o},a}nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var hk=fk(rk);function dk(t){this._curve=t}function fk(t){function e(e){return new dk(t(e))}return e._curve=t,e}function pk(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(fk(t)):e()._curve},t}function gk(){return pk(ak().curve(hk))}function mk(){var t=sk().curve(hk),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return pk(n())},delete t.lineX0,t.lineEndAngle=function(){return pk(r())},delete t.lineX1,t.lineInnerRadius=function(){return pk(i())},delete t.lineY0,t.lineOuterRadius=function(){return pk(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(fk(t)):e()._curve},t}function yk(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function bk(t){return t.source}function vk(t){return t.target}function _k(t){var e=bk,n=vk,r=ik,i=ok,o=null;function a(){var a,s=tk.call(arguments),c=e.apply(this,s),l=n.apply(this,s);if(o||(o=a=ta()),t(o,+r.apply(this,(s[0]=c,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Ow(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Ow(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function xk(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function wk(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function kk(t,e,n,r,i){var o=yk(e,n),a=yk(e,n=(n+i)/2),s=yk(r,n),c=yk(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],c[0],c[1])}function Dk(){return _k(xk)}function Ck(){return _k(wk)}function Ek(){var t=_k(kk);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}dk.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};const Sk={draw:function(t,e){var n=Math.sqrt(e/$w);t.moveTo(n,0),t.arc(0,0,n,0,Ww)}},Tk={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var Ak=Math.sqrt(1/3),Mk=2*Ak;const Fk={draw:function(t,e){var n=Math.sqrt(e/Mk),r=n*Ak;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var Ok=Math.sin($w/10)/Math.sin(7*$w/10),Nk=Math.sin(Ww/10)*Ok,Bk=-Math.cos(Ww/10)*Ok;const Ik={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Nk*n,i=Bk*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Ww*o/5,s=Math.cos(a),c=Math.sin(a);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},Lk={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var Rk=Math.sqrt(3);const Pk={draw:function(t,e){var n=-Math.sqrt(e/(3*Rk));t.moveTo(0,2*n),t.lineTo(-Rk*n,-n),t.lineTo(Rk*n,-n),t.closePath()}};var jk=-.5,zk=Math.sqrt(3)/2,$k=1/Math.sqrt(12),Yk=3*($k/2+1);const Wk={draw:function(t,e){var n=Math.sqrt(e/Yk),r=n/2,i=n*$k,o=r,a=n*$k+n,s=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,c),t.lineTo(jk*r-zk*i,zk*r+jk*i),t.lineTo(jk*o-zk*a,zk*o+jk*a),t.lineTo(jk*s-zk*c,zk*s+jk*c),t.lineTo(jk*r+zk*i,jk*i-zk*r),t.lineTo(jk*o+zk*a,jk*a-zk*o),t.lineTo(jk*s+zk*c,jk*c-zk*s),t.closePath()}};var Uk=[Sk,Tk,Fk,Lk,Ik,Pk,Wk];function qk(t,e){var n=null;function r(){var r;if(n||(n=r=ta()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"==typeof t?t:Ow(t||Sk),e="function"==typeof e?e:Ow(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"==typeof e?e:Ow(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Ow(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}function Vk(){}function Hk(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Gk(t){this._context=t}function Xk(t){return new Gk(t)}function Jk(t){this._context=t}function Kk(t){return new Jk(t)}function Zk(t){this._context=t}function Qk(t){return new Zk(t)}Gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Jk.prototype={areaStart:Vk,areaEnd:Vk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};class tD{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function eD(t){return new tD(t,!0)}function nD(t){return new tD(t,!1)}function rD(t,e){this._basis=new Gk(t),this._beta=e}rD.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*e[c]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const iD=function t(e){function n(t){return 1===e?new Gk(t):new rD(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function oD(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function aD(t,e){this._context=t,this._k=(1-e)/6}aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:oD(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:oD(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const sD=function t(e){function n(t){return new aD(t,e)}return n.tension=function(e){return t(+e)},n}(0);function cD(t,e){this._context=t,this._k=(1-e)/6}cD.prototype={areaStart:Vk,areaEnd:Vk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:oD(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const lD=function t(e){function n(t){return new cD(t,e)}return n.tension=function(e){return t(+e)},n}(0);function uD(t,e){this._context=t,this._k=(1-e)/6}uD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:oD(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const hD=function t(e){function n(t){return new uD(t,e)}return n.tension=function(e){return t(+e)},n}(0);function dD(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>zw){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>zw){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function fD(t,e){this._context=t,this._alpha=e}fD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:dD(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const pD=function t(e){function n(t){return e?new fD(t,e):new aD(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function gD(t,e){this._context=t,this._alpha=e}gD.prototype={areaStart:Vk,areaEnd:Vk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dD(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const mD=function t(e){function n(t){return e?new gD(t,e):new cD(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function yD(t,e){this._context=t,this._alpha=e}yD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dD(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const bD=function t(e){function n(t){return e?new yD(t,e):new uD(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function vD(t){this._context=t}function _D(t){return new vD(t)}function xD(t){return t<0?-1:1}function wD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(xD(o)+xD(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function kD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function DD(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function CD(t){this._context=t}function ED(t){this._context=new SD(t)}function SD(t){this._context=t}function TD(t){return new CD(t)}function AD(t){return new ED(t)}function MD(t){this._context=t}function FD(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function OD(t){return new MD(t)}function ND(t,e){this._context=t,this._t=e}function BD(t){return new ND(t,.5)}function ID(t){return new ND(t,0)}function LD(t){return new ND(t,1)}function RD(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function PD(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jD(t,e){return t[e]}function zD(t){const e=[];return e.key=t,e}function $D(){var t=Ow([]),e=PD,n=RD,r=jD;function i(i){var o,a,s=Array.from(t.apply(this,arguments),zD),c=s.length,l=-1;for(const t of i)for(o=0,++l;o<c;++o)(s[o][l]=[0,+r(t,s[o].key,l,i)]).data=t;for(o=0,a=ek(e(s));o<c;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:Ow(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Ow(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?PD:"function"==typeof t?t:Ow(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?RD:t,i):n},i}function YD(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}RD(t,e)}}function WD(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,c=0,l=t[e[0]].length;c<l;++c)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function UD(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}RD(t,e)}}function qD(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<i;++s){for(var u=t[e[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=t[e[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}c+=h,l+=d*h}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,RD(t,e)}}function VD(t){var e=t.map(HD);return PD(t).sort((function(t,n){return e[t]-e[n]}))}function HD(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function GD(t){var e=t.map(XD);return PD(t).sort((function(t,n){return e[t]-e[n]}))}function XD(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function JD(t){return GD(t).reverse()}function KD(t){var e,n,r=t.length,i=t.map(XD),o=VD(t),a=0,s=0,c=[],l=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],c.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(c)}function ZD(t){return PD(t).reverse()}vD.prototype={areaStart:Vk,areaEnd:Vk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},CD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:DD(this,this._t0,kD(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,DD(this,kD(this,n=wD(this,t,e)),n);break;default:DD(this,this._t0,n=wD(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(ED.prototype=Object.create(CD.prototype)).point=function(t,e){CD.prototype.point.call(this,e,t)},SD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},MD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=FD(t),i=FD(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},ND.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var QD="%Y-%m-%dT%H:%M:%S.%LZ",tC=Date.prototype.toISOString?function(t){return t.toISOString()}:fv(QD);const eC=tC;var nC=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:pv(QD);const rC=nC;function iC(t,e,n){var r=new Jr,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?Gr():+n,r._restart((function o(a){a+=i,r._restart(o,i+=e,n),t(a)}),e,n)},r.restart(t,e,n),r)}const oC=t=>()=>t;function aC(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function sC(t,e,n){this.k=t,this.x=e,this.y=n}sC.prototype={constructor:sC,scale:function(t){return 1===t?this:new sC(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new sC(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cC=new sC(1,0,0);function lC(t){for(;!t.__zoom;)if(!(t=t.parentNode))return cC;return t.__zoom}function uC(t){t.stopImmediatePropagation()}function hC(t){t.preventDefault(),t.stopImmediatePropagation()}function dC(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function fC(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function pC(){return this.__zoom||cC}function gC(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function mC(){return navigator.maxTouchPoints||"ontouchstart"in this}function yC(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function bC(){var t,e,n,r=dC,i=fC,o=yC,a=gC,s=mC,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,h=nm,d=de("start","zoom","end"),f=500,p=0,g=10;function m(t){t.property("__zoom",pC).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",C).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(c[0],Math.min(c[1],e)))===t.k?t:new sC(e,t.x,t.y)}function b(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new sC(t.k,r,i)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n,r){t.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=x(t,o).event(r),s=i.apply(t,o),c=null==n?v(s):"function"==typeof n?n.apply(t,o):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=t.__zoom,d="function"==typeof e?e.apply(t,o):e,f=h(u.invert(c).concat(l/u.k),d.invert(c).concat(l/d.k));return function(t){if(1===t)t=d;else{var e=f(t),n=l/e[2];t=new sC(n,c[0]-e[0]*n,c[1]-e[1]*n)}a.zoom(null,t)}}))}function x(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function k(t,...e){if(r.apply(this,arguments)){var n=x(this,e).event(t),i=this.__zoom,s=Math.max(c[0],Math.min(c[1],i.k*Math.pow(2,a.apply(this,arguments)))),u=Rr(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[u,i.invert(u)],li(this),n.start()}hC(t),n.wheel=setTimeout(h,150),n.zoom("mouse",o(b(y(i,s),n.mouse[0],n.mouse[1]),n.extent,l))}function h(){n.wheel=null,n.end()}}function D(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,a=x(this,e,!0).event(t),s=An(t.view).on("mousemove.zoom",d,!0).on("mouseup.zoom",f,!0),c=Rr(t,i),u=t.clientX,h=t.clientY;Bn(t.view),uC(t),a.mouse=[c,this.__zoom.invert(c)],li(this),a.start()}function d(t){if(hC(t),!a.moved){var e=t.clientX-u,n=t.clientY-h;a.moved=e*e+n*n>p}a.event(t).zoom("mouse",o(b(a.that.__zoom,a.mouse[0]=Rr(t,i),a.mouse[1]),a.extent,l))}function f(t){s.on("mousemove.zoom mouseup.zoom",null),In(t.view,a.moved),hC(t),a.event(t).end()}}function C(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=Rr(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),c=n.k*(t.shiftKey?.5:2),h=o(b(y(n,c),a,s),i.apply(this,e),l);hC(t),u>0?An(this).transition().duration(u).call(_,h,a,t):An(this).call(m.transform,h,a,t)}}function E(n,...i){if(r.apply(this,arguments)){var o,a,s,c,l=n.touches,u=l.length,h=x(this,i,n.changedTouches.length===u).event(n);for(uC(n),a=0;a<u;++a)c=[c=Rr(s=l[a],this),this.__zoom.invert(c),s.identifier],h.touch0?h.touch1||h.touch0[2]===c[2]||(h.touch1=c,h.taps=0):(h.touch0=c,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=c[0],t=setTimeout((function(){t=null}),f)),li(this),h.start())}}function S(t,...e){if(this.__zooming){var n,r,i,a,s=x(this,e).event(t),c=t.changedTouches,u=c.length;for(hC(t),n=0;n<u;++n)i=Rr(r=c[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],d=s.touch0[1],f=s.touch1[0],p=s.touch1[1],g=(g=f[0]-h[0])*g+(g=f[1]-h[1])*g,m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m;r=y(r,Math.sqrt(g/m)),i=[(h[0]+f[0])/2,(h[1]+f[1])/2],a=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(b(r,i,a),s.extent,l))}}function T(t,...r){if(this.__zooming){var i,o,a=x(this,r).event(t),s=t.changedTouches,c=s.length;for(uC(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),i=0;i<c;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Rr(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<g)){var l=An(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return m.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",pC),t!==i?_(t,e,n,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n,r){m.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},m.scaleTo=function(t,e,n,r){m.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?v(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return o(b(y(r,c),a,s),t,l)}),n,r)},m.translateBy=function(t,e,n,r){m.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},m.translateTo=function(t,e,n,r,a){m.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?v(t):"function"==typeof r?r.apply(this,arguments):r;return o(cC.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}),r,a)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=An(this.that).datum();d.call(t,this.that,new aC(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:d}),e)}},m.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:oC(+t),m):a},m.filter=function(t){return arguments.length?(r="function"==typeof t?t:oC(!!t),m):r},m.touchable=function(t){return arguments.length?(s="function"==typeof t?t:oC(!!t),m):s},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:oC([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],m):[c[0],c[1]]},m.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(t){return arguments.length?(o=t,m):o},m.duration=function(t){return arguments.length?(u=+t,m):u},m.interpolate=function(t){return arguments.length?(h=t,m):h},m.on=function(){var t=d.on.apply(d,arguments);return t===d?m:t},m.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,m):Math.sqrt(p)},m.tapDistance=function(t){return arguments.length?(g=+t,m):g},m}lC.prototype=sC.prototype}},OC={};function NC(t){var e=OC[t];if(void 0!==e)return e.exports;var n=OC[t]={id:t,loaded:!1,exports:{}};return FC[t].call(n.exports,n,n.exports,NC),n.loaded=!0,n.exports}NC.c=OC,NC.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return NC.d(e,{a:e}),e},NC.d=(t,e)=>{for(var n in e)NC.o(e,n)&&!NC.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},NC.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"==typeof window)return window}}(),NC.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),NC.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},NC.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var BC=NC(NC.s=6359).Z;let IC=t=>crypto.getRandomValues(new Uint8Array(t)),LC=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let a="";while(1){let e=n(i),s=i;while(s--)if(a+=t[e[s]&r]||"",a.length===o)return a}}},RC=(t,e=21)=>LC(t,e,IC);const PC=t=>{const e=Bg(t),n=e("line"),r=e("solid"),i=e("neutral"),o=e("background");return Object.entries({background:o,primaryColor:o,secondaryColor:n,primaryTextColor:i,noteBkgColor:o,noteTextColor:r,fontSize:"16px"}).filter((([t,e])=>(null==e?void 0:e.length)>0)).map((([t,e])=>`'${t}':'${e}'`)).join(", ")},jC=RC("abcedfghicklmn",10),zC=t=>{var e;return(null==(e=null==t?void 0:t.attrs)?void 0:e.identity)||jC()},$C=/^```mermaid$/,YC=Uy("TurnIntoDiagram"),WC=Lv(((t,e)=>{var n,r,i;const o=null!=(n=null==e?void 0:e.theme)?n:void 0,a=null!=(r=null==e?void 0:e.themeCSS)?r:void 0,s="diagram";BC.startOnLoad=!1,BC.initialize({startOnLoad:!1,theme:o,themeCSS:a});const c={empty:"Empty",error:"Syntax Error",...null!=(i=null==e?void 0:e.placeholder)?i:{}};return{id:s,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""},identity:{default:""}},parseDOM:[{tag:`div[data-type="${s}"]`,preserveWhitespace:"full",getAttrs:t=>{if(!(t instanceof HTMLElement))throw _(t);return{value:t.dataset.value,identity:t.id}}}],toDOM:e=>{const n=zC(e);return["div",{id:n,class:t.getClassName(e.attrs,"mermaid"),"data-type":s,"data-value":e.attrs.value||e.textContent||""},0]},parseMarkdown:{match:({type:t})=>t===s,runner:(t,e,n)=>{const r=e.value;t.openNode(n,{value:r}),r&&t.addText(r),t.closeNode()}},toMarkdown:{match:t=>t.type.name===s,runner:(t,e)=>{var n;t.addNode("code",void 0,(null==(n=e.content.firstChild)?void 0:n.text)||"",{lang:"mermaid"})}}}),commands:t=>[Wy(YC,(()=>zs(t,{id:zC()})))],view:e=>(n,r,i)=>{const o=zC(n);let a="",l=n;e.get(yg).onFlush((()=>{a=`%%{init: {'theme': 'base', 'themeVariables': { ${PC(t.themeManager)} }}}%%\n`}));const u=t.themeManager.get("inner-editor",{view:r,getPos:i,render:t=>{try{u.preview.innerHTML=t?BC.render(o,a+t):c.empty}catch{const t=document.getElementById("d"+o);t&&t.remove(),u.preview.innerHTML=c.error}finally{u.dom.appendChild(u.preview)}}});if(!u)return{};const{onUpdate:h,editor:d,dom:f,onFocus:p,onBlur:g,onDestroy:m,stopEvent:y}=u;return d.dataset.type=s,f.classList.add("mermaid","diagram"),h(l,!0),e.get(yg).onFlush((()=>{h(l,!1)}),!1),{dom:f,update:t=>!!t.sameMarkup(l)&&(l=t,h(l,!1),!0),selectNode:()=>{p(l)},deselectNode:()=>{g(l)},stopEvent:y,ignoreMutation:()=>!0,destroy(){m()}}},inputRules:t=>[new Pv($C,((e,n,r,i)=>{const o=e.doc.resolve(r);if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t))return null;const a=e.tr.delete(r,i).setBlockType(r,r,t,{id:zC()});return a.setSelection(Sn.create(a.doc,r-1))}))],remarkPlugins:()=>[VC]}})),UC=t=>({type:"diagram",value:t}),qC=t=>Gh(t,"code",((t,e,n)=>{const{lang:r,value:i}=t;if("mermaid"!==r)return t;const o=UC(i);return n&&null!=e&&n.children.splice(e,1,o),t})),VC=()=>{function t(t){qC(t)}return t},HC=av.create([WC()]);class GC{constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=t=>(this.beforeMountedListeners.push(t),this),this.mounted=t=>(this.mountedListeners.push(t),this),this.updated=t=>(this.updatedListeners.push(t),this)}get listeners(){return{beforeMounted:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(t){return this.markdownUpdatedListeners.push(t),this}blur(t){return this.blurListeners.push(t),this}focus(t){return this.focusListeners.push(t),this}destroy(t){return this.destroyListeners.push(t),this}}const XC=B(new GC,"listener"),JC=new Vn("MILKDOWN_LISTENER"),KC=t=>(t.inject(XC,new GC),async t=>{await t.wait(Xm);const e=t.get(XC),{listeners:n}=e;n.beforeMounted.forEach((e=>e(t))),await t.wait(_y);const r=t.get(by);let i=null,o=null;const a=new Wn({key:JC,view:()=>({destroy:()=>{n.destroy.forEach((e=>e(t)))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach((e=>e(t))),!1),blur:()=>(n.blur.forEach((e=>e(t))),!1)}},state:{init:()=>{},apply:e=>{if(!e.docChanged)return;const{doc:a}=e;if(n.updated.length>0&&(null==i||!i.eq(a))&&n.updated.forEach((e=>{e(t,a,i)})),n.markdownUpdated.length>0&&(null==i||!i.eq(a))){const i=r(e.doc);(null==o||o!==i)&&(n.markdownUpdated.forEach((e=>{e(t,i,o)})),o=i)}i=a}}});t.update(Qm,(t=>t.concat(a))),await t.wait(Iy),n.mounted.forEach((e=>e(t)))});var ZC=n(114),QC=n(2213),tE={name:"MilkEditor",data(){return{roomId:null,default:"### Welcome to the Noosphere \n1. Choose a room\n 2. click to edit",rootDoc:null}},async mounted(){this.editor=await rb.make().config((t=>{t.set(Oy,this.$refs.editor),t.set(wy,this.default),t.get(XC).updated((t=>{console.log("updated",t)})).destroy((t=>{console.log("destroy",t)}))})).use(ev).use(Bx).use(Tk).use(vD).use(LD).use(QD).use(zD).use(fk).use(rC).use(MC).use(HC).use(KC).create(),this.rootDoc=new qx.QW;let t=this.awareness=new ZC.GL(this.rootDoc);t.on("change",(e=>{console.log("changes",e),t.getStates().forEach((t=>{t.user&&(console.log("[state.user]",t.user),this.$store.commit("actor/setUserById",t.user))})),this.$store.commit("actor/setUsersUpdated",Date.now())})),this.$store.commit("y/setAwareness",t)},methods:{connect(){let t=this.awareness;console.log("awareness clientID",t.clientID),this.ymap=this.rootDoc.getMap(),console.log("ymap",this.ymap),this.roomDoc=this.ymap.get(this.roomId),console.log(this.roomDoc),void 0==this.roomDoc&&(this.roomDoc=new qx.QW,this.ymap.set(this.roomId,this.roomDoc)),new QC.VU("wss://yjs-leveldb.glitch.me/",this.roomId,this.roomDoc,{awareness:t}),console.log(this.rootDoc,this.roomDoc),this.editor.action((t=>{const e=t.get(hk);e.disconnect().bindDoc(this.roomDoc).setAwareness(this.awareness).connect()})),this.user.roomId=this.roomId,this.user.rooms[this.roomId]={},this.awareness.setLocalStateField("user",this.user)}},watch:{roomAddress(){this.roomId=this.roomAddress,console.log(this.roomId),this.connect()}},computed:{roomAddress(){return this.$store.state.actor.roomAddress},user(){return this.$store.state.actor.user}}},eE=tE,nE=n(1001),rE=(0,nE.Z)(eE,i,o,!1,null,null,null),iE=rE.exports},3121:function(t){t.exports=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g},4234:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(t){return"function"===typeof Array.isArray?Array.isArray(t):"[object Array]"===n.call(t)},a=function(t){if(!t||"[object Object]"!==n.call(t))return!1;var r,i=e.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&e.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!o)return!1;for(r in t);return"undefined"===typeof r||e.call(t,r)},s=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(i)return i(t,n).value}return t[n]};t.exports=function t(){var e,n,r,i,l,u,h=arguments[0],d=1,f=arguments.length,p=!1;for("boolean"===typeof h&&(p=h,h=arguments[1]||{},d=2),(null==h||"object"!==typeof h&&"function"!==typeof h)&&(h={});d<f;++d)if(e=arguments[d],null!=e)for(n in e)r=c(h,n),i=c(e,n),h!==i&&(p&&i&&(a(i)||(l=o(i)))?(l?(l=!1,u=r&&o(r)?r:[]):u=r&&a(r)?r:{},s(h,{name:n,newValue:t(p,u,i)})):"undefined"!==typeof i&&s(h,{name:n,newValue:i}));return h}},8566:function(t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},2573:function(t,e,n){var r=n(6213),i=n(9159),o=r(i,"DataView");t.exports=o},9014:function(t,e,n){var r=n(6213),i=n(9159),o=r(i,"Map");t.exports=o},809:function(t,e,n){var r=n(6213),i=n(9159),o=r(i,"Promise");t.exports=o},1611:function(t,e,n){var r=n(6213),i=n(9159),o=r(i,"Set");t.exports=o},9016:function(t,e,n){var r=n(9159),i=r.Symbol;t.exports=i},3147:function(t,e,n){var r=n(6213),i=n(9159),o=r(i,"WeakMap");t.exports=o},7498:function(t,e,n){var r=n(2802),i=n(8804),o=n(6602),a=n(1976),s=n(8286),c=n(6965),l=Object.prototype,u=l.hasOwnProperty;function h(t,e){var n=o(t),l=!n&&i(t),h=!n&&!l&&a(t),d=!n&&!l&&!h&&c(t),f=n||l||h||d,p=f?r(t.length,String):[],g=p.length;for(var m in t)!e&&!u.call(t,m)||f&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}t.exports=h},8664:function(t){function e(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}t.exports=e},239:function(t){function e(t){return t.split("")}t.exports=e},6423:function(t,e,n){var r=n(9016),i=n(2366),o=n(2886),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;function l(t){return null==t?void 0===t?s:a:c&&c in Object(t)?i(t):o(t)}t.exports=l},9986:function(t,e,n){var r=n(6423),i=n(4430),o="[object Arguments]";function a(t){return i(t)&&r(t)==o}t.exports=a},6853:function(t,e,n){var r=n(9314),i=n(2604),o=n(150),a=n(627),s=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,h=l.toString,d=u.hasOwnProperty,f=RegExp("^"+h.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(t){if(!o(t)||i(t))return!1;var e=r(t)?f:c;return e.test(a(t))}t.exports=p},6930:function(t,e,n){var r=n(6423),i=n(4629),o=n(4430),a="[object Arguments]",s="[object Array]",c="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",m="[object Set]",y="[object String]",b="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",k="[object Int8Array]",D="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]",M={};function F(t){return o(t)&&i(t.length)&&!!M[r(t)]}M[x]=M[w]=M[k]=M[D]=M[C]=M[E]=M[S]=M[T]=M[A]=!0,M[a]=M[s]=M[v]=M[c]=M[_]=M[l]=M[u]=M[h]=M[d]=M[f]=M[p]=M[g]=M[m]=M[y]=M[b]=!1,t.exports=F},841:function(t,e,n){var r=n(9192),i=n(7348),o=Object.prototype,a=o.hasOwnProperty;function s(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}t.exports=s},2802:function(t){function e(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}t.exports=e},7362:function(t){function e(t){return function(e){return t(e)}}t.exports=e},8176:function(t,e,n){var r=n(8664);function i(t,e){return r(e,(function(e){return t[e]}))}t.exports=i},1548:function(t){function e(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}t.exports=e},9749:function(t,e,n){var r=n(9159),i=r["__core-js_shared__"];t.exports=i},791:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},6213:function(t,e,n){var r=n(6853),i=n(8474);function o(t,e){var n=i(t,e);return r(n)?n:void 0}t.exports=o},2366:function(t,e,n){var r=n(9016),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;function c(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(c){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}t.exports=c},453:function(t,e,n){var r=n(2573),i=n(9014),o=n(809),a=n(1611),s=n(3147),c=n(6423),l=n(627),u="[object Map]",h="[object Object]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",m=l(r),y=l(i),b=l(o),v=l(a),_=l(s),x=c;(r&&x(new r(new ArrayBuffer(1)))!=g||i&&x(new i)!=u||o&&x(o.resolve())!=d||a&&x(new a)!=f||s&&x(new s)!=p)&&(x=function(t){var e=c(t),n=e==h?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return g;case y:return u;case b:return d;case v:return f;case _:return p}return e}),t.exports=x},8474:function(t){function e(t,e){return null==t?void 0:t[e]}t.exports=e},7622:function(t){var e="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",o=n+r+i,a="\\ufe0e\\ufe0f",s="\\u200d",c=RegExp("["+s+e+o+a+"]");function l(t){return c.test(t)}t.exports=l},8286:function(t){var e=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function r(t,r){var i=typeof t;return r=null==r?e:r,!!r&&("number"==i||"symbol"!=i&&n.test(t))&&t>-1&&t%1==0&&t<r}t.exports=r},2604:function(t,e,n){var r=n(9749),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o(t){return!!i&&i in t}t.exports=o},9192:function(t){var e=Object.prototype;function n(t){var n=t&&t.constructor,r="function"==typeof n&&n.prototype||e;return t===r}t.exports=n},136:function(t){function e(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}t.exports=e},7317:function(t){function e(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}t.exports=e},7348:function(t,e,n){var r=n(1867),i=r(Object.keys,Object);t.exports=i},1330:function(t,e,n){t=n.nmd(t);var r=n(791),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,c=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=c},2886:function(t){var e=Object.prototype,n=e.toString;function r(t){return n.call(t)}t.exports=r},1867:function(t){function e(t,e){return function(n){return t(e(n))}}t.exports=e},9159:function(t,e,n){var r=n(791),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},6804:function(t){function e(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}t.exports=e},2830:function(t,e,n){var r=n(239),i=n(7622),o=n(5753);function a(t){return i(t)?o(t):r(t)}t.exports=a},627:function(t){var e=Function.prototype,n=e.toString;function r(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}t.exports=r},5753:function(t){var e="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",o=n+r+i,a="\\ufe0e\\ufe0f",s="["+e+"]",c="["+o+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+c+"|"+l+")",h="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",g=u+"?",m="["+a+"]?",y="(?:"+p+"(?:"+[h,d,f].join("|")+")"+m+g+")*",b=m+g+y,v="(?:"+[h+c+"?",c,d,f,s].join("|")+")",_=RegExp(l+"(?="+l+")|"+v+b,"g");function x(t){return t.match(_)||[]}t.exports=x},8804:function(t,e,n){var r=n(9986),i=n(4430),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},6602:function(t){var e=Array.isArray;t.exports=e},5372:function(t,e,n){var r=n(9314),i=n(4629);function o(t){return null!=t&&i(t.length)&&!r(t)}t.exports=o},1976:function(t,e,n){t=n.nmd(t);var r=n(9159),i=n(2225),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o,c=s?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||i;t.exports=u},9314:function(t,e,n){var r=n(6423),i=n(150),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";function l(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==c}t.exports=l},4629:function(t){var e=9007199254740991;function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}t.exports=n},150:function(t){function e(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=e},4430:function(t){function e(t){return null!=t&&"object"==typeof t}t.exports=e},2649:function(t,e,n){var r=n(6423),i=n(6602),o=n(4430),a="[object String]";function s(t){return"string"==typeof t||!i(t)&&o(t)&&r(t)==a}t.exports=s},6965:function(t,e,n){var r=n(6930),i=n(7362),o=n(1330),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},4337:function(t,e,n){var r=n(7498),i=n(841),o=n(5372);function a(t){return o(t)?r(t):i(t)}t.exports=a},2225:function(t){function e(){return!1}t.exports=e},4163:function(t,e,n){var r=n(9016),i=n(1548),o=n(453),a=n(5372),s=n(2649),c=n(136),l=n(7317),u=n(6804),h=n(2830),d=n(6705),f="[object Map]",p="[object Set]",g=r?r.iterator:void 0;function m(t){if(!t)return[];if(a(t))return s(t)?h(t):i(t);if(g&&t[g])return c(t[g]());var e=o(t),n=e==f?l:e==p?u:d;return n(t)}t.exports=m},6705:function(t,e,n){var r=n(8176),i=n(4337);function o(t){return null==t?[]:r(t,i(t))}t.exports=o},5669:function(t,e,n){t.exports=n(1713)},1713:function(t,e,n){var r=n(4163),i=n(4964),o=/:([a-zA-Z0-9_\-\+]+):/g,a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function s(t){var e=t.indexOf(":");return e>-1?e===t.length-1?(t=t.substring(0,e),s(t)):(t=t.substr(e+1),s(t)):t}function c(t){return"string"===typeof t&&t.length>0?":"+t+":":t}function l(t){return"string"===typeof t&&":"!==t[0]?c(t):t}var u=String.fromCharCode(65039),h=new RegExp(u,"g");function d(t){return t.replace(h,"")}var f=Object.keys(i).reduce((function(t,e){return t[d(i[e])]=e,t}),{}),p={emoji:i,_get:function(t){return f[d(t)]?t:i.hasOwnProperty(t)?i[t]:l(t)},get:function(t){return t=s(t),p._get(t)},find:function(t){return p.findByName(t)||p.findByCode(t)},findByName:function(t){var e=s(t),n=i[e];return n?{emoji:n,key:e}:void 0},findByCode:function(t){var e=d(t),n=f[e];return n?{emoji:i[n],key:n}:void 0},hasEmoji:function(t){return p.hasEmojiByName(t)||p.hasEmojiByCode(t)},hasEmojiByName:function(t){var e=p.findByName(t);return!!e&&e.key===s(t)},hasEmojiByCode:function(t){var e=p.findByCode(t);return!!e&&d(e.emoji)===d(t)},which:function(t,e){var n=d(t),r=f[n];return e?c(r):r},emojify:function(t,e,n){return t?t.split(o).map((function(t,r){if(r%2===0)return t;var i=p._get(t),o=i.indexOf(":")>-1;return o&&"function"===typeof e?e(t):o||"function"!==typeof n?i:n(i,t)})).join(""):""},random:function(){var t=Object.keys(i),e=Math.floor(Math.random()*t.length),n=t[e],r=p._get(n);return{key:n,emoji:r}},search:function(t){var e=Object.keys(i),n=s(t),r=e.filter((function(t){return 0===t.toString().indexOf(n)}));return r.map((function(t){return{key:t,emoji:p._get(t)}}))},unemojify:function(t){if(!t)return"";var e=r(t);return e.map((function(t){return p.which(t,!0)||t})).join("")},replace:function(t,e,n){if(!t)return"";var i="function"===typeof e?e:function(){return e},o=r(t),s=o.map((function(t,e){var r=p.findByCode(t);return r&&n&&" "===o[e+1]&&(o[e+1]=""),r?i(r):t})).join("");return n?s.replace(a,""):s},strip:function(t){return p.replace(t,"",!0)}};t.exports=p},4964:function(t){"use strict";t.exports=JSON.parse('{"100":"","1234":"","umbrella_with_rain_drops":"","coffee":"","aries":"","taurus":"","sagittarius":"","capricorn":"","aquarius":"","pisces":"","anchor":"","white_check_mark":"","sparkles":"","question":"","grey_question":"","grey_exclamation":"","exclamation":"","heavy_exclamation_mark":"","heavy_plus_sign":"","heavy_minus_sign":"","heavy_division_sign":"","hash":"#","keycap_star":"*","zero":"0","one":"1","two":"2","three":"3","four":"4","five":"5","six":"6","seven":"7","eight":"8","nine":"9","copyright":"","registered":"","mahjong":"","black_joker":"","a":"","b":"","o2":"","parking":"","ab":"","cl":"","cool":"","free":"","id":"","new":"","ng":"","ok":"","sos":"","up":"","vs":"","flag-ac":"","flag-ad":"","flag-ae":"","flag-af":"","flag-ag":"","flag-ai":"","flag-al":"","flag-am":"","flag-ao":"","flag-aq":"","flag-ar":"","flag-as":"","flag-at":"","flag-au":"","flag-aw":"","flag-ax":"","flag-az":"","flag-ba":"","flag-bb":"","flag-bd":"","flag-be":"","flag-bf":"","flag-bg":"","flag-bh":"","flag-bi":"","flag-bj":"","flag-bl":"","flag-bm":"","flag-bn":"","flag-bo":"","flag-bq":"","flag-br":"","flag-bs":"","flag-bt":"","flag-bv":"","flag-bw":"","flag-by":"","flag-bz":"","flag-ca":"","flag-cc":"","flag-cd":"","flag-cf":"","flag-cg":"","flag-ch":"","flag-ci":"","flag-ck":"","flag-cl":"","flag-cm":"","cn":"","flag-cn":"","flag-co":"","flag-cp":"","flag-cr":"","flag-cu":"","flag-cv":"","flag-cw":"","flag-cx":"","flag-cy":"","flag-cz":"","de":"","flag-de":"","flag-dg":"","flag-dj":"","flag-dk":"","flag-dm":"","flag-do":"","flag-dz":"","flag-ea":"","flag-ec":"","flag-ee":"","flag-eg":"","flag-eh":"","flag-er":"","es":"","flag-es":"","flag-et":"","flag-eu":"","flag-fi":"","flag-fj":"","flag-fk":"","flag-fm":"","flag-fo":"","fr":"","flag-fr":"","flag-ga":"","gb":"","uk":"","flag-gb":"","flag-gd":"","flag-ge":"","flag-gf":"","flag-gg":"","flag-gh":"","flag-gi":"","flag-gl":"","flag-gm":"","flag-gn":"","flag-gp":"","flag-gq":"","flag-gr":"","flag-gs":"","flag-gt":"","flag-gu":"","flag-gw":"","flag-gy":"","flag-hk":"","flag-hm":"","flag-hn":"","flag-hr":"","flag-ht":"","flag-hu":"","flag-ic":"","flag-id":"","flag-ie":"","flag-il":"","flag-im":"","flag-in":"","flag-io":"","flag-iq":"","flag-ir":"","flag-is":"","it":"","flag-it":"","flag-je":"","flag-jm":"","flag-jo":"","jp":"","flag-jp":"","flag-ke":"","flag-kg":"","flag-kh":"","flag-ki":"","flag-km":"","flag-kn":"","flag-kp":"","kr":"","flag-kr":"","flag-kw":"","flag-ky":"","flag-kz":"","flag-la":"","flag-lb":"","flag-lc":"","flag-li":"","flag-lk":"","flag-lr":"","flag-ls":"","flag-lt":"","flag-lu":"","flag-lv":"","flag-ly":"","flag-ma":"","flag-mc":"","flag-md":"","flag-me":"","flag-mf":"","flag-mg":"","flag-mh":"","flag-mk":"","flag-ml":"","flag-mm":"","flag-mn":"","flag-mo":"","flag-mp":"","flag-mq":"","flag-mr":"","flag-ms":"","flag-mt":"","flag-mu":"","flag-mv":"","flag-mw":"","flag-mx":"","flag-my":"","flag-mz":"","flag-na":"","flag-nc":"","flag-ne":"","flag-nf":"","flag-ng":"","flag-ni":"","flag-nl":"","flag-no":"","flag-np":"","flag-nr":"","flag-nu":"","flag-nz":"","flag-om":"","flag-pa":"","flag-pe":"","flag-pf":"","flag-pg":"","flag-ph":"","flag-pk":"","flag-pl":"","flag-pm":"","flag-pn":"","flag-pr":"","flag-ps":"","flag-pt":"","flag-pw":"","flag-py":"","flag-qa":"","flag-re":"","flag-ro":"","flag-rs":"","ru":"","flag-ru":"","flag-rw":"","flag-sa":"","flag-sb":"","flag-sc":"","flag-sd":"","flag-se":"","flag-sg":"","flag-sh":"","flag-si":"","flag-sj":"","flag-sk":"","flag-sl":"","flag-sm":"","flag-sn":"","flag-so":"","flag-sr":"","flag-ss":"","flag-st":"","flag-sv":"","flag-sx":"","flag-sy":"","flag-sz":"","flag-ta":"","flag-tc":"","flag-td":"","flag-tf":"","flag-tg":"","flag-th":"","flag-tj":"","flag-tk":"","flag-tl":"","flag-tm":"","flag-tn":"","flag-to":"","flag-tr":"","flag-tt":"","flag-tv":"","flag-tw":"","flag-tz":"","flag-ua":"","flag-ug":"","flag-um":"","flag-un":"","us":"","flag-us":"","flag-uy":"","flag-uz":"","flag-va":"","flag-vc":"","flag-ve":"","flag-vg":"","flag-vi":"","flag-vn":"","flag-vu":"","flag-wf":"","flag-ws":"","flag-xk":"","flag-ye":"","flag-yt":"","flag-za":"","flag-zm":"","flag-zw":"","koko":"","sa":"","u7121":"","u6307":"","u7981":"","u7a7a":"","u5408":"","u6e80":"","u6709":"","u6708":"","u7533":"","u5272":"","u55b6":"","ideograph_advantage":"","accept":"","cyclone":"","foggy":"","closed_umbrella":"","night_with_stars":"","sunrise_over_mountains":"","sunrise":"","city_sunset":"","city_sunrise":"","rainbow":"","bridge_at_night":"","ocean":"","volcano":"","milky_way":"","earth_africa":"","earth_americas":"","earth_asia":"","globe_with_meridians":"","new_moon":"","waxing_crescent_moon":"","first_quarter_moon":"","moon":"","waxing_gibbous_moon":"","full_moon":"","waning_gibbous_moon":"","last_quarter_moon":"","waning_crescent_moon":"","crescent_moon":"","new_moon_with_face":"","first_quarter_moon_with_face":"","last_quarter_moon_with_face":"","full_moon_with_face":"","sun_with_face":"","star2":"","stars":"","thermometer":"","mostly_sunny":"","sun_small_cloud":"","barely_sunny":"","sun_behind_cloud":"","partly_sunny_rain":"","sun_behind_rain_cloud":"","rain_cloud":"","snow_cloud":"","lightning":"","lightning_cloud":"","tornado":"","tornado_cloud":"","fog":"","wind_blowing_face":"","hotdog":"","taco":"","burrito":"","chestnut":"","seedling":"","evergreen_tree":"","deciduous_tree":"","palm_tree":"","cactus":"","hot_pepper":"","tulip":"","cherry_blossom":"","rose":"","hibiscus":"","sunflower":"","blossom":"","corn":"","ear_of_rice":"","herb":"","four_leaf_clover":"","maple_leaf":"","fallen_leaf":"","leaves":"","mushroom":"","tomato":"","eggplant":"","grapes":"","melon":"","watermelon":"","tangerine":"","lemon":"","banana":"","pineapple":"","apple":"","green_apple":"","pear":"","peach":"","cherries":"","strawberry":"","hamburger":"","pizza":"","meat_on_bone":"","poultry_leg":"","rice_cracker":"","rice_ball":"","rice":"","curry":"","ramen":"","spaghetti":"","bread":"","fries":"","sweet_potato":"","dango":"","oden":"","sushi":"","fried_shrimp":"","fish_cake":"","icecream":"","shaved_ice":"","ice_cream":"","doughnut":"","cookie":"","chocolate_bar":"","candy":"","lollipop":"","custard":"","honey_pot":"","cake":"","bento":"","stew":"","fried_egg":"","cooking":"","fork_and_knife":"","tea":"","sake":"","wine_glass":"","cocktail":"","tropical_drink":"","beer":"","beers":"","baby_bottle":"","knife_fork_plate":"","champagne":"","popcorn":"","ribbon":"","gift":"","birthday":"","jack_o_lantern":"","christmas_tree":"","santa":"","fireworks":"","sparkler":"","balloon":"","tada":"","confetti_ball":"","tanabata_tree":"","crossed_flags":"","bamboo":"","dolls":"","flags":"","wind_chime":"","rice_scene":"","school_satchel":"","mortar_board":"","medal":"","reminder_ribbon":"","studio_microphone":"","level_slider":"","control_knobs":"","film_frames":"","admission_tickets":"","carousel_horse":"","ferris_wheel":"","roller_coaster":"","fishing_pole_and_fish":"","microphone":"","movie_camera":"","cinema":"","headphones":"","art":"","tophat":"","circus_tent":"","ticket":"","clapper":"","performing_arts":"","video_game":"","dart":"","slot_machine":"","8ball":"","game_die":"","bowling":"","flower_playing_cards":"","musical_note":"","notes":"","saxophone":"","guitar":"","musical_keyboard":"","trumpet":"","violin":"","musical_score":"","running_shirt_with_sash":"","tennis":"","ski":"","basketball":"","checkered_flag":"","snowboarder":"","woman-running":"","man-running":"","runner":"","running":"","woman-surfing":"","man-surfing":"","surfer":"","sports_medal":"","trophy":"","horse_racing":"","football":"","rugby_football":"","woman-swimming":"","man-swimming":"","swimmer":"","woman-lifting-weights":"","man-lifting-weights":"","weight_lifter":"","woman-golfing":"","man-golfing":"","golfer":"","racing_motorcycle":"","racing_car":"","cricket_bat_and_ball":"","volleyball":"","field_hockey_stick_and_ball":"","ice_hockey_stick_and_puck":"","table_tennis_paddle_and_ball":"","snow_capped_mountain":"","camping":"","beach_with_umbrella":"","building_construction":"","house_buildings":"","cityscape":"","derelict_house_building":"","classical_building":"","desert":"","desert_island":"","national_park":"","stadium":"","house":"","house_with_garden":"","office":"","post_office":"","european_post_office":"","hospital":"","bank":"","atm":"","hotel":"","love_hotel":"","convenience_store":"","school":"","department_store":"","factory":"","izakaya_lantern":"","lantern":"","japanese_castle":"","european_castle":"","rainbow-flag":"","transgender_flag":"","waving_white_flag":"","pirate_flag":"","flag-england":"","flag-scotland":"","flag-wales":"","waving_black_flag":"","rosette":"","label":"","badminton_racquet_and_shuttlecock":"","bow_and_arrow":"","amphora":"","skin-tone-2":"","skin-tone-3":"","skin-tone-4":"","skin-tone-5":"","skin-tone-6":"","rat":"","mouse2":"","ox":"","water_buffalo":"","cow2":"","tiger2":"","leopard":"","rabbit2":"","black_cat":"","cat2":"","dragon":"","crocodile":"","whale2":"","snail":"","snake":"","racehorse":"","ram":"","goat":"","sheep":"","monkey":"","rooster":"","chicken":"","service_dog":"","dog2":"","pig2":"","boar":"","elephant":"","octopus":"","shell":"","bug":"","ant":"","bee":"","honeybee":"","ladybug":"","lady_beetle":"","fish":"","tropical_fish":"","blowfish":"","turtle":"","hatching_chick":"","baby_chick":"","hatched_chick":"","bird":"","penguin":"","koala":"","poodle":"","dromedary_camel":"","camel":"","dolphin":"","flipper":"","mouse":"","cow":"","tiger":"","rabbit":"","cat":"","dragon_face":"","whale":"","horse":"","monkey_face":"","dog":"","pig":"","frog":"","hamster":"","wolf":"","polar_bear":"","bear":"","panda_face":"","pig_nose":"","feet":"","paw_prints":"","chipmunk":"","eyes":"","eye-in-speech-bubble":"","eye":"","ear":"","nose":"","lips":"","tongue":"","point_up_2":"","point_down":"","point_left":"","point_right":"","facepunch":"","punch":"","wave":"","ok_hand":"","+1":"","thumbsup":"","-1":"","thumbsdown":"","clap":"","open_hands":"","crown":"","womans_hat":"","eyeglasses":"","necktie":"","shirt":"","tshirt":"","jeans":"","dress":"","kimono":"","bikini":"","womans_clothes":"","purse":"","handbag":"","pouch":"","mans_shoe":"","shoe":"","athletic_shoe":"","high_heel":"","sandal":"","boot":"","footprints":"","bust_in_silhouette":"","busts_in_silhouette":"","boy":"","girl":"","male-farmer":"","male-cook":"","man_feeding_baby":"","male-student":"","male-singer":"","male-artist":"","male-teacher":"","male-factory-worker":"","man-boy-boy":"","man-boy":"","man-girl-boy":"","man-girl-girl":"","man-girl":"","man-man-boy":"","man-man-boy-boy":"","man-man-girl":"","man-man-girl-boy":"","man-man-girl-girl":"","man-woman-boy":"","family":"","man-woman-boy-boy":"","man-woman-girl":"","man-woman-girl-boy":"","man-woman-girl-girl":"","male-technologist":"","male-office-worker":"","male-mechanic":"","male-scientist":"","male-astronaut":"","male-firefighter":"","man_with_probing_cane":"","red_haired_man":"","curly_haired_man":"","bald_man":"","white_haired_man":"","man_in_motorized_wheelchair":"","man_in_manual_wheelchair":"","male-doctor":"","male-judge":"","male-pilot":"","man-heart-man":"","man-kiss-man":"","man":"","female-farmer":"","female-cook":"","woman_feeding_baby":"","female-student":"","female-singer":"","female-artist":"","female-teacher":"","female-factory-worker":"","woman-boy-boy":"","woman-boy":"","woman-girl-boy":"","woman-girl-girl":"","woman-girl":"","woman-woman-boy":"","woman-woman-boy-boy":"","woman-woman-girl":"","woman-woman-girl-boy":"","woman-woman-girl-girl":"","female-technologist":"","female-office-worker":"","female-mechanic":"","female-scientist":"","female-astronaut":"","female-firefighter":"","woman_with_probing_cane":"","red_haired_woman":"","curly_haired_woman":"","bald_woman":"","white_haired_woman":"","woman_in_motorized_wheelchair":"","woman_in_manual_wheelchair":"","female-doctor":"","female-judge":"","female-pilot":"","woman-heart-man":"","woman-heart-woman":"","woman-kiss-man":"","woman-kiss-woman":"","woman":"","man_and_woman_holding_hands":"","woman_and_man_holding_hands":"","couple":"","two_men_holding_hands":"","men_holding_hands":"","two_women_holding_hands":"","women_holding_hands":"","female-police-officer":"","male-police-officer":"","cop":"","women-with-bunny-ears-partying":"","woman-with-bunny-ears-partying":"","dancers":"","men-with-bunny-ears-partying":"","man-with-bunny-ears-partying":"","woman_with_veil":"","man_with_veil":"","bride_with_veil":"","blond-haired-woman":"","blond-haired-man":"","person_with_blond_hair":"","man_with_gua_pi_mao":"","woman-wearing-turban":"","man-wearing-turban":"","man_with_turban":"","older_man":"","older_woman":"","baby":"","female-construction-worker":"","male-construction-worker":"","construction_worker":"","princess":"","japanese_ogre":"","japanese_goblin":"","ghost":"","angel":"","alien":"","space_invader":"","imp":"","skull":"","woman-tipping-hand":"","information_desk_person":"","man-tipping-hand":"","female-guard":"","male-guard":"","guardsman":"","dancer":"","lipstick":"","nail_care":"","woman-getting-massage":"","massage":"","man-getting-massage":"","woman-getting-haircut":"","haircut":"","man-getting-haircut":"","barber":"","syringe":"","pill":"","kiss":"","love_letter":"","ring":"","gem":"","couplekiss":"","bouquet":"","couple_with_heart":"","wedding":"","heartbeat":"","broken_heart":"","two_hearts":"","sparkling_heart":"","heartpulse":"","cupid":"","blue_heart":"","green_heart":"","yellow_heart":"","purple_heart":"","gift_heart":"","revolving_hearts":"","heart_decoration":"","diamond_shape_with_a_dot_inside":"","bulb":"","anger":"","bomb":"","zzz":"","boom":"","collision":"","sweat_drops":"","droplet":"","dash":"","hankey":"","poop":"","shit":"","muscle":"","dizzy":"","speech_balloon":"","thought_balloon":"","white_flower":"","moneybag":"","currency_exchange":"","heavy_dollar_sign":"","credit_card":"","yen":"","dollar":"","euro":"","pound":"","money_with_wings":"","chart":"","seat":"","computer":"","briefcase":"","minidisc":"","floppy_disk":"","cd":"","dvd":"","file_folder":"","open_file_folder":"","page_with_curl":"","page_facing_up":"","date":"","calendar":"","card_index":"","chart_with_upwards_trend":"","chart_with_downwards_trend":"","bar_chart":"","clipboard":"","pushpin":"","round_pushpin":"","paperclip":"","straight_ruler":"","triangular_ruler":"","bookmark_tabs":"","ledger":"","notebook":"","notebook_with_decorative_cover":"","closed_book":"","book":"","open_book":"","green_book":"","blue_book":"","orange_book":"","books":"","name_badge":"","scroll":"","memo":"","pencil":"","telephone_receiver":"","pager":"","fax":"","satellite_antenna":"","loudspeaker":"","mega":"","outbox_tray":"","inbox_tray":"","package":"","e-mail":"","incoming_envelope":"","envelope_with_arrow":"","mailbox_closed":"","mailbox":"","mailbox_with_mail":"","mailbox_with_no_mail":"","postbox":"","postal_horn":"","newspaper":"","iphone":"","calling":"","vibration_mode":"","mobile_phone_off":"","no_mobile_phones":"","signal_strength":"","camera":"","camera_with_flash":"","video_camera":"","tv":"","radio":"","vhs":"","film_projector":"","prayer_beads":"","twisted_rightwards_arrows":"","repeat":"","repeat_one":"","arrows_clockwise":"","arrows_counterclockwise":"","low_brightness":"","high_brightness":"","mute":"","speaker":"","sound":"","loud_sound":"","battery":"","electric_plug":"","mag":"","mag_right":"","lock_with_ink_pen":"","closed_lock_with_key":"","key":"","lock":"","unlock":"","bell":"","no_bell":"","bookmark":"","link":"","radio_button":"","back":"","end":"","on":"","soon":"","top":"","underage":"","keycap_ten":"","capital_abcd":"","abcd":"","symbols":"","abc":"","fire":"","flashlight":"","wrench":"","hammer":"","nut_and_bolt":"","hocho":"","knife":"","gun":"","microscope":"","telescope":"","crystal_ball":"","six_pointed_star":"","beginner":"","trident":"","black_square_button":"","white_square_button":"","red_circle":"","large_blue_circle":"","large_orange_diamond":"","large_blue_diamond":"","small_orange_diamond":"","small_blue_diamond":"","small_red_triangle":"","small_red_triangle_down":"","arrow_up_small":"","arrow_down_small":"","om_symbol":"","dove_of_peace":"","kaaba":"","mosque":"","synagogue":"","menorah_with_nine_branches":"","clock1":"","clock2":"","clock3":"","clock4":"","clock5":"","clock6":"","clock7":"","clock8":"","clock9":"","clock10":"","clock11":"","clock12":"","clock130":"","clock230":"","clock330":"","clock430":"","clock530":"","clock630":"","clock730":"","clock830":"","clock930":"","clock1030":"","clock1130":"","clock1230":"","candle":"","mantelpiece_clock":"","hole":"","man_in_business_suit_levitating":"","female-detective":"","male-detective":"","sleuth_or_spy":"","dark_sunglasses":"","spider":"","spider_web":"","joystick":"","man_dancing":"","linked_paperclips":"","lower_left_ballpoint_pen":"","lower_left_fountain_pen":"","lower_left_paintbrush":"","lower_left_crayon":"","raised_hand_with_fingers_splayed":"","middle_finger":"","reversed_hand_with_middle_finger_extended":"","spock-hand":"","black_heart":"","desktop_computer":"","printer":"","three_button_mouse":"","trackball":"","frame_with_picture":"","card_index_dividers":"","card_file_box":"","file_cabinet":"","wastebasket":"","spiral_note_pad":"","spiral_calendar_pad":"","compression":"","old_key":"","rolled_up_newspaper":"","dagger_knife":"","speaking_head_in_silhouette":"","left_speech_bubble":"","right_anger_bubble":"","ballot_box_with_ballot":"","world_map":"","mount_fuji":"","tokyo_tower":"","statue_of_liberty":"","japan":"","moyai":"","grinning":"","grin":"","joy":"","smiley":"","smile":"","sweat_smile":"","laughing":"","satisfied":"","innocent":"","smiling_imp":"","wink":"","blush":"","yum":"","relieved":"","heart_eyes":"","sunglasses":"","smirk":"","neutral_face":"","expressionless":"","unamused":"","sweat":"","pensive":"","confused":"","confounded":"","kissing":"","kissing_heart":"","kissing_smiling_eyes":"","kissing_closed_eyes":"","stuck_out_tongue":"","stuck_out_tongue_winking_eye":"","stuck_out_tongue_closed_eyes":"","disappointed":"","worried":"","angry":"","rage":"","cry":"","persevere":"","triumph":"","disappointed_relieved":"","frowning":"","anguished":"","fearful":"","weary":"","sleepy":"","tired_face":"","grimacing":"","sob":"","face_exhaling":"","open_mouth":"","hushed":"","cold_sweat":"","scream":"","astonished":"","flushed":"","sleeping":"","face_with_spiral_eyes":"","dizzy_face":"","face_in_clouds":"","no_mouth":"","mask":"","smile_cat":"","joy_cat":"","smiley_cat":"","heart_eyes_cat":"","smirk_cat":"","kissing_cat":"","pouting_cat":"","crying_cat_face":"","scream_cat":"","slightly_frowning_face":"","slightly_smiling_face":"","upside_down_face":"","face_with_rolling_eyes":"","woman-gesturing-no":"","no_good":"","man-gesturing-no":"","woman-gesturing-ok":"","ok_woman":"","man-gesturing-ok":"","woman-bowing":"","man-bowing":"","bow":"","see_no_evil":"","hear_no_evil":"","speak_no_evil":"","woman-raising-hand":"","raising_hand":"","man-raising-hand":"","raised_hands":"","woman-frowning":"","person_frowning":"","man-frowning":"","woman-pouting":"","person_with_pouting_face":"","man-pouting":"","pray":"","rocket":"","helicopter":"","steam_locomotive":"","railway_car":"","bullettrain_side":"","bullettrain_front":"","train2":"","metro":"","light_rail":"","station":"","tram":"","train":"","bus":"","oncoming_bus":"","trolleybus":"","busstop":"","minibus":"","ambulance":"","fire_engine":"","police_car":"","oncoming_police_car":"","taxi":"","oncoming_taxi":"","car":"","red_car":"","oncoming_automobile":"","blue_car":"","truck":"","articulated_lorry":"","tractor":"","monorail":"","mountain_railway":"","suspension_railway":"","mountain_cableway":"","aerial_tramway":"","ship":"","woman-rowing-boat":"","man-rowing-boat":"","rowboat":"","speedboat":"","traffic_light":"","vertical_traffic_light":"","construction":"","rotating_light":"","triangular_flag_on_post":"","door":"","no_entry_sign":"","smoking":"","no_smoking":"","put_litter_in_its_place":"","do_not_litter":"","potable_water":"","non-potable_water":"","bike":"","no_bicycles":"","woman-biking":"","man-biking":"","bicyclist":"","woman-mountain-biking":"","man-mountain-biking":"","mountain_bicyclist":"","woman-walking":"","man-walking":"","walking":"","no_pedestrians":"","children_crossing":"","mens":"","womens":"","restroom":"","baby_symbol":"","toilet":"","wc":"","shower":"","bath":"","bathtub":"","passport_control":"","customs":"","baggage_claim":"","left_luggage":"","couch_and_lamp":"","sleeping_accommodation":"","shopping_bags":"","bellhop_bell":"","bed":"","place_of_worship":"","octagonal_sign":"","shopping_trolley":"","hindu_temple":"","hut":"","elevator":"","hammer_and_wrench":"","shield":"","oil_drum":"","motorway":"","railway_track":"","motor_boat":"","small_airplane":"","airplane_departure":"","airplane_arriving":"","satellite":"","passenger_ship":"","scooter":"","motor_scooter":"","canoe":"","sled":"","flying_saucer":"","skateboard":"","auto_rickshaw":"","pickup_truck":"","roller_skate":"","large_orange_circle":"","large_yellow_circle":"","large_green_circle":"","large_purple_circle":"","large_brown_circle":"","large_red_square":"","large_blue_square":"","large_orange_square":"","large_yellow_square":"","large_green_square":"","large_purple_square":"","large_brown_square":"","pinched_fingers":"","white_heart":"","brown_heart":"","pinching_hand":"","zipper_mouth_face":"","money_mouth_face":"","face_with_thermometer":"","nerd_face":"","thinking_face":"","face_with_head_bandage":"","robot_face":"","hugging_face":"","the_horns":"","sign_of_the_horns":"","call_me_hand":"","raised_back_of_hand":"","left-facing_fist":"","right-facing_fist":"","handshake":"","crossed_fingers":"","hand_with_index_and_middle_fingers_crossed":"","i_love_you_hand_sign":"","face_with_cowboy_hat":"","clown_face":"","nauseated_face":"","rolling_on_the_floor_laughing":"","drooling_face":"","lying_face":"","woman-facepalming":"","man-facepalming":"","face_palm":"","sneezing_face":"","face_with_raised_eyebrow":"","face_with_one_eyebrow_raised":"","star-struck":"","grinning_face_with_star_eyes":"","zany_face":"","grinning_face_with_one_large_and_one_small_eye":"","shushing_face":"","face_with_finger_covering_closed_lips":"","face_with_symbols_on_mouth":"","serious_face_with_symbols_covering_mouth":"","face_with_hand_over_mouth":"","smiling_face_with_smiling_eyes_and_hand_covering_mouth":"","face_vomiting":"","face_with_open_mouth_vomiting":"","exploding_head":"","shocked_face_with_exploding_head":"","pregnant_woman":"","breast-feeding":"","palms_up_together":"","selfie":"","prince":"","woman_in_tuxedo":"","man_in_tuxedo":"","person_in_tuxedo":"","mrs_claus":"","mother_christmas":"","woman-shrugging":"","man-shrugging":"","shrug":"","woman-cartwheeling":"","man-cartwheeling":"","person_doing_cartwheel":"","woman-juggling":"","man-juggling":"","juggling":"","fencer":"","woman-wrestling":"","man-wrestling":"","wrestlers":"","woman-playing-water-polo":"","man-playing-water-polo":"","water_polo":"","woman-playing-handball":"","man-playing-handball":"","handball":"","diving_mask":"","wilted_flower":"","drum_with_drumsticks":"","clinking_glasses":"","tumbler_glass":"","spoon":"","goal_net":"","first_place_medal":"","second_place_medal":"","third_place_medal":"","boxing_glove":"","martial_arts_uniform":"","curling_stone":"","lacrosse":"","softball":"","flying_disc":"","croissant":"","avocado":"","cucumber":"","bacon":"","potato":"","carrot":"","baguette_bread":"","green_salad":"","shallow_pan_of_food":"","stuffed_flatbread":"","egg":"","glass_of_milk":"","peanuts":"","kiwifruit":"","pancakes":"","dumpling":"","fortune_cookie":"","takeout_box":"","chopsticks":"","bowl_with_spoon":"","cup_with_straw":"","coconut":"","broccoli":"","pie":"","pretzel":"","cut_of_meat":"","sandwich":"","canned_food":"","leafy_green":"","mango":"","moon_cake":"","bagel":"","smiling_face_with_3_hearts":"","yawning_face":"","smiling_face_with_tear":"","partying_face":"","woozy_face":"","hot_face":"","cold_face":"","ninja":"","disguised_face":"","pleading_face":"","sari":"","lab_coat":"","goggles":"","hiking_boot":"","womans_flat_shoe":"","crab":"","lion_face":"","scorpion":"","turkey":"","unicorn_face":"","eagle":"","duck":"","bat":"","shark":"","owl":"","fox_face":"","butterfly":"","deer":"","gorilla":"","lizard":"","rhinoceros":"","shrimp":"","squid":"","giraffe_face":"","zebra_face":"","hedgehog":"","sauropod":"","t-rex":"","cricket":"","kangaroo":"","llama":"","peacock":"","hippopotamus":"","parrot":"","raccoon":"","lobster":"","mosquito":"","microbe":"","badger":"","swan":"","mammoth":"","dodo":"","sloth":"","otter":"","orangutan":"","skunk":"","flamingo":"","oyster":"","beaver":"","bison":"","seal":"","guide_dog":"","probing_cane":"","bone":"","leg":"","foot":"","tooth":"","female_superhero":"","male_superhero":"","superhero":"","female_supervillain":"","male_supervillain":"","supervillain":"","safety_vest":"","ear_with_hearing_aid":"","motorized_wheelchair":"","manual_wheelchair":"","mechanical_arm":"","mechanical_leg":"","cheese_wedge":"","cupcake":"","salt":"","beverage_box":"","garlic":"","onion":"","falafel":"","waffle":"","butter":"","mate_drink":"","ice_cube":"","bubble_tea":"","woman_standing":"","man_standing":"","standing_person":"","woman_kneeling":"","man_kneeling":"","kneeling_person":"","deaf_woman":"","deaf_man":"","deaf_person":"","face_with_monocle":"","farmer":"","cook":"","person_feeding_baby":"","mx_claus":"","student":"","singer":"","artist":"","teacher":"","factory_worker":"","technologist":"","office_worker":"","mechanic":"","scientist":"","astronaut":"","firefighter":"","people_holding_hands":"","person_with_probing_cane":"","red_haired_person":"","curly_haired_person":"","bald_person":"","white_haired_person":"","person_in_motorized_wheelchair":"","person_in_manual_wheelchair":"","health_worker":"","judge":"","pilot":"","adult":"","child":"","older_adult":"","woman_with_beard":"","man_with_beard":"","bearded_person":"","person_with_headscarf":"","woman_in_steamy_room":"","man_in_steamy_room":"","person_in_steamy_room":"","woman_climbing":"","person_climbing":"","man_climbing":"","woman_in_lotus_position":"","person_in_lotus_position":"","man_in_lotus_position":"","female_mage":"","mage":"","male_mage":"","female_fairy":"","fairy":"","male_fairy":"","female_vampire":"","vampire":"","male_vampire":"","mermaid":"","merman":"","merperson":"","female_elf":"","male_elf":"","elf":"","female_genie":"","male_genie":"","genie":"","female_zombie":"","male_zombie":"","zombie":"","brain":"","orange_heart":"","billed_cap":"","scarf":"","gloves":"","coat":"","socks":"","red_envelope":"","firecracker":"","jigsaw":"","test_tube":"","petri_dish":"","dna":"","compass":"","abacus":"","fire_extinguisher":"","toolbox":"","bricks":"","magnet":"","luggage":"","lotion_bottle":"","thread":"","yarn":"","safety_pin":"","teddy_bear":"","broom":"","basket":"","roll_of_paper":"","soap":"","sponge":"","receipt":"","nazar_amulet":"","ballet_shoes":"","one-piece_swimsuit":"","briefs":"","shorts":"","thong_sandal":"","drop_of_blood":"","adhesive_bandage":"","stethoscope":"","yo-yo":"","kite":"","parachute":"","boomerang":"","magic_wand":"","pinata":"","nesting_dolls":"","ringed_planet":"","chair":"","razor":"","axe":"","diya_lamp":"","banjo":"","military_helmet":"","accordion":"","long_drum":"","coin":"","carpentry_saw":"","screwdriver":"","ladder":"","hook":"","mirror":"","window":"","plunger":"","sewing_needle":"","knot":"","bucket":"","mouse_trap":"","toothbrush":"","headstone":"","placard":"","rock":"","fly":"","worm":"","beetle":"","cockroach":"","potted_plant":"","wood":"","feather":"","anatomical_heart":"","lungs":"","people_hugging":"","blueberries":"","bell_pepper":"","olive":"","flatbread":"","tamale":"","fondue":"","teapot":"","bangbang":"","interrobang":"","tm":"","information_source":"","left_right_arrow":"","arrow_up_down":"","arrow_upper_left":"","arrow_upper_right":"","arrow_lower_right":"","arrow_lower_left":"","leftwards_arrow_with_hook":"","arrow_right_hook":"","watch":"","hourglass":"","keyboard":"","eject":"","fast_forward":"","rewind":"","arrow_double_up":"","arrow_double_down":"","black_right_pointing_double_triangle_with_vertical_bar":"","black_left_pointing_double_triangle_with_vertical_bar":"","black_right_pointing_triangle_with_double_vertical_bar":"","alarm_clock":"","stopwatch":"","timer_clock":"","hourglass_flowing_sand":"","double_vertical_bar":"","black_square_for_stop":"","black_circle_for_record":"","m":"","black_small_square":"","white_small_square":"","arrow_forward":"","arrow_backward":"","white_medium_square":"","black_medium_square":"","white_medium_small_square":"","black_medium_small_square":"","sunny":"","cloud":"","umbrella":"","snowman":"","comet":"","phone":"","telephone":"","ballot_box_with_check":"","shamrock":"","point_up":"","skull_and_crossbones":"","radioactive_sign":"","biohazard_sign":"","orthodox_cross":"","star_and_crescent":"","peace_symbol":"","yin_yang":"","wheel_of_dharma":"","white_frowning_face":"","relaxed":"","female_sign":"","male_sign":"","gemini":"","cancer":"","leo":"","virgo":"","libra":"","scorpius":"","chess_pawn":"","spades":"","clubs":"","hearts":"","diamonds":"","hotsprings":"","recycle":"","infinity":"","wheelchair":"","hammer_and_pick":"","crossed_swords":"","medical_symbol":"","staff_of_aesculapius":"","scales":"","alembic":"","gear":"","atom_symbol":"","fleur_de_lis":"","warning":"","zap":"","transgender_symbol":"","white_circle":"","black_circle":"","coffin":"","funeral_urn":"","soccer":"","baseball":"","snowman_without_snow":"","partly_sunny":"","thunder_cloud_and_rain":"","ophiuchus":"","pick":"","helmet_with_white_cross":"","chains":"","no_entry":"","shinto_shrine":"","church":"","mountain":"","umbrella_on_ground":"","fountain":"","golf":"","ferry":"","boat":"","sailboat":"","skier":"","ice_skate":"","woman-bouncing-ball":"","man-bouncing-ball":"","person_with_ball":"","tent":"","fuelpump":"","scissors":"","airplane":"","email":"","envelope":"","fist":"","hand":"","raised_hand":"","v":"","writing_hand":"","pencil2":"","black_nib":"","heavy_check_mark":"","heavy_multiplication_x":"","latin_cross":"","star_of_david":"","eight_spoked_asterisk":"","eight_pointed_black_star":"","snowflake":"","sparkle":"","x":"","negative_squared_cross_mark":"","heavy_heart_exclamation_mark_ornament":"","heart_on_fire":"","mending_heart":"","heart":"","arrow_right":"","curly_loop":"","loop":"","arrow_heading_up":"","arrow_heading_down":"","arrow_left":"","arrow_up":"","arrow_down":"","black_large_square":"","white_large_square":"","star":"","o":"","wavy_dash":"","part_alternation_mark":"","congratulations":"","secret":""}')}}]);
//# sourceMappingURL=editor.61f110bb.js.map