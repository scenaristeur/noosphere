{"version":3,"file":"js/564.f36929b7.js","mappings":"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","sources":["webpack://noosphere/./src/views/Web3Modal.vue","webpack://noosphere/src/views/Web3Modal.vue","webpack://noosphere/./src/views/Web3Modal.vue?dc3e","webpack://noosphere/./src/views/Web3Modal.vue?15f9"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"modal-pin\",\"title\":\"Pin Data on Web3.storage\",\"size\":\"lg\"},on:{\"shown\":_vm.populate}},[_c('b-row',{staticClass:\"my-1\"},[_c('b-col',{attrs:{\"sm\":\"2\"}},[_c('label',{attrs:{\"for\":\"input-small\"}},[_vm._v(\"Filename:\")])]),_c('b-col',{attrs:{\"sm\":\"10\"}},[_c('b-input',{attrs:{\"size\":\"sm\",\"placeholder\":\"filename\"},model:{value:(_vm.fileName),callback:function ($$v) {_vm.fileName=$$v},expression:\"fileName\"}})],1)],1),_vm._v(\" Content: \"),_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Enter something...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('b-button',{attrs:{\"disabled\":_vm.token == null},on:{\"click\":_vm.pin}},[_vm._v(\"Pin it\")]),_c('br'),_vm._v(\" see \"),_c('a',{attrs:{\"href\":\"https://web3.storage/docs/\",\"target\":\"_blank\"}},[_vm._v(\" https://web3.storage/docs/\")]),_vm._v(\" (1GB free)\"),_c('br'),_c('a',{attrs:{\"href\":\"https://web3.storage/tokens/\",\"target\":\"_blank\"}},[_vm._v(\"my web3.storage tokens\")]),_c('b-row',{staticClass:\"my-1\"},[_c('b-col',{attrs:{\"sm\":\"2\"}},[_c('label',{attrs:{\"for\":\"input-small\"}},[_vm._v(\"Token:\")])]),_c('b-col',{attrs:{\"sm\":\"10\"}},[_c('b-input',{attrs:{\"id\":\"input-small\",\"size\":\"sm\",\"placeholder\":\"web3.storage token\",\"type\":\"password\"},on:{\"input\":_vm.tokenChanged},model:{value:(_vm.token),callback:function ($$v) {_vm.token=$$v},expression:\"token\"}})],1)],1),_c('ul',_vm._l((_vm.messages),function(m,i){return _c('li',{key:i},[_vm._v(_vm._s(m))])}),0),_c('br'),(_vm.cid != null)?_c('span',[_vm._v(\" saved on ipfs with cid \"),_c('a',{attrs:{\"href\":'https://'+_vm.cid+'.ipfs.w3s.link/',\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.cid))])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal id=\"modal-pin\" title=\"Pin Data on Web3.storage\" size=\"lg\" @shown=\"populate\">\n\n    <b-row class=\"my-1\">\n      <b-col sm=\"2\">\n        <label for=\"input-small\" >Filename:</label>\n      </b-col>\n      <b-col sm=\"10\">\n        <b-input v-model=\"fileName\" size=\"sm\" placeholder=\"filename\" />\n        <!-- <b-form-input id=\"input-small\" size=\"sm\" placeholder=\"Enter your name\"></b-form-input> -->\n      </b-col>\n    </b-row>\n\n    Content:\n    <b-form-textarea\n    id=\"textarea\"\n    v-model=\"data\"\n    placeholder=\"Enter something...\"\n    rows=\"3\"\n    max-rows=\"6\"\n    ></b-form-textarea>\n    <b-button @click=\"pin\" :disabled=\"token == null\">Pin it</b-button>\n    <br>\n\n    see <a href=\"https://web3.storage/docs/\" target=\"_blank\"> https://web3.storage/docs/</a> (1GB free)<br>\n    <a href=\"https://web3.storage/tokens/\" target=\"_blank\">my web3.storage tokens</a>\n\n    <b-row class=\"my-1\">\n      <b-col sm=\"2\">\n        <label for=\"input-small\">Token:</label>\n      </b-col>\n      <b-col sm=\"10\">\n        <b-input\n        id=\"input-small\"\n        v-model=\"token\"\n        @input=\"tokenChanged\"\n        size=\"sm\"\n        placeholder=\"web3.storage token\"\n        type=\"password\" />\n      </b-col>\n    </b-row>\n\n\n\n    <ul>\n\n      <li v-for=\"m,i of messages\" :key=i>{{m}}</li>\n    </ul>\n    <br>\n    <span v-if=\"cid != null\">\n\n      saved on ipfs with cid\n      <a :href=\"'https://'+cid+'.ipfs.w3s.link/'\" target=\"_blank\">{{cid}}</a>\n    </span>\n\n    <!-- {{uploads}} -->\n\n    <!-- <div v-if=\"uploads != null && uploads.length> 0\">\n    Your 20 last uploads :\n\n    <ul>\n    <li v-for=\"u in uploads\" :key=\"u._id\">\n\n    <b-button class=\"m-0\" size=\"sm\" @click=\"clickUpload(u)\">{{u.name}}</b-button>\n\n  </li>\n</ul>\n\n</div> -->\n\n</b-modal>\n</template>\n\n<script>\nexport default {\n  name: 'Web3Modal',\n  data() {\n    return {\n      data: null,\n      fileName: \"\",\n      // messages: [],\n      cid: null,\n      token: null\n    }\n  },\n  async created(){\n    this.token = this.$store.state.web3.token\n    // this.$solidRoomList()\n    // this.$solidCreateRoom('Room_'+Date.now())\n  },\n  methods:{\n    populate(){\n      console.log('populate')\n      this.$store.commit('web3/resetPinMessages')\n      let now = Date.now()\n      let data = this.$serialize(this.user.roomId)\n\n      // let data = this.$store.state.editor.editorData\n      // delete data.clientID\n      data.roomId = this.user.roomId\n      data.timestamp = now\n      data.creator = this.user.name\n      //let prefix = 'noos'\n      let separator = '_'\n      // this.fileName = prefix+separator+this.user.roomId+separator+Date.now()\n      this.fileName = this.user.roomId+separator+now\n      data.filename = this.fileName\n\n      this.data = JSON.stringify(data, null, 2)\n\n      // this.fileName = this.user.roomId\n      this.cid = null\n    },\n    async pin(){\n      this.cid = await this.$web3Pin({data: this.data, fileName: this.fileName})\n    },\n    async tokenChanged(){\n      localStorage.setItem('noosphere-web3storage-token', this.token);\n      await this.$web3list(this.token)\n      //console.log(\"Web3 uploads\",uploads)\n    },\n  },\n  watch:{\n    web3Token(){\n      this.token = this.web3Token\n    },\n    // fileName(){\n    //   this.populate()\n    // }\n    // token(){\n    //   if (this.token!= null){\n    //     this.tokenChanged()\n    //     // let uploads = this.$web3list(this.token)\n    //     // console.log(\"Web3 uploads\",uploads)\n    //   }\n    // }\n  },\n  computed: {\n    web3Token(){\n      return this.$store.state.web3.token\n    },\n    user() {\n      return this.$store.state.actor.user\n    },\n    messages(){\n      return this.$store.state.web3.pinMessages\n    }\n  }\n\n\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Web3Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Web3Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Web3Modal.vue?vue&type=template&id=0b6eb28c&\"\nimport script from \"./Web3Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Web3Modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","populate","staticClass","_v","model","value","fileName","callback","$$v","expression","data","token","pin","tokenChanged","_l","messages","m","i","key","_s","cid","_e","staticRenderFns","name","methods","console","localStorage","watch","web3Token","computed","user","component"],"sourceRoot":""}