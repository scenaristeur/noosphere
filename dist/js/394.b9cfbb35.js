"use strict";(self["webpackChunknoosphere"]=self["webpackChunknoosphere"]||[]).push([[394],{7394:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"modal-pin",title:"Pin Data on Web3.storage",size:"lg"},on:{shown:t.populate}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Filename:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-input",{attrs:{size:"sm",placeholder:"filename"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1)],1),t._v(" Content: "),e("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}),e("b-button",{attrs:{disabled:null==t.token},on:{click:t.pin}},[t._v("Pin it")]),e("br"),t._v(" see "),e("a",{attrs:{href:"https://web3.storage/docs/",target:"_blank"}},[t._v(" https://web3.storage/docs/")]),t._v(" (1GB free)"),e("br"),e("a",{attrs:{href:"https://web3.storage/tokens/",target:"_blank"}},[t._v("my web3.storage tokens")]),e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Token:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-input",{attrs:{id:"input-small",size:"sm",placeholder:"web3.storage token",type:"password"},on:{input:t.tokenChanged},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1)],1),e("ul",t._l(t.messages,(function(s,a){return e("li",{key:a},[t._v(t._s(s))])})),0),e("br"),null!=t.cid?e("span",[t._v(" saved on ipfs with cid "),e("a",{attrs:{href:"https://"+t.cid+".ipfs.w3s.link/",target:"_blank"}},[t._v(t._s(t.cid))])]):t._e()],1)},o=[],n={name:"Web3Modal",data(){return{data:null,fileName:"",cid:null,token:null}},async created(){this.token=this.$store.state.web3.token,console.log(this.token)},methods:{populate(){console.log("populate"),this.$store.commit("web3/resetPinMessages");let t=Date.now(),e="_";console.log(this.user),this.fileName=this.user.roomID+e+t,this.data=this.$store.state.editor.markdownContent,console.log(this.data),this.cid=null},async pin(){let t={content:this.data,parent:this.user.roomID};this.cid=await this.$web3Pin({data:JSON.stringify(t),fileName:this.fileName})},async tokenChanged(){localStorage.setItem("noosphere-web3storage-token",this.token),await this.$web3list(this.token)}},watch:{web3Token(){this.token=this.web3Token}},computed:{web3Token(){return this.$store.state.web3.token},user(){return this.$store.state.noosphere.localUser},messages(){return this.$store.state.web3.pinMessages},markdownContent(){return this.$store.state.editor.markdownContent}}},l=n,r=s(1001),i=(0,r.Z)(l,a,o,!1,null,null,null),c=i.exports}}]);
//# sourceMappingURL=394.b9cfbb35.js.map