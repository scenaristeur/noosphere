"use strict";(self["webpackChunknoosphere"]=self["webpackChunknoosphere"]||[]).push([[845],{6318:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("b-container",{staticClass:"user-profile text-light"},[t("b-card",{staticClass:"text-center mb-2",staticStyle:{"max-width":"20rem"},attrs:{"bg-variant":"info","text-variant":"white",header:"Profile",tag:"article"}},[t("b-card-title",[e._v(" username"),t("b-input",{attrs:{placeholder:"username"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),t("b-card-text",[e._v(" prefered color "),t("b-input",{attrs:{type:"color"},model:{value:e.user.color,callback:function(t){e.$set(e.user,"color",t)},expression:"user.color"}})],1),t("b-button",{attrs:{variant:"primary"},on:{click:e.save}},[e._v("Save")])],1),t("br"),t("b-button",{attrs:{variant:"outline-info",size:"sm"},on:{click:e.randomUser}},[e._v("random user")]),t("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:e.download}},[e._v("download this identity")]),t("b-form-file",{attrs:{state:Boolean(e.identityFile),placeholder:"Choose a identity file or drop it here...","drop-placeholder":"Drop identity file here..."},model:{value:e.identityFile,callback:function(t){e.identityFile=t},expression:"identityFile"}}),t("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:e.removeUser}},[e._v("remove from this device")]),t("br")],1)},i=[],n={name:"UserProfile",data(){return{identityFile:null}},methods:{async randomUser(){let e=await this.$randomUser();console.log(e),this.$store.commit("core/setUser",e)},save(){this.$store.commit("core/setUser",this.user),this.$userChanged(),this.$router.push("/")},removeUser(){this.$removeUser(),this.randomUser()},async upload(e,t){const r=new FileReader;await r.addEventListener("load",(()=>{t(r.result)})),r.readAsText(e,"UTF-8")},populateIdentity(e){console.log("populate",e);let t=JSON.parse(e);this.$store.commit("core/setUser",t),this.$userChanged()},download(){console.log(this.user);var e=JSON.stringify(this.user,null,2);let t=this.user.name;var r=prompt("Choose a name for the exported file :",t);if(null==r||""==r)return;let o="application/json",i=r+".json";var n=new Blob([e],{type:o}),s=document.createElement("a");s.download=i,s.innerHTML="Download File",-1!=navigator.userAgent.indexOf("Chrome")?s.href=window.URL.createObjectURL(n):(s.href=window.URL.createObjectURL(n),s.target="_blank",s.style.display="none",document.body.appendChild(s));var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(a),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(s)}),1e3)}},watch:{identityFile(){console.log(this.identityFile),this.upload(this.identityFile,this.populateIdentity)}},computed:{user(){return this.$store.state.core.user}}},s=n,a=r(1001),l=(0,a.Z)(s,o,i,!1,null,"261167ed",null),c=l.exports}}]);
//# sourceMappingURL=profile.9877e849.js.map