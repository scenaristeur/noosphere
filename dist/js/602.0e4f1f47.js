"use strict";(self["webpackChunknoosphere"]=self["webpackChunknoosphere"]||[]).push([[602],{5602:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return null!=e.user?t("b-container",{staticClass:"room-history",attrs:{fluid:""}},[t("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[t("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[t("b-input-group",{attrs:{size:"sm"}},[t("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Find in Room History"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),t("b-input-group-append",[t("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1),e._v(" "+e._s(Object.values(e.user.rooms).length)+" "),t("b-table",{staticClass:"table",attrs:{small:"",selectable:"","max-height":"400px","select-mode":"single",responsive:"sm",hover:"","caption-top":"","table-variant":"info",filter:e.filter,"sort-by.sync":"date","sort-direction":"desc",fields:e.fields,items:Object.values(e.user.rooms).reverse()},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(delete)",fn:function(r){return[t("div",{staticStyle:{float:"right"}},[t("b-button",{attrs:{size:"sm",variant:"outline-info"},on:{click:function(t){return e.trash(r.item.roomId)}}},[t("b-icon",{attrs:{icon:"trash",variant:"danger","aria-hidden":"true"}})],1)],1)]}}],null,!1,3920729823)})],1):e._e()},o=[],l={name:"RoomHistory",data(){return{filter:null,fields:[{key:"roomId",label:"room",sortable:!0},{key:"date",label:"date",formatter:e=>this.$secondsToHms((new Date-e)/1e3),sortable:!0},{key:"delete",label:"delete",headerAbbr:"delete",headerTitle:"delete from history"}]}},methods:{onRowSelected(e){void 0!=e[0]&&(this.user.roomId=e[0].roomId,this.$openRoom(),this.$emit("hide"))},trash(e){console.log(e),this.$store.commit("actor/removeRoomIdFromHistory",e),this.$forceUpdate(),this.$userChanged()}},watch:{historyUpdated(){this.$forceUpdate()}},computed:{user:{cache:!1,get(){return this.$store.state.actor.user}},historyUpdated(){return this.$store.state.actor.historyUpdated}}},a=l,i=r(1001),n=(0,i.Z)(a,s,o,!1,null,"7a5a51c4",null),c=n.exports}}]);
//# sourceMappingURL=602.0e4f1f47.js.map