"use strict";(self["webpackChunknoosphere"]=self["webpackChunknoosphere"]||[]).push([[564],{3564:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"modal-pin",title:"Pin Data on Web3.storage",size:"lg"},on:{shown:e.populate}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"2"}},[t("label",{attrs:{for:"input-small"}},[e._v("Filename:")])]),t("b-col",{attrs:{sm:"10"}},[t("b-input",{attrs:{size:"sm",placeholder:"filename"},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}})],1)],1),e._v(" Content: "),t("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}),t("b-button",{attrs:{disabled:null==e.token},on:{click:e.pin}},[e._v("Pin it")]),t("br"),e._v(" see "),t("a",{attrs:{href:"https://web3.storage/docs/",target:"_blank"}},[e._v(" https://web3.storage/docs/")]),e._v(" (1GB free)"),t("br"),t("a",{attrs:{href:"https://web3.storage/tokens/",target:"_blank"}},[e._v("my web3.storage tokens")]),t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"2"}},[t("label",{attrs:{for:"input-small"}},[e._v("Token:")])]),t("b-col",{attrs:{sm:"10"}},[t("b-input",{attrs:{id:"input-small",size:"sm",placeholder:"web3.storage token",type:"password"},on:{input:e.tokenChanged},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1)],1),t("ul",e._l(e.messages,(function(s,a){return t("li",{key:a},[e._v(e._s(s))])})),0),t("br"),null!=e.cid?t("span",[e._v(" saved on ipfs with cid "),t("a",{attrs:{href:"https://"+e.cid+".ipfs.w3s.link/",target:"_blank"}},[e._v(e._s(e.cid))])]):e._e()],1)},o=[],n={name:"Web3Modal",data(){return{data:null,fileName:"",cid:null,token:null}},async created(){this.token=this.$store.state.web3.token},methods:{populate(){console.log("populate"),this.$store.commit("web3/resetPinMessages");let e=Date.now(),t=this.$serialize(this.user.roomId);t.roomId=this.user.roomId,t.timestamp=e,t.creator=this.user.name;let s="_";this.fileName=this.user.roomId+s+e,t.filename=this.fileName,this.data=JSON.stringify(t,null,2),this.cid=null},async pin(){this.cid=await this.$web3Pin({data:this.data,fileName:this.fileName})},async tokenChanged(){localStorage.setItem("noosphere-web3storage-token",this.token),await this.$web3list(this.token)}},watch:{web3Token(){this.token=this.web3Token}},computed:{web3Token(){return this.$store.state.web3.token},user(){return this.$store.state.actor.user},messages(){return this.$store.state.web3.pinMessages}}},i=n,l=s(1001),r=(0,l.Z)(i,a,o,!1,null,null,null),u=r.exports}}]);
//# sourceMappingURL=564.f36929b7.js.map