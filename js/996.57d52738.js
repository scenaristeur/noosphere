"use strict";(self["webpackChunknoosphere"]=self["webpackChunknoosphere"]||[]).push([[996],{8996:function(e,s,r){r.r(s),r.d(s,{default:function(){return i}});var t=function(){var e=this,s=e._self._c;return s("b-container",{staticClass:"users-view",attrs:{fluid:""}},[null!=e.user?s("b-table",{attrs:{small:"",hover:"",selectable:"","sticky-header":"","select-mode":"single",responsive:"sm","table-variant":"info",items:Object.values(e.users),fields:e.fields,"caption-top":""},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(name)",fn:function(r){return[r.item.clientID==e.user.clientID?[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-me",modifiers:{"modal-me":!0}}],attrs:{size:"sm",variant:"outline-primary"}},[s("span",{style:"color:"+r.item.color},[s("b",[e._v(e._s(r.item.name))])])])]:[s("small",{style:"color:"+r.item.color},[s("i",[s("b",[e._v(e._s(r.item.name))])])])]]}},{key:"cell(rooms)",fn:function(r){return[s("b-button",{attrs:{size:"sm"},on:{click:function(s){return e.openUserModal(r.item)}}},[e._v(e._s(Object.keys(r.item.rooms).length))])]}},{key:"table-caption",fn:function(){return[e._v(e._s(Object.values(e.users).length)+" users")]},proxy:!0}],null,!1,457144895)}):e._e(),s("b-modal",{attrs:{id:"modal-me",title:"Change your username and color"},on:{ok:e.userChanged}},[null!=e.user?s("p",{staticClass:"my-4"},[e._v(" username"),s("b-input",{attrs:{placeholder:"username"},model:{value:e.user.name,callback:function(s){e.$set(e.user,"name",s)},expression:"user.name"}}),e._v(" color "),s("b-input",{attrs:{type:"color"},model:{value:e.user.color,callback:function(s){e.$set(e.user,"color",s)},expression:"user.color"}}),s("b-button",{attrs:{variant:"outline-info",size:"sm"},on:{click:e.randomUser}},[e._v("Random user")])],1):e._e()]),s("b-modal",{attrs:{id:"modal-currentUser",title:"User"}},[s("b",[e._v(e._s(e.currentUser.name))]),void 0!=e.currentUser.rooms?s("ul",e._l(Object.values(e.currentUser.rooms),(function(r){return s("li",{key:r.roomId},[s("b-button",{attrs:{size:"sm"},on:{click:function(s){return e.changeRoom(r.roomId)}}},[e._v(e._s(r.roomId))])],1)})),0):e._e()])],1)},o=[],n={name:"UsersView",data(){return{fields:[{key:"name",sortable:!0},{key:"roomId",label:"room",sortable:!0},{key:"rooms",label:"rooms",sortable:!0}],currentUser:{}}},methods:{onRowSelected(e){void 0!=e[0]&&(this.user.roomId=e[0].roomId,this.$openRoom())},userChanged(){this.$store.commit("core/setUser",this.user),this.$userChanged()},async randomUser(){this.currentUser=await this.$randomUser(),console.log(this.currentUser),this.$store.commit("core/setUser",this.currentUser)},openUserModal(e){console.log(e),this.currentUser=e,this.$bvModal.show("modal-currentUser")},changeRoom(e){console.log(e),this.user.roomId=e,this.$openRoom()}},watch:{usersUpdateDate(){console.log(this.usersUpdateDate),this.$forceUpdate()}},computed:{users:{cache:!1,get(){return this.$store.state.core.users}},user(){return this.$store.state.core.user},usersUpdateDate(){return this.$store.state.core.usersUpdateDate}}},a=n,l=r(1001),u=(0,l.Z)(a,t,o,!1,null,"fd49bf1a",null),i=u.exports}}]);
//# sourceMappingURL=996.57d52738.js.map