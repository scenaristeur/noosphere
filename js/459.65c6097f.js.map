{"version":3,"file":"js/459.65c6097f.js","mappings":"+JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAoB,MAAZF,EAAII,KAAcF,EAAG,cAAc,CAACG,YAAY,eAAeC,MAAM,CAAC,MAAQ,KAAK,CAACJ,EAAG,QAAQ,CAACG,YAAY,OAAOC,MAAM,CAAC,GAAK,MAAM,CAACJ,EAAG,eAAe,CAACG,YAAY,OAAOC,MAAM,CAAC,MAAQ,SAAS,YAAY,eAAe,gBAAgB,IAAI,iBAAiB,QAAQ,aAAa,OAAO,CAACJ,EAAG,gBAAgB,CAACI,MAAM,CAAC,KAAO,OAAO,CAACJ,EAAG,eAAe,CAACI,MAAM,CAAC,GAAK,eAAe,KAAO,SAAS,YAAc,wBAAwBC,MAAM,CAACC,MAAOR,EAAIS,OAAQC,SAAS,SAAUC,GAAMX,EAAIS,OAAOE,CAAG,EAAEC,WAAW,YAAYV,EAAG,uBAAuB,CAACA,EAAG,WAAW,CAACI,MAAM,CAAC,UAAYN,EAAIS,QAAQI,GAAG,CAAC,MAAQ,SAASC,GAAQd,EAAIS,OAAS,EAAE,IAAI,CAACT,EAAIe,GAAG,YAAY,IAAI,IAAI,IAAI,GAAGf,EAAIe,GAAG,IAAIf,EAAIgB,GAAGC,OAAOC,OAAOlB,EAAII,KAAKe,OAAOC,QAAQ,KAAKlB,EAAG,UAAU,CAACG,YAAY,QAAQC,MAAM,CAAC,MAAQ,GAAG,WAAa,GAAG,aAAa,QAAQ,cAAc,SAAS,WAAa,KAAK,MAAQ,GAAG,cAAc,GAAG,gBAAgB,OAAO,OAASN,EAAIS,OAAO,eAAe,OAAO,iBAAiB,OAAO,OAAST,EAAIqB,OAAO,MAAQJ,OAAOC,OAAOlB,EAAII,KAAKe,OAAOG,WAAWT,GAAG,CAAC,eAAeb,EAAIuB,eAAeC,YAAYxB,EAAIyB,GAAG,CAAC,CAACC,IAAI,eAAeC,GAAG,SAASC,GAAM,MAAO,CAAC1B,EAAG,MAAM,CAAC2B,YAAY,CAAC,MAAQ,UAAU,CAAC3B,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,KAAK,QAAU,gBAAgBO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI8B,MAAMF,EAAKG,KAAKC,OAAO,IAAI,CAAC9B,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,QAAQ,QAAU,SAAS,cAAc,WAAW,IAAI,GAAG,IAAI,MAAK,EAAM,cAAc,GAAGN,EAAIiC,IAC9+C,EACIC,EAAkB,GCmEtB,GACAC,KAAA,cACAP,OACA,OACAnB,OAAA,KACAY,OAAA,CACA,CACAK,IAAA,KACAU,MAAA,OACAC,UAAA,GAEA,CACAX,IAAA,OACAU,MAAA,OAEAE,UAAA9B,GACA,KAAA+B,eAAA,IAAAC,KAAAhC,GAAA,KAEA6B,UAAA,GAEA,CAAAX,IAAA,SACAU,MAAA,SACAK,WAAA,SACAC,YAAA,wBAIA,EACAC,QAAA,CAIApB,cAAAqB,QACAC,GAAAD,EAAA,KACA,KAAAE,UAAA,CAAAC,GAAAH,EAAA,GAAAG,KAEA,KAAAC,MAAA,QAIA,EACAlB,MAAAE,GACAiB,QAAAC,IAAAlB,GACA,KAAAmB,OAAAC,OAAA,gCAAApB,GACA,KAAAqB,eACA,KAAAC,cACA,GAEAC,MAAA,CACAC,iBACA,KAAAH,cACA,GAEAI,SAAA,CACArD,KAAA,CACAsD,OAAA,EACAC,MACA,YAAAR,OAAAS,MAAAC,UAAAC,SACA,GAEAN,iBACA,YAAAL,OAAAS,MAAAG,MAAAP,cACA,ICnI2P,I,UCQvPQ,GAAY,OACd,EACAjE,EACAmC,GACA,EACA,KACA,WACA,MAIF,EAAe8B,EAAiB,O","sources":["webpack://noosphere/./src/views/RoomHistory.vue","webpack://noosphere/src/views/RoomHistory.vue","webpack://noosphere/./src/views/RoomHistory.vue?53fd","webpack://noosphere/./src/views/RoomHistory.vue?c78b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.user != null)?_c('b-container',{staticClass:\"room-history\",attrs:{\"fluid\":\"\"}},[_c('b-col',{staticClass:\"my-1\",attrs:{\"lg\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Filter\",\"label-for\":\"filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-input-group',{attrs:{\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Find in Room History\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":!_vm.filter},on:{\"click\":function($event){_vm.filter = ''}}},[_vm._v(\"Clear\")])],1)],1)],1)],1),_vm._v(\" \"+_vm._s(Object.values(_vm.user.rooms).length)+\" \"),_c('b-table',{staticClass:\"table\",attrs:{\"small\":\"\",\"selectable\":\"\",\"max-height\":\"400px\",\"select-mode\":\"single\",\"responsive\":\"sm\",\"hover\":\"\",\"caption-top\":\"\",\"table-variant\":\"info\",\"filter\":_vm.filter,\"sort-by.sync\":\"date\",\"sort-direction\":\"desc\",\"fields\":_vm.fields,\"items\":Object.values(_vm.user.rooms).reverse()},on:{\"row-selected\":_vm.onRowSelected},scopedSlots:_vm._u([{key:\"cell(delete)\",fn:function(data){return [_c('div',{staticStyle:{\"float\":\"right\"}},[_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-info\"},on:{\"click\":function($event){return _vm.trash(data.item.roomID)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\",\"variant\":\"danger\",\"aria-hidden\":\"true\"}})],1)],1)]}}],null,false,112718911)})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container fluid class=\"room-history\" v-if=\"user != null\">\r\n\r\n    <!-- {{ user .rooms}} -->\r\n    <b-col lg=\"6\" class=\"my-1\">\r\n      <b-form-group\r\n      label=\"Filter\"\r\n      label-for=\"filter-input\"\r\n      label-cols-sm=\"3\"\r\n      label-align-sm=\"right\"\r\n      label-size=\"sm\"\r\n      class=\"mb-0\"\r\n      >\r\n      <b-input-group size=\"sm\">\r\n        <b-form-input\r\n        id=\"filter-input\"\r\n        v-model=\"filter\"\r\n        type=\"search\"\r\n        placeholder=\"Find in Room History\"\r\n        ></b-form-input>\r\n\r\n        <b-input-group-append>\r\n          <b-button :disabled=\"!filter\" @click=\"filter = ''\">Clear</b-button>\r\n        </b-input-group-append>\r\n      </b-input-group>\r\n    </b-form-group>\r\n  </b-col>\r\n  {{Object.values(user.rooms).length}}\r\n  <b-table\r\n  small\r\n  selectable\r\n  class=\"table\"\r\n  max-height=\"400px\"\r\n  select-mode=\"single\"\r\n  responsive=\"sm\"\r\n  hover\r\n  caption-top\r\n  table-variant=\"info\"\r\n  :filter=\"filter\"\r\n  sort-by.sync=\"date\"\r\n  sort-direction=\"desc\"\r\n  :fields=\"fields\"\r\n  @row-selected=\"onRowSelected\"\r\n  :items=\"Object.values(user.rooms).reverse()\">\r\n\r\n  <!-- <template #cell(date)=\"data\">\r\n  {{new Date(data.item.date).toLocaleString()}}\r\n</template> -->\r\n<template #cell(delete)=\"data\">\r\n  <!-- {{data}} -->\r\n  <div style=\"float:right\">\r\n    <b-button size=\"sm\" @click=\"trash(data.item.roomID)\" variant=\"outline-info\">\r\n      <b-icon icon=\"trash\" variant=\"danger\" aria-hidden=\"true\"></b-icon>\r\n    </b-button>\r\n  </div>\r\n</template>\r\n\r\n<!-- <template #cell(roomID)=\"data\">\r\n# TODO\r\n_rowVariant when = user.roomID\r\n</template> -->\r\n<!--    @filtered=\"onFiltered\"\r\nfilter-included-fields=\"['roomID']\"-->\r\n<!-- <template #table-caption>My Room History</template> -->\r\n</b-table>\r\n</b-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'RoomHistory',\r\n  data(){\r\n    return{\r\n      filter: null,\r\n      fields: [\r\n        {\r\n          key: 'id',\r\n          label: 'room',\r\n          sortable: true\r\n        },\r\n        {\r\n          key: 'date',\r\n          label: 'date',\r\n          // formatter: this.formatter,\r\n          formatter: value => {\r\n            return this.$secondsToHms((new Date()-value)/1000) //value.charAt(0).toUpperCase()\r\n          },\r\n          sortable: true\r\n        },\r\n        {key: 'delete',\r\n        label:'delete',\r\n        headerAbbr: 'delete',\r\n        headerTitle: 'delete from history'\r\n      }\r\n    ],\r\n  }\r\n},\r\nmethods: {\r\n  // formatter(value){\r\n  //   return this.$secondsToHms((new Date()-value)/1000)\r\n  // },\r\n  onRowSelected(r){\r\n    if(r[0]!= undefined){\r\n      this.$openRoom({id: r[0].id})\r\n      // this.$connect('room history')\r\n      this.$emit('hide')\r\n      // v-b-toggle.sidebar-right\r\n      // this.$bvSideBar.hide('sidebar-right')\r\n    }\r\n  },\r\n  trash(roomID){\r\n    console.log(roomID)\r\n    this.$store.commit('actor/removeRoomIDFromHistory', roomID)\r\n    this.$forceUpdate()\r\n    this.$userChanged()\r\n  }\r\n},\r\nwatch:{\r\n  historyUpdated(){\r\n    this.$forceUpdate()\r\n  }\r\n},\r\ncomputed: {\r\n  user: {\r\n    cache: false,\r\n    get() {\r\n      return this.$store.state.noosphere.localUser;\r\n    },\r\n  },\r\n  historyUpdated() {\r\n    return this.$store.state.actor.historyUpdated\r\n  }\r\n}\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.room-history {\r\n\r\n}\r\n.table{\r\n  max-height:\"400px\"\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomHistory.vue?vue&type=template&id=3c445222&scoped=true&\"\nimport script from \"./RoomHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomHistory.vue?vue&type=style&index=0&id=3c445222&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c445222\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","user","staticClass","attrs","model","value","filter","callback","$$v","expression","on","$event","_v","_s","Object","values","rooms","length","fields","reverse","onRowSelected","scopedSlots","_u","key","fn","data","staticStyle","trash","item","roomID","_e","staticRenderFns","name","label","sortable","formatter","$secondsToHms","Date","headerAbbr","headerTitle","methods","r","undefined","$openRoom","id","$emit","console","log","$store","commit","$forceUpdate","$userChanged","watch","historyUpdated","computed","cache","get","state","noosphere","localUser","actor","component"],"sourceRoot":""}