{"version":3,"file":"js/profile.b119dcca.js","mappings":"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","sources":["webpack://noosphere/./src/views/UserProfile.vue","webpack://noosphere/src/views/UserProfile.vue","webpack://noosphere/./src/views/UserProfile.vue?5f15","webpack://noosphere/./src/views/UserProfile.vue?95c2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{staticClass:\"user-profile text-light\"},[_c('b-card',{staticClass:\"text-center mb-2\",staticStyle:{\"max-width\":\"20rem\"},attrs:{\"bg-variant\":\"info\",\"text-variant\":\"white\",\"header\":\"Profile\",\"tag\":\"article\"}},[_c('b-card-title',[_vm._v(\" username\"),_c('b-input',{attrs:{\"placeholder\":\"username\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}})],1),_c('b-card-text',[_vm._v(\" prefered color \"),_c('b-input',{attrs:{\"type\":\"color\"},model:{value:(_vm.user.color),callback:function ($$v) {_vm.$set(_vm.user, \"color\", $$v)},expression:\"user.color\"}})],1),_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1),_c('br'),_c('b-button',{attrs:{\"variant\":\"outline-info\",\"size\":\"sm\"},on:{\"click\":_vm.randomUser}},[_vm._v(\"random user\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"size\":\"sm\"},on:{\"click\":_vm.download}},[_vm._v(\"download this identity\")]),_c('b-form-file',{attrs:{\"state\":Boolean(_vm.identityFile),\"placeholder\":\"Choose a identity file or drop it here...\",\"drop-placeholder\":\"Drop identity file here...\"},model:{value:(_vm.identityFile),callback:function ($$v) {_vm.identityFile=$$v},expression:\"identityFile\"}}),_c('div',{staticClass:\"mt-3\"},[_vm._v(\"Selected file: \"+_vm._s(_vm.identityFile ? _vm.identityFile.name : ''))]),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"size\":\"sm\"},on:{\"click\":_vm.removeUser}},[_vm._v(\"remove from this device\")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.user)+\" \")],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container class=\"user-profile text-light\">\n    <!-- Profile -->\n\n\n\n    <!-- <b-button @click=\"userChanged\" variant=\"info\" size=\"sm\">Update user</b-button> -->\n\n\n    <!-- title=\"Card Title\"\n    img-src=\"https://picsum.photos/600/300/?image=25\"\n    img-alt=\"Image\"\n    img-top -->\n\n\n    <b-card\n    bg-variant=\"info\" text-variant=\"white\" header=\"Profile\"\n    class=\"text-center mb-2\"\n    tag=\"article\"\n    style=\"max-width: 20rem;\"\n    >\n    <b-card-title>\n      username<b-input v-model=\"user.name\" placeholder=\"username\" />\n    </b-card-title>\n    <b-card-text>\n      prefered color\n      <b-input v-model=\"user.color\" type=\"color\" />\n      <!-- Some quick example text to build on the card title and make up the bulk of the card's content. -->\n    </b-card-text>\n\n    <b-button @click=\"save\" variant=\"primary\">Save</b-button>\n  </b-card>\n\n\n  <br>\n  <b-button @click=\"randomUser\" variant=\"outline-info\" size=\"sm\">random user</b-button>\n  <b-button variant=\"outline-primary\" size=\"sm\" @click=\"download\">download this identity</b-button>\n  <b-form-file\n  v-model=\"identityFile\"\n  :state=\"Boolean(identityFile)\"\n  placeholder=\"Choose a identity file or drop it here...\"\n  drop-placeholder=\"Drop identity file here...\"\n  ></b-form-file>\n  <div class=\"mt-3\">Selected file: {{ identityFile ? identityFile.name : '' }}</div>\n  <!-- <b-button variant=\"outline-primary\" size=\"sm\" @click=\"import\">import identity</b-button> -->\n  <b-button variant=\"outline-primary\" @click=\"removeUser\" size=\"sm\">remove from this device</b-button>\n  <br>\n  {{ user }}\n</b-container>\n</template>\n\n<script>\nexport default {\n  name: 'UserProfile',\n  data(){\n    return{\n      identityFile: null\n    }\n  },\n  methods:{\n    async randomUser(){\n      let user = await this.$randomUser()\n      console.log(user)\n      this.$store.commit('core/setUser', user)\n      // this.$userChanged()\n      // this.userChanged()\n    },\n    save(){\n      this.$store.commit('core/setUser', this.user)\n      this.$userChanged()\n      this.$router.push('/')\n    },\n    removeUser(){\n      this.$removeUser()\n      this.randomUser()\n    },\n    async upload (file, cb){\n      const fileReader = new FileReader()\n\n      await fileReader.addEventListener('load', () => {\n        cb(fileReader.result)\n      })\n      fileReader.readAsText(file, \"UTF-8\")\n      // console.log(result)\n      // return result\n    },\n    populateIdentity(data){\n      console.log('populate', data)\n      let user = JSON.parse(data)\n      this.$store.commit('core/setUser', user)\n      this.$userChanged()\n    },\n    download(){\n      console.log(this.user)\n      var contenu = JSON.stringify(this.user, null, 2) //`{\"test\": \"json\" }` //this.content\n      //console.log(\"todo: poser la question compresser\",contenu)\n      //  var format = \"json\" //this.format;\n      //  console.log(contenu, format)\n      let suggested = this.user.name //\"Brain_\"+Date.now()\n      var filename = prompt(\"Choose a name for the exported file :\", suggested);\n      if (filename == null || filename == \"\") {\n        return;\n      }\n\n      let contentType = 'application/json';\n      let fileNameToSaveAs = filename + \".json\";\n\n      var textFileAsBlob = new Blob([contenu], { type: contentType }\n      );\n      var downloadLink = document.createElement(\"a\");\n      downloadLink.download = fileNameToSaveAs;\n      downloadLink.innerHTML = \"Download File\";\n      if(navigator.userAgent.indexOf(\"Chrome\") != -1) {\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n      } else {\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n        downloadLink.target=\"_blank\";\n        downloadLink.style.display = \"none\";\n        document.body.appendChild(downloadLink);\n      }\n      var event = document.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\n        \"click\", true, false, window, 0, 0, 0, 0, 0\n        , false, false, false, false, 0, null\n      );\n      downloadLink.dispatchEvent(event);\n      setTimeout(function(){\n        document.body.removeChild(downloadLink);\n        window.URL.revokeObjectURL(downloadLink);\n      }, 1000);\n    }\n  },\n  watch:{\n    identityFile(){\n      console.log(this.identityFile)\n      this.upload(this.identityFile, this.populateIdentity)\n    }\n  },\n  computed:{\n    user(){\n      return this.$store.state.core.user\n    },\n    // uploads(){\n    //   return this.$store.state.core.uploads\n    // }\n  }\n\n\n}\n</script>\n\n<style lang=\"css\" scoped>\n.user-profile {\n\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfile.vue?vue&type=template&id=58bd784f&scoped=true&\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserProfile.vue?vue&type=style&index=0&id=58bd784f&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58bd784f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","_v","model","value","user","name","callback","$$v","$set","expression","color","on","save","randomUser","download","Boolean","identityFile","_s","removeUser","staticRenderFns","data","methods","console","cb","fileReader","populateIdentity","type","downloadLink","document","event","window","setTimeout","watch","computed","component"],"sourceRoot":""}