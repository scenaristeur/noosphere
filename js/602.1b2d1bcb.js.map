{"version":3,"file":"js/602.1b2d1bcb.js","mappings":"8JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAoB,MAAZF,EAAII,KAAcF,EAAG,cAAc,CAACG,YAAY,eAAeC,MAAM,CAAC,MAAQ,KAAK,CAACJ,EAAG,QAAQ,CAACG,YAAY,OAAOC,MAAM,CAAC,GAAK,MAAM,CAACJ,EAAG,eAAe,CAACG,YAAY,OAAOC,MAAM,CAAC,MAAQ,SAAS,YAAY,eAAe,gBAAgB,IAAI,iBAAiB,QAAQ,aAAa,OAAO,CAACJ,EAAG,gBAAgB,CAACI,MAAM,CAAC,KAAO,OAAO,CAACJ,EAAG,eAAe,CAACI,MAAM,CAAC,GAAK,eAAe,KAAO,SAAS,YAAc,wBAAwBC,MAAM,CAACC,MAAOR,EAAIS,OAAQC,SAAS,SAAUC,GAAMX,EAAIS,OAAOE,CAAI,EAACC,WAAW,YAAYV,EAAG,uBAAuB,CAACA,EAAG,WAAW,CAACI,MAAM,CAAC,UAAYN,EAAIS,QAAQI,GAAG,CAAC,MAAQ,SAASC,GAAQd,EAAIS,OAAS,EAAG,IAAG,CAACT,EAAIe,GAAG,YAAY,IAAI,IAAI,IAAI,GAAGf,EAAIe,GAAG,IAAIf,EAAIgB,GAAGC,OAAOC,OAAOlB,EAAII,KAAKe,OAAOC,QAAQ,KAAKlB,EAAG,UAAU,CAACG,YAAY,QAAQC,MAAM,CAAC,MAAQ,GAAG,WAAa,GAAG,aAAa,QAAQ,cAAc,SAAS,WAAa,KAAK,MAAQ,GAAG,cAAc,GAAG,gBAAgB,OAAO,OAASN,EAAIS,OAAO,eAAe,OAAO,iBAAiB,OAAO,OAAST,EAAIqB,OAAO,MAAQJ,OAAOC,OAAOlB,EAAII,KAAKe,OAAOG,WAAWT,GAAG,CAAC,eAAeb,EAAIuB,eAAeC,YAAYxB,EAAIyB,GAAG,CAAC,CAACC,IAAI,eAAeC,GAAG,SAASC,GAAM,MAAO,CAAC1B,EAAG,MAAM,CAAC2B,YAAY,CAAC,MAAQ,UAAU,CAAC3B,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,KAAK,QAAU,gBAAgBO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI8B,MAAMF,EAAKG,KAAKC,OAAQ,IAAG,CAAC9B,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,QAAQ,QAAU,SAAS,cAAc,WAAW,IAAI,GAAI,IAAG,MAAK,EAAM,eAAe,GAAGN,EAAIiC,IAC9+C,EACGC,EAAkB,GCkEtB,GACAC,KAAAA,cACAP,OACA,OACAnB,OAAAA,KACAY,OAAAA,CACA,CACAK,IAAAA,SACAU,MAAAA,OACAC,UAAAA,GAEA,CACAX,IAAAA,OACAU,MAAAA,OAEAE,UAAAA,GACA,qCAEAD,UAAAA,GAEA,CAAAX,IAAAA,SACAU,MAAAA,SACAG,WAAAA,SACAC,YAAAA,wBAIA,EACAC,QAAS,CAITlB,cAAAA,QACA,UACA,6BACA,iBACA,mBAIA,EACAO,MAAAA,GACAY,QAAAA,IAAAA,GACA,sDACA,oBACA,mBACA,GAEAC,MAAAA,CACAC,iBACA,mBACA,GAEAC,SAAU,CACVzC,KAAAA,CACA0C,OAAAA,EACAC,MACA,mCACA,GAEAH,iBACA,6CACA,IClI2P,I,UCQvPI,GAAY,OACd,EACAjD,EACAmC,GACA,EACA,KACA,WACA,MAIF,EAAec,EAAiB,O","sources":["webpack://noosphere/./src/views/RoomHistory.vue","webpack://noosphere/src/views/RoomHistory.vue","webpack://noosphere/./src/views/RoomHistory.vue?53fd","webpack://noosphere/./src/views/RoomHistory.vue?c78b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.user != null)?_c('b-container',{staticClass:\"room-history\",attrs:{\"fluid\":\"\"}},[_c('b-col',{staticClass:\"my-1\",attrs:{\"lg\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Filter\",\"label-for\":\"filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-input-group',{attrs:{\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Find in Room History\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":!_vm.filter},on:{\"click\":function($event){_vm.filter = ''}}},[_vm._v(\"Clear\")])],1)],1)],1)],1),_vm._v(\" \"+_vm._s(Object.values(_vm.user.rooms).length)+\" \"),_c('b-table',{staticClass:\"table\",attrs:{\"small\":\"\",\"selectable\":\"\",\"max-height\":\"400px\",\"select-mode\":\"single\",\"responsive\":\"sm\",\"hover\":\"\",\"caption-top\":\"\",\"table-variant\":\"info\",\"filter\":_vm.filter,\"sort-by.sync\":\"date\",\"sort-direction\":\"desc\",\"fields\":_vm.fields,\"items\":Object.values(_vm.user.rooms).reverse()},on:{\"row-selected\":_vm.onRowSelected},scopedSlots:_vm._u([{key:\"cell(delete)\",fn:function(data){return [_c('div',{staticStyle:{\"float\":\"right\"}},[_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-info\"},on:{\"click\":function($event){return _vm.trash(data.item.roomId)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\",\"variant\":\"danger\",\"aria-hidden\":\"true\"}})],1)],1)]}}],null,false,3920729823)})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container fluid class=\"room-history\" v-if=\"user != null\">\n\n    <b-col lg=\"6\" class=\"my-1\">\n      <b-form-group\n      label=\"Filter\"\n      label-for=\"filter-input\"\n      label-cols-sm=\"3\"\n      label-align-sm=\"right\"\n      label-size=\"sm\"\n      class=\"mb-0\"\n      >\n      <b-input-group size=\"sm\">\n        <b-form-input\n        id=\"filter-input\"\n        v-model=\"filter\"\n        type=\"search\"\n        placeholder=\"Find in Room History\"\n        ></b-form-input>\n\n        <b-input-group-append>\n          <b-button :disabled=\"!filter\" @click=\"filter = ''\">Clear</b-button>\n        </b-input-group-append>\n      </b-input-group>\n    </b-form-group>\n  </b-col>\n  {{Object.values(user.rooms).length}}\n  <b-table\n  small\n  selectable\n  class=\"table\"\n  max-height=\"400px\"\n  select-mode=\"single\"\n  responsive=\"sm\"\n  hover\n  caption-top\n  table-variant=\"info\"\n  :filter=\"filter\"\n  sort-by.sync=\"date\"\n  sort-direction=\"desc\"\n  :fields=\"fields\"\n  @row-selected=\"onRowSelected\"\n  :items=\"Object.values(user.rooms).reverse()\">\n\n  <!-- <template #cell(date)=\"data\">\n  {{new Date(data.item.date).toLocaleString()}}\n</template> -->\n<template #cell(delete)=\"data\">\n  <!-- {{data}} -->\n  <div style=\"float:right\">\n    <b-button size=\"sm\" @click=\"trash(data.item.roomId)\" variant=\"outline-info\">\n      <b-icon icon=\"trash\" variant=\"danger\" aria-hidden=\"true\"></b-icon>\n    </b-button>\n  </div>\n</template>\n\n<!-- <template #cell(roomId)=\"data\">\n# TODO\n_rowVariant when = user.roomId\n</template> -->\n<!--    @filtered=\"onFiltered\"\nfilter-included-fields=\"['roomId']\"-->\n<!-- <template #table-caption>My Room History</template> -->\n</b-table>\n</b-container>\n</template>\n\n<script>\nexport default {\n  name: 'RoomHistory',\n  data(){\n    return{\n      filter: null,\n      fields: [\n        {\n          key: 'roomId',\n          label: 'room',\n          sortable: true\n        },\n        {\n          key: 'date',\n          label: 'date',\n          // formatter: this.formatter,\n          formatter: value => {\n             return this.$secondsToHms((new Date()-value)/1000) //value.charAt(0).toUpperCase()\n           },\n          sortable: true\n        },\n        {key: 'delete',\n        label:'delete',\n        headerAbbr: 'delete',\n        headerTitle: 'delete from history'\n      }\n    ],\n  }\n},\nmethods: {\n  // formatter(value){\n  //   return this.$secondsToHms((new Date()-value)/1000)\n  // },\n  onRowSelected(r){\n    if(r[0]!= undefined){\n      this.user.roomId = r[0].roomId\n      this.$openRoom()\n      this.$emit('hide')\n      // v-b-toggle.sidebar-right\n      // this.$bvSideBar.hide('sidebar-right')\n    }\n  },\n  trash(roomId){\n    console.log(roomId)\n    this.$store.commit('actor/removeRoomIdFromHistory', roomId)\n    this.$forceUpdate()\n    this.$userChanged()\n  }\n},\nwatch:{\n  historyUpdated(){\n    this.$forceUpdate()\n  }\n},\ncomputed: {\n  user: {\n    cache: false,\n    get() {\n      return this.$store.state.actor.user;\n    },\n  },\n  historyUpdated() {\n    return this.$store.state.actor.historyUpdated\n  }\n}\n\n}\n</script>\n\n<style lang=\"css\" scoped>\n.room-history {\n\n}\n.table{\n  max-height:\"400px\"\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomHistory.vue?vue&type=template&id=7a5a51c4&scoped=true&\"\nimport script from \"./RoomHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomHistory.vue?vue&type=style&index=0&id=7a5a51c4&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a5a51c4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","user","staticClass","attrs","model","value","filter","callback","$$v","expression","on","$event","_v","_s","Object","values","rooms","length","fields","reverse","onRowSelected","scopedSlots","_u","key","fn","data","staticStyle","trash","item","roomId","_e","staticRenderFns","name","label","sortable","formatter","headerAbbr","headerTitle","methods","console","watch","historyUpdated","computed","cache","get","component"],"sourceRoot":""}