{"version":3,"file":"js/394.0b246375.js","mappings":"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","sources":["webpack://noosphere/./src/views/Web3Modal.vue","webpack://noosphere/src/views/Web3Modal.vue","webpack://noosphere/./src/views/Web3Modal.vue?dc3e","webpack://noosphere/./src/views/Web3Modal.vue?15f9"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"modal-pin\",\"title\":\"Pin Data on Web3.storage\",\"size\":\"lg\"},on:{\"shown\":_vm.populate}},[_c('b-row',{staticClass:\"my-1\"},[_c('b-col',{attrs:{\"sm\":\"2\"}},[_c('label',{attrs:{\"for\":\"input-small\"}},[_vm._v(\"Filename:\")])]),_c('b-col',{attrs:{\"sm\":\"10\"}},[_c('b-input',{attrs:{\"size\":\"sm\",\"placeholder\":\"filename\"},model:{value:(_vm.fileName),callback:function ($$v) {_vm.fileName=$$v},expression:\"fileName\"}})],1)],1),_vm._v(\" Content: \"),_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Enter something...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('b-button',{attrs:{\"disabled\":_vm.token == null},on:{\"click\":_vm.pin}},[_vm._v(\"Pin it\")]),_c('br'),_vm._v(\" see \"),_c('a',{attrs:{\"href\":\"https://web3.storage/docs/\",\"target\":\"_blank\"}},[_vm._v(\" https://web3.storage/docs/\")]),_vm._v(\" (1GB free)\"),_c('br'),_c('a',{attrs:{\"href\":\"https://web3.storage/tokens/\",\"target\":\"_blank\"}},[_vm._v(\"my web3.storage tokens\")]),_c('b-row',{staticClass:\"my-1\"},[_c('b-col',{attrs:{\"sm\":\"2\"}},[_c('label',{attrs:{\"for\":\"input-small\"}},[_vm._v(\"Token:\")])]),_c('b-col',{attrs:{\"sm\":\"10\"}},[_c('b-input',{attrs:{\"id\":\"input-small\",\"size\":\"sm\",\"placeholder\":\"web3.storage token\",\"type\":\"password\"},on:{\"input\":_vm.tokenChanged},model:{value:(_vm.token),callback:function ($$v) {_vm.token=$$v},expression:\"token\"}})],1)],1),_c('ul',_vm._l((_vm.messages),function(m,i){return _c('li',{key:i},[_vm._v(_vm._s(m))])}),0),_c('br'),(_vm.cid != null)?_c('span',[_vm._v(\" saved on ipfs with cid \"),_c('a',{attrs:{\"href\":'https://'+_vm.cid+'.ipfs.w3s.link/',\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.cid))])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-modal id=\"modal-pin\" title=\"Pin Data on Web3.storage\" size=\"lg\" @shown=\"populate\">\r\n\r\n    <b-row class=\"my-1\">\r\n      <b-col sm=\"2\">\r\n        <label for=\"input-small\" >Filename:</label>\r\n      </b-col>\r\n      <b-col sm=\"10\">\r\n        <b-input v-model=\"fileName\" size=\"sm\" placeholder=\"filename\" />\r\n        <!-- <b-form-input id=\"input-small\" size=\"sm\" placeholder=\"Enter your name\"></b-form-input> -->\r\n      </b-col>\r\n    </b-row>\r\n\r\n    Content:\r\n    <b-form-textarea\r\n    id=\"textarea\"\r\n    v-model=\"data\"\r\n    placeholder=\"Enter something...\"\r\n    rows=\"3\"\r\n    max-rows=\"6\"\r\n    ></b-form-textarea>\r\n    <b-button @click=\"pin\" :disabled=\"token == null\">Pin it</b-button>\r\n    <br>\r\n\r\n    see <a href=\"https://web3.storage/docs/\" target=\"_blank\"> https://web3.storage/docs/</a> (1GB free)<br>\r\n    <a href=\"https://web3.storage/tokens/\" target=\"_blank\">my web3.storage tokens</a>\r\n\r\n    <b-row class=\"my-1\">\r\n      <b-col sm=\"2\">\r\n        <label for=\"input-small\">Token:</label>\r\n      </b-col>\r\n      <b-col sm=\"10\">\r\n        <b-input\r\n        id=\"input-small\"\r\n        v-model=\"token\"\r\n        @input=\"tokenChanged\"\r\n        size=\"sm\"\r\n        placeholder=\"web3.storage token\"\r\n        type=\"password\" />\r\n      </b-col>\r\n    </b-row>\r\n\r\n\r\n\r\n    <ul>\r\n\r\n      <li v-for=\"m,i of messages\" :key=i>{{m}}</li>\r\n    </ul>\r\n    <br>\r\n    <span v-if=\"cid != null\">\r\n\r\n      saved on ipfs with cid\r\n      <a :href=\"'https://'+cid+'.ipfs.w3s.link/'\" target=\"_blank\">{{cid}}</a>\r\n    </span>\r\n\r\n    <!-- {{uploads}} -->\r\n\r\n    <!-- <div v-if=\"uploads != null && uploads.length> 0\">\r\n    Your 20 last uploads :\r\n\r\n    <ul>\r\n    <li v-for=\"u in uploads\" :key=\"u._id\">\r\n\r\n    <b-button class=\"m-0\" size=\"sm\" @click=\"clickUpload(u)\">{{u.name}}</b-button>\r\n\r\n  </li>\r\n</ul>\r\n\r\n</div> -->\r\n\r\n</b-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Web3Modal',\r\n  data() {\r\n    return {\r\n      data: null,\r\n      fileName: \"\",\r\n      // messages: [],\r\n      cid: null,\r\n      token: null\r\n    }\r\n  },\r\n  async created(){\r\n    this.token = this.$store.state.web3.token\r\n    console.log(this.token)\r\n    // this.$solidRoomList()\r\n    // this.$solidCreateRoom('Room_'+Date.now())\r\n  },\r\n  methods:{\r\n    populate(){\r\n      console.log('populate')\r\n      this.$store.commit('web3/resetPinMessages')\r\n      let now = Date.now()\r\n      //let data = this.$roomToJson(this.user.roomID)\r\n\r\n      // let data = this.$store.state.editor.editorData\r\n      // delete data.clientID\r\n      //  data.roomID = this.user.roomID\r\n      //  data.timestamp = now\r\n      //data.creator = this.user.name\r\n      //let prefix = 'noos'\r\n      let separator = '_'\r\n      // this.fileName = prefix+separator+this.user.roomID+separator+Date.now()\r\n      console.log(this.user)\r\n      this.fileName = this.user.roomID+separator+now\r\n      //data.filename = this.fileName\r\n\r\n      // this.data = JSON.stringify(data, null, 2)\r\n      this.data = this.$store.state.editor.markdownContent\r\n      console.log(this.data)\r\n      // this.fileName = this.user.roomID\r\n      this.cid = null\r\n    },\r\n    async pin(){\r\n      let data = {content: this.data, parent: this.user.roomID}\r\n      this.cid = await this.$web3Pin({data: JSON.stringify(data), fileName: this.fileName})\r\n    },\r\n    async tokenChanged(){\r\n      localStorage.setItem('noosphere-web3storage-token', this.token);\r\n      await this.$web3list(this.token)\r\n      //console.log(\"Web3 uploads\",uploads)\r\n    },\r\n  },\r\n  watch:{\r\n    web3Token(){\r\n      this.token = this.web3Token\r\n    },\r\n    // fileName(){\r\n    //   this.populate()\r\n    // }\r\n    // token(){\r\n    //   if (this.token!= null){\r\n    //     this.tokenChanged()\r\n    //     // let uploads = this.$web3list(this.token)\r\n    //     // console.log(\"Web3 uploads\",uploads)\r\n    //   }\r\n    // }\r\n  },\r\n  computed: {\r\n    web3Token(){\r\n      return this.$store.state.web3.token\r\n    },\r\n    user() {\r\n      return this.$store.state.noosphere.localUser\r\n    },\r\n    messages(){\r\n      return this.$store.state.web3.pinMessages\r\n    },\r\n    markdownContent(){\r\n      return this.$store.state.editor.markdownContent\r\n    }\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Web3Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Web3Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Web3Modal.vue?vue&type=template&id=1d713c59&\"\nimport script from \"./Web3Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Web3Modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","populate","staticClass","_v","model","value","fileName","callback","$$v","expression","data","token","pin","tokenChanged","_l","messages","m","i","key","_s","cid","_e","staticRenderFns","name","$store","state","web3","console","log","methods","commit","now","Date","separator","user","roomID","editor","markdownContent","content","parent","$web3Pin","JSON","stringify","localStorage","setItem","$web3list","watch","web3Token","computed","noosphere","localUser","pinMessages","component"],"sourceRoot":""}