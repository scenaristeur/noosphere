{"version":3,"file":"js/profile.ae408301.js","mappings":"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","sources":["webpack://noosphere/./src/views/UserProfile.vue","webpack://noosphere/src/views/UserProfile.vue","webpack://noosphere/./src/views/UserProfile.vue?5f15","webpack://noosphere/./src/views/UserProfile.vue?95c2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{staticClass:\"user-profile text-light\"},[_c('b-card-group',{attrs:{\"columns\":\"\"}},[_c('b-card',{staticClass:\"text-center mb-2\",staticStyle:{\"max-width\":\"20rem\"},attrs:{\"bg-variant\":\"info\",\"text-variant\":\"white\",\"header\":\"Profile\",\"tag\":\"article\"}},[_c('b-card-title',[_vm._v(\" username\"),_c('b-input',{attrs:{\"placeholder\":\"username\"},model:{value:(_vm.localUser.name),callback:function ($$v) {_vm.$set(_vm.localUser, \"name\", $$v)},expression:\"localUser.name\"}})],1),_c('b-card-text',[_vm._v(\" prefered color \"),_c('b-input',{attrs:{\"type\":\"color\"},model:{value:(_vm.localUser.color),callback:function ($$v) {_vm.$set(_vm.localUser, \"color\", $$v)},expression:\"localUser.color\"}})],1),_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1),_c('b-card',{staticClass:\"text-center mb-2\",staticStyle:{\"max-width\":\"20rem\"},attrs:{\"bg-variant\":\"info\",\"text-variant\":\"white\",\"header\":\"IDentity Manager\",\"tag\":\"article\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"warning\"}},[_c('h4',{staticClass:\"alert-heading\"},[_vm._v(\"CAN NOT BE UNDONE !\")]),_c('p',[_vm._v(\" You will loose your history ! \")]),_c('hr'),_c('p',{staticClass:\"mb-0\"},[_vm._v(\" Be sur to download the actual identity before ! \")])]),_c('b-form-file',{attrs:{\"state\":Boolean(_vm.identityFile),\"placeholder\":\"Choose a identity file or drop it here...\",\"drop-placeholder\":\"Drop identity file here...\"},model:{value:(_vm.identityFile),callback:function ($$v) {_vm.identityFile=$$v},expression:\"identityFile\"}}),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-warning text-dark\"},on:{\"click\":_vm.randomUser}},[_c('b-icon',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-share\",modifiers:{\"modal-share\":true}}],attrs:{\"font-scale\":\"1.5\",\"icon\":\"dice3\",\"aria-hidden\":\"true\"}}),_vm._v(\"random user\")],1),_c('b-button',{attrs:{\"variant\":\"danger text-dark\",\"size\":\"sm\"},on:{\"click\":_vm.removeUser}},[_c('b-icon',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-share\",modifiers:{\"modal-share\":true}}],attrs:{\"font-scale\":\"1.5\",\"icon\":\"trash\",\"aria-hidden\":\"true\"}}),_vm._v(\"remove from this device\")],1)]},proxy:true}])},[_c('b-card-text',[_c('b-button',{attrs:{\"variant\":\"success text-dark\"},on:{\"click\":_vm.download}},[_c('b-icon',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-share\",modifiers:{\"modal-share\":true}}],attrs:{\"font-scale\":\"1.5\",\"icon\":\"download\",\"aria-hidden\":\"true\"}}),_vm._v(\"download this identity\")],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container class=\"user-profile text-light\">\r\n\r\n    <b-card-group columns>\r\n      <b-card\r\n      bg-variant=\"info\" text-variant=\"white\" header=\"Profile\"\r\n      class=\"text-center mb-2\"\r\n      tag=\"article\"\r\n      style=\"max-width: 20rem;\"\r\n      >\r\n      <b-card-title>\r\n        username<b-input v-model=\"localUser.name\" placeholder=\"username\" />\r\n      </b-card-title>\r\n      <b-card-text>\r\n        prefered color\r\n        <b-input v-model=\"localUser.color\" type=\"color\" />\r\n        <!-- Some quick example text to build on the card title and make up the bulk of the card's content. -->\r\n      </b-card-text>\r\n\r\n      <b-button @click=\"save\" variant=\"primary\">Save</b-button>\r\n    </b-card>\r\n\r\n    <b-card\r\n    bg-variant=\"info\" text-variant=\"white\" header=\"IDentity Manager\"\r\n    class=\"text-center mb-2\"\r\n    tag=\"article\"\r\n    style=\"max-width: 20rem;\"\r\n    >\r\n    <!-- <b-card-title>\r\n    username<b-input v-model=\"user.name\" placeholder=\"username\" />\r\n  </b-card-title> -->\r\n  <b-card-text>\r\n\r\n    <!-- <div class=\"mt-3\">Selected file: {{ identityFile ? identityFile.name : '' }}</div> -->\r\n    <!-- <b-button variant=\"outline-primary\" size=\"sm\" @click=\"import\">import identity</b-button> -->\r\n    <b-button variant=\"success text-dark\" @click=\"download\"><b-icon v-b-modal.modal-share font-scale=\"1.5\" icon=\"download\" aria-hidden=\"true\"></b-icon>download this identity</b-button>\r\n\r\n    <!-- prefered color\r\n    <b-input v-model=\"user.color\" type=\"color\" /> -->\r\n    <!-- Some quick example text to build on the card title and make up the bulk of the card's content. -->\r\n  </b-card-text>\r\n\r\n  <template #footer>\r\n\r\n\r\n\r\n\r\n    <b-alert show variant=\"warning\">\r\n      <h4 class=\"alert-heading\">CAN NOT BE UNDONE !</h4>\r\n      <p>\r\n        You will loose your history !\r\n      </p>\r\n      <hr>\r\n      <p class=\"mb-0\">\r\n        Be sur to download the actual identity before !\r\n      </p>\r\n    </b-alert>\r\n    <!-- <b-alert class=\"text-danger\" show>CAN NOT BE UNDONE ! <br>Be sur to downlaod the actual identity before !</b-alert> -->\r\n    <b-form-file\r\n    v-model=\"identityFile\"\r\n    :state=\"Boolean(identityFile)\"\r\n    placeholder=\"Choose a identity file or drop it here...\"\r\n    drop-placeholder=\"Drop identity file here...\"\r\n    ></b-form-file>\r\n    <b-button size=\"sm\" @click=\"randomUser\" variant=\"outline-warning text-dark\"><b-icon v-b-modal.modal-share font-scale=\"1.5\" icon=\"dice3\" aria-hidden=\"true\"></b-icon>random user</b-button>\r\n    <b-button variant=\"danger text-dark\" @click=\"removeUser\" size=\"sm\"><b-icon v-b-modal.modal-share font-scale=\"1.5\" icon=\"trash\" aria-hidden=\"true\"></b-icon>remove from this device</b-button>\r\n  </template>\r\n\r\n  <!-- <b-button @click=\"save\" variant=\"primary\">Save</b-button> -->\r\n</b-card>\r\n\r\n</b-card-group>\r\n\r\n<!-- <br> -->\r\n<!-- <b-button @click=\"randomUser\" variant=\"outline-info\" size=\"sm\">random user</b-button> -->\r\n\r\n<!-- <br> -->\r\n<!-- {{ user }} -->\r\n</b-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UserProfile',\r\n  data(){\r\n    return{\r\n      identityFile: null\r\n    }\r\n  },\r\n  methods:{\r\n    async randomUser(){\r\n      let user = await this.$randomUser()\r\n      console.log(user)\r\n      //this.$store.commit('noosphere/setLocalUser', user)\r\n      // this.$userChanged()\r\n      // this.userChanged()\r\n    },\r\n    save(){\r\n\r\n      this.$userChanged({color: this.localUser.color, name: this.localUser.name})\r\n      this.$router.push('/')\r\n    },\r\n    removeUser(){\r\n      this.$removeUser()\r\n      this.randomUser()\r\n    },\r\n    async upload (file, cb){\r\n      const fileReader = new FileReader()\r\n\r\n      await fileReader.addEventListener('load', () => {\r\n        cb(fileReader.result)\r\n      })\r\n      fileReader.readAsText(file, \"UTF-8\")\r\n      // console.log(result)\r\n      // return result\r\n    },\r\n    populateIDentity(data){\r\n      console.log('populate', data)\r\n      let user = JSON.parse(data)\r\n      // this.$store.commit('noosphere/setLocalUser', user)\r\n      this.$userChanged(user)\r\n    },\r\n    download(){\r\n      console.log(this.localUser)\r\n      var contenu = JSON.stringify(this.localUser, null, 2) //`{\"test\": \"json\" }` //this.content\r\n      //console.log(\"todo: poser la question compresser\",contenu)\r\n      //  var format = \"json\" //this.format;\r\n      //  console.log(contenu, format)\r\n      let suggested = this.localUser.name //\"Brain_\"+Date.now()\r\n      var filename = prompt(\"Choose a name for the exported file :\", suggested);\r\n      if (filename == null || filename == \"\") {\r\n        return;\r\n      }\r\n\r\n      let contentType = 'application/json';\r\n      let fileNameToSaveAs = filename + \".json\";\r\n\r\n      var textFileAsBlob = new Blob([contenu], { type: contentType }\r\n      );\r\n      var downloadLink = document.createElement(\"a\");\r\n      downloadLink.download = fileNameToSaveAs;\r\n      downloadLink.innerHTML = \"Download File\";\r\n      if(navigator.userAgent.indexOf(\"Chrome\") != -1) {\r\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\r\n      } else {\r\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\r\n        downloadLink.target=\"_blank\";\r\n        downloadLink.style.display = \"none\";\r\n        document.body.appendChild(downloadLink);\r\n      }\r\n      var event = document.createEvent(\"MouseEvents\");\r\n      event.initMouseEvent(\r\n        \"click\", true, false, window, 0, 0, 0, 0, 0\r\n        , false, false, false, false, 0, null\r\n      );\r\n      downloadLink.dispatchEvent(event);\r\n      setTimeout(function(){\r\n        document.body.removeChild(downloadLink);\r\n        window.URL.revokeObjectURL(downloadLink);\r\n      }, 1000);\r\n    }\r\n  },\r\n  watch:{\r\n    identityFile(){\r\n      console.log(this.identityFile)\r\n      this.upload(this.identityFile, this.populateIDentity)\r\n    }\r\n  },\r\n  computed:{\r\n    localUser(){\r\n      return this.$store.state.noosphere.localUser\r\n    },\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.user-profile {\r\n\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfile.vue?vue&type=template&id=d4f58482&scoped=true&\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserProfile.vue?vue&type=style&index=0&id=d4f58482&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d4f58482\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","staticStyle","_v","model","value","localUser","name","callback","$$v","$set","expression","color","on","save","scopedSlots","_u","key","fn","Boolean","identityFile","randomUser","directives","rawName","modifiers","removeUser","proxy","download","staticRenderFns","data","methods","user","$randomUser","console","log","$userChanged","$router","push","$removeUser","file","cb","fileReader","FileReader","addEventListener","result","readAsText","populateIDentity","JSON","parse","contenu","stringify","suggested","filename","prompt","contentType","fileNameToSaveAs","textFileAsBlob","Blob","type","downloadLink","document","createElement","innerHTML","navigator","userAgent","indexOf","href","window","URL","createObjectURL","target","style","display","body","appendChild","event","createEvent","initMouseEvent","dispatchEvent","setTimeout","removeChild","revokeObjectURL","watch","upload","computed","$store","state","noosphere","component"],"sourceRoot":""}