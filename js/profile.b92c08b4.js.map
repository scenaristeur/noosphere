{"version":3,"file":"js/profile.b92c08b4.js","mappings":"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","sources":["webpack://noosphere/./src/views/UserProfile.vue","webpack://noosphere/src/views/UserProfile.vue","webpack://noosphere/./src/views/UserProfile.vue?5f15","webpack://noosphere/./src/views/UserProfile.vue?95c2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{staticClass:\"user-profile text-light\"},[_c('b-card-group',{attrs:{\"columns\":\"\"}},[_c('b-card',{staticClass:\"text-center mb-2\",staticStyle:{\"max-width\":\"20rem\"},attrs:{\"bg-variant\":\"info\",\"text-variant\":\"white\",\"header\":\"Profile\",\"tag\":\"article\"}},[_c('b-card-title',[_vm._v(\" username\"),_c('b-input',{attrs:{\"placeholder\":\"username\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}})],1),_c('b-card-text',[_vm._v(\" prefered color \"),_c('b-input',{attrs:{\"type\":\"color\"},model:{value:(_vm.user.color),callback:function ($$v) {_vm.$set(_vm.user, \"color\", $$v)},expression:\"user.color\"}})],1),_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1),_c('b-card',{staticClass:\"text-center mb-2\",staticStyle:{\"max-width\":\"20rem\"},attrs:{\"bg-variant\":\"info\",\"text-variant\":\"white\",\"header\":\"Identity Manager\",\"tag\":\"article\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"warning\"}},[_c('h4',{staticClass:\"alert-heading\"},[_vm._v(\"CAN NOT BE UNDONE !\")]),_c('p',[_vm._v(\" You will loose your history ! \")]),_c('hr'),_c('p',{staticClass:\"mb-0\"},[_vm._v(\" Be sur to download the actual identity before ! \")])]),_c('b-form-file',{attrs:{\"state\":Boolean(_vm.identityFile),\"placeholder\":\"Choose a identity file or drop it here...\",\"drop-placeholder\":\"Drop identity file here...\"},model:{value:(_vm.identityFile),callback:function ($$v) {_vm.identityFile=$$v},expression:\"identityFile\"}}),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-warning text-dark\"},on:{\"click\":_vm.randomUser}},[_c('b-icon',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-share\",modifiers:{\"modal-share\":true}}],attrs:{\"font-scale\":\"1.5\",\"icon\":\"dice3\",\"aria-hidden\":\"true\"}}),_vm._v(\"random user\")],1),_c('b-button',{attrs:{\"variant\":\"danger text-dark\",\"size\":\"sm\"},on:{\"click\":_vm.removeUser}},[_c('b-icon',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-share\",modifiers:{\"modal-share\":true}}],attrs:{\"font-scale\":\"1.5\",\"icon\":\"trash\",\"aria-hidden\":\"true\"}}),_vm._v(\"remove from this device\")],1)]},proxy:true}])},[_c('b-card-text',[_c('b-button',{attrs:{\"variant\":\"success text-dark\"},on:{\"click\":_vm.download}},[_c('b-icon',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-share\",modifiers:{\"modal-share\":true}}],attrs:{\"font-scale\":\"1.5\",\"icon\":\"download\",\"aria-hidden\":\"true\"}}),_vm._v(\"download this identity\")],1)],1)],1)],1),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.user)+\" \")],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container class=\"user-profile text-light\">\n\n    <b-card-group columns>\n      <b-card\n      bg-variant=\"info\" text-variant=\"white\" header=\"Profile\"\n      class=\"text-center mb-2\"\n      tag=\"article\"\n      style=\"max-width: 20rem;\"\n      >\n      <b-card-title>\n        username<b-input v-model=\"user.name\" placeholder=\"username\" />\n      </b-card-title>\n      <b-card-text>\n        prefered color\n        <b-input v-model=\"user.color\" type=\"color\" />\n        <!-- Some quick example text to build on the card title and make up the bulk of the card's content. -->\n      </b-card-text>\n\n      <b-button @click=\"save\" variant=\"primary\">Save</b-button>\n    </b-card>\n\n    <b-card\n    bg-variant=\"info\" text-variant=\"white\" header=\"Identity Manager\"\n    class=\"text-center mb-2\"\n    tag=\"article\"\n    style=\"max-width: 20rem;\"\n    >\n    <!-- <b-card-title>\n    username<b-input v-model=\"user.name\" placeholder=\"username\" />\n  </b-card-title> -->\n  <b-card-text>\n\n    <!-- <div class=\"mt-3\">Selected file: {{ identityFile ? identityFile.name : '' }}</div> -->\n    <!-- <b-button variant=\"outline-primary\" size=\"sm\" @click=\"import\">import identity</b-button> -->\n    <b-button variant=\"success text-dark\" @click=\"download\"><b-icon v-b-modal.modal-share font-scale=\"1.5\" icon=\"download\" aria-hidden=\"true\"></b-icon>download this identity</b-button>\n\n    <!-- prefered color\n    <b-input v-model=\"user.color\" type=\"color\" /> -->\n    <!-- Some quick example text to build on the card title and make up the bulk of the card's content. -->\n  </b-card-text>\n\n  <template #footer>\n\n\n\n\n    <b-alert show variant=\"warning\">\n      <h4 class=\"alert-heading\">CAN NOT BE UNDONE !</h4>\n      <p>\n        You will loose your history !\n      </p>\n      <hr>\n      <p class=\"mb-0\">\n        Be sur to download the actual identity before !\n      </p>\n    </b-alert>\n    <!-- <b-alert class=\"text-danger\" show>CAN NOT BE UNDONE ! <br>Be sur to downlaod the actual identity before !</b-alert> -->\n    <b-form-file\n    v-model=\"identityFile\"\n    :state=\"Boolean(identityFile)\"\n    placeholder=\"Choose a identity file or drop it here...\"\n    drop-placeholder=\"Drop identity file here...\"\n    ></b-form-file>\n    <b-button size=\"sm\" @click=\"randomUser\" variant=\"outline-warning text-dark\"><b-icon v-b-modal.modal-share font-scale=\"1.5\" icon=\"dice3\" aria-hidden=\"true\"></b-icon>random user</b-button>\n    <b-button variant=\"danger text-dark\" @click=\"removeUser\" size=\"sm\"><b-icon v-b-modal.modal-share font-scale=\"1.5\" icon=\"trash\" aria-hidden=\"true\"></b-icon>remove from this device</b-button>\n  </template>\n\n  <!-- <b-button @click=\"save\" variant=\"primary\">Save</b-button> -->\n</b-card>\n\n</b-card-group>\n\n<br>\n<!-- <b-button @click=\"randomUser\" variant=\"outline-info\" size=\"sm\">random user</b-button> -->\n\n<br>\n{{ user }}\n</b-container>\n</template>\n\n<script>\nexport default {\n  name: 'UserProfile',\n  data(){\n    return{\n      identityFile: null\n    }\n  },\n  methods:{\n    async randomUser(){\n      let user = await this.$randomUser()\n      console.log(user)\n      this.$store.commit('core/setUser', user)\n      // this.$userChanged()\n      // this.userChanged()\n    },\n    save(){\n      this.$store.commit('core/setUser', this.user)\n      this.$userChanged()\n      this.$router.push('/')\n    },\n    removeUser(){\n      this.$removeUser()\n      this.randomUser()\n    },\n    async upload (file, cb){\n      const fileReader = new FileReader()\n\n      await fileReader.addEventListener('load', () => {\n        cb(fileReader.result)\n      })\n      fileReader.readAsText(file, \"UTF-8\")\n      // console.log(result)\n      // return result\n    },\n    populateIdentity(data){\n      console.log('populate', data)\n      let user = JSON.parse(data)\n      this.$store.commit('core/setUser', user)\n      this.$userChanged()\n    },\n    download(){\n      console.log(this.user)\n      var contenu = JSON.stringify(this.user, null, 2) //`{\"test\": \"json\" }` //this.content\n      //console.log(\"todo: poser la question compresser\",contenu)\n      //  var format = \"json\" //this.format;\n      //  console.log(contenu, format)\n      let suggested = this.user.name //\"Brain_\"+Date.now()\n      var filename = prompt(\"Choose a name for the exported file :\", suggested);\n      if (filename == null || filename == \"\") {\n        return;\n      }\n\n      let contentType = 'application/json';\n      let fileNameToSaveAs = filename + \".json\";\n\n      var textFileAsBlob = new Blob([contenu], { type: contentType }\n      );\n      var downloadLink = document.createElement(\"a\");\n      downloadLink.download = fileNameToSaveAs;\n      downloadLink.innerHTML = \"Download File\";\n      if(navigator.userAgent.indexOf(\"Chrome\") != -1) {\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n      } else {\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n        downloadLink.target=\"_blank\";\n        downloadLink.style.display = \"none\";\n        document.body.appendChild(downloadLink);\n      }\n      var event = document.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\n        \"click\", true, false, window, 0, 0, 0, 0, 0\n        , false, false, false, false, 0, null\n      );\n      downloadLink.dispatchEvent(event);\n      setTimeout(function(){\n        document.body.removeChild(downloadLink);\n        window.URL.revokeObjectURL(downloadLink);\n      }, 1000);\n    }\n  },\n  watch:{\n    identityFile(){\n      console.log(this.identityFile)\n      this.upload(this.identityFile, this.populateIdentity)\n    }\n  },\n  computed:{\n    user(){\n      return this.$store.state.core.user\n    },\n    // uploads(){\n    //   return this.$store.state.core.uploads\n    // }\n  }\n\n\n}\n</script>\n\n<style lang=\"css\" scoped>\n.user-profile {\n\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfile.vue?vue&type=template&id=6757766b&scoped=true&\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserProfile.vue?vue&type=style&index=0&id=6757766b&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6757766b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","staticStyle","_v","model","value","user","name","callback","$$v","$set","expression","color","on","save","scopedSlots","_u","key","fn","Boolean","identityFile","randomUser","directives","rawName","modifiers","removeUser","proxy","download","_s","staticRenderFns","data","methods","console","cb","fileReader","populateIdentity","type","downloadLink","document","event","window","setTimeout","watch","computed","component"],"sourceRoot":""}